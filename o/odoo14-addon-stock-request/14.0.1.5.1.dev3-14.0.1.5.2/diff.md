# Comparing `tmp/odoo14_addon_stock_request-14.0.1.5.1.dev3-py3-none-any.whl.zip` & `tmp/odoo14_addon_stock_request-14.0.1.5.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,73 +1,73 @@
-Zip file size: 201238 bytes, number of entries: 71
--rw-r--r--  2.0 unx     4586 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/__init__.py
--rw-r--r--  2.0 unx      951 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/__manifest__.py
--rw-r--r--  2.0 unx      683 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/data/stock_request_sequence_data.xml
--rw-r--r--  2.0 unx    48785 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/ca.po
--rw-r--r--  2.0 unx    53291 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/de.po
--rw-r--r--  2.0 unx    48805 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/el_GR.po
--rw-r--r--  2.0 unx    55162 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/es.po
--rw-r--r--  2.0 unx    48802 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/es_ES.po
--rw-r--r--  2.0 unx    48785 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/eu.po
--rw-r--r--  2.0 unx    48782 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/fi.po
--rw-r--r--  2.0 unx    55868 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/fr.po
--rw-r--r--  2.0 unx    48805 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/fr_CH.po
--rw-r--r--  2.0 unx    48800 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/fr_FR.po
--rw-r--r--  2.0 unx    48785 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/gl.po
--rw-r--r--  2.0 unx    48861 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/hr.po
--rw-r--r--  2.0 unx    48880 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/hr_HR.po
--rw-r--r--  2.0 unx    49155 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/it.po
--rw-r--r--  2.0 unx    48782 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/nl.po
--rw-r--r--  2.0 unx    48805 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/nl_NL.po
--rw-r--r--  2.0 unx    48787 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/pt.po
--rw-r--r--  2.0 unx    48804 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/pt_BR.po
--rw-r--r--  2.0 unx    48828 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/ro.po
--rw-r--r--  2.0 unx    48944 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/ru.po
--rw-r--r--  2.0 unx    48842 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/sl.po
--rw-r--r--  2.0 unx    48478 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/stock_request.pot
--rw-r--r--  2.0 unx    48782 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/tr.po
--rw-r--r--  2.0 unx    48800 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/tr_TR.po
--rw-r--r--  2.0 unx    48805 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/vi_VN.po
--rw-r--r--  2.0 unx    53236 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/i18n/zh_CN.po
--rw-r--r--  2.0 unx      524 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/migrations/14.0.1.3.0/noupdate_changes.xml
--rw-r--r--  2.0 unx      315 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/migrations/14.0.1.3.0/post-migration.py
--rw-r--r--  2.0 unx      432 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/__init__.py
--rw-r--r--  2.0 unx     1085 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/procurement_group.py
--rw-r--r--  2.0 unx      350 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/res_company.py
--rw-r--r--  2.0 unx     1234 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/res_config_settings.py
--rw-r--r--  2.0 unx     1474 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_location.py
--rw-r--r--  2.0 unx      870 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_location_route.py
--rw-r--r--  2.0 unx     2544 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_move.py
--rw-r--r--  2.0 unx     2826 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_move_line.py
--rw-r--r--  2.0 unx     1342 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_picking.py
--rw-r--r--  2.0 unx    13190 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_request.py
--rw-r--r--  2.0 unx     9515 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_request_abstract.py
--rw-r--r--  2.0 unx     2867 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_request_allocation.py
--rw-r--r--  2.0 unx    12957 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_request_order.py
--rw-r--r--  2.0 unx     1048 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_rule.py
--rw-r--r--  2.0 unx     1476 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/models/stock_warehouse.py
--rw-r--r--  2.0 unx      409 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      574 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      147 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      242 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/readme/ROADMAP.rst
--rw-r--r--  2.0 unx      493 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/readme/USAGE.rst
--rw-r--r--  2.0 unx     1994 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/security/ir.model.access.csv
--rw-r--r--  2.0 unx     6135 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/security/stock_request_security.xml
--rw-r--r--  2.0 unx    15218 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/static/description/icon.png
--rw-r--r--  2.0 unx     9771 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/static/description/icon.svg
--rw-r--r--  2.0 unx    15370 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/static/description/index.html
--rw-r--r--  2.0 unx       33 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/tests/__init__.py
--rw-r--r--  2.0 unx    43635 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/tests/test_stock_request.py
--rw-r--r--  2.0 unx     1129 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/product.xml
--rw-r--r--  2.0 unx     7735 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/res_config_settings_views.xml
--rw-r--r--  2.0 unx     1072 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/stock_move_views.xml
--rw-r--r--  2.0 unx     1036 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/stock_picking_views.xml
--rw-r--r--  2.0 unx     2650 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/stock_request_allocation_views.xml
--rw-r--r--  2.0 unx     1464 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/stock_request_menu.xml
--rw-r--r--  2.0 unx     9931 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/stock_request_order_views.xml
--rw-r--r--  2.0 unx    11359 b- defN 23-Feb-15 08:03 odoo/addons/stock_request/views/stock_request_views.xml
--rw-r--r--  2.0 unx     5150 b- defN 23-Feb-15 08:04 odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Feb-15 08:04 odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Feb-15 08:04 odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     7353 b- defN 23-Feb-15 08:04 odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/RECORD
-71 files, 1494746 bytes uncompressed, 189122 bytes compressed:  87.3%
+Zip file size: 201596 bytes, number of entries: 71
+-rw-r--r--  2.0 unx     4586 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/__init__.py
+-rw-r--r--  2.0 unx      951 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/__manifest__.py
+-rw-r--r--  2.0 unx      683 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/data/stock_request_sequence_data.xml
+-rw-r--r--  2.0 unx    48785 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/ca.po
+-rw-r--r--  2.0 unx    53291 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/de.po
+-rw-r--r--  2.0 unx    48805 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/el_GR.po
+-rw-r--r--  2.0 unx    55162 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/es.po
+-rw-r--r--  2.0 unx    48802 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/es_ES.po
+-rw-r--r--  2.0 unx    48785 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/eu.po
+-rw-r--r--  2.0 unx    48782 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/fi.po
+-rw-r--r--  2.0 unx    55868 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/fr.po
+-rw-r--r--  2.0 unx    48805 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/fr_CH.po
+-rw-r--r--  2.0 unx    48800 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/fr_FR.po
+-rw-r--r--  2.0 unx    48785 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/gl.po
+-rw-r--r--  2.0 unx    48861 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/hr.po
+-rw-r--r--  2.0 unx    48880 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/hr_HR.po
+-rw-r--r--  2.0 unx    49155 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/it.po
+-rw-r--r--  2.0 unx    48782 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/nl.po
+-rw-r--r--  2.0 unx    48805 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/nl_NL.po
+-rw-r--r--  2.0 unx    48787 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/pt.po
+-rw-r--r--  2.0 unx    48804 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/pt_BR.po
+-rw-r--r--  2.0 unx    48828 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/ro.po
+-rw-r--r--  2.0 unx    48944 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/ru.po
+-rw-r--r--  2.0 unx    48842 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/sl.po
+-rw-r--r--  2.0 unx    48772 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/stock_request.pot
+-rw-r--r--  2.0 unx    48782 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/tr.po
+-rw-r--r--  2.0 unx    48800 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/tr_TR.po
+-rw-r--r--  2.0 unx    48805 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/vi_VN.po
+-rw-r--r--  2.0 unx    53236 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/i18n/zh_CN.po
+-rw-r--r--  2.0 unx      524 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/migrations/14.0.1.3.0/noupdate_changes.xml
+-rw-r--r--  2.0 unx      315 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/migrations/14.0.1.3.0/post-migration.py
+-rw-r--r--  2.0 unx      432 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/__init__.py
+-rw-r--r--  2.0 unx     1085 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/procurement_group.py
+-rw-r--r--  2.0 unx      350 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/res_company.py
+-rw-r--r--  2.0 unx     1234 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/res_config_settings.py
+-rw-r--r--  2.0 unx     1474 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_location.py
+-rw-r--r--  2.0 unx      870 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_location_route.py
+-rw-r--r--  2.0 unx     2546 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_move.py
+-rw-r--r--  2.0 unx     2826 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_move_line.py
+-rw-r--r--  2.0 unx     1342 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_picking.py
+-rw-r--r--  2.0 unx    15029 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_request.py
+-rw-r--r--  2.0 unx     9515 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_request_abstract.py
+-rw-r--r--  2.0 unx     2867 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_request_allocation.py
+-rw-r--r--  2.0 unx    13155 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_request_order.py
+-rw-r--r--  2.0 unx     1048 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_rule.py
+-rw-r--r--  2.0 unx     1476 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/models/stock_warehouse.py
+-rw-r--r--  2.0 unx      409 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      574 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      147 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      242 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx      493 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/readme/USAGE.rst
+-rw-r--r--  2.0 unx     1994 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     6135 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/security/stock_request_security.xml
+-rw-r--r--  2.0 unx    15218 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/static/description/icon.png
+-rw-r--r--  2.0 unx     9771 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/static/description/icon.svg
+-rw-r--r--  2.0 unx    15370 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/static/description/index.html
+-rw-r--r--  2.0 unx       33 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/tests/__init__.py
+-rw-r--r--  2.0 unx    43767 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/tests/test_stock_request.py
+-rw-r--r--  2.0 unx     1129 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/product.xml
+-rw-r--r--  2.0 unx     7735 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/res_config_settings_views.xml
+-rw-r--r--  2.0 unx     1072 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/stock_move_views.xml
+-rw-r--r--  2.0 unx     1036 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/stock_picking_views.xml
+-rw-r--r--  2.0 unx     2650 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/stock_request_allocation_views.xml
+-rw-r--r--  2.0 unx     1464 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/stock_request_menu.xml
+-rw-r--r--  2.0 unx     9931 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/stock_request_order_views.xml
+-rw-r--r--  2.0 unx    11359 b- defN 23-Apr-26 11:11 odoo/addons/stock_request/views/stock_request_views.xml
+-rw-r--r--  2.0 unx     5145 b- defN 23-Apr-26 11:11 odoo14_addon_stock_request-14.0.1.5.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-26 11:11 odoo14_addon_stock_request-14.0.1.5.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-26 11:11 odoo14_addon_stock_request-14.0.1.5.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     7333 b- defN 23-Apr-26 11:11 odoo14_addon_stock_request-14.0.1.5.2.dist-info/RECORD
+71 files, 1497186 bytes uncompressed, 189520 bytes compressed:  87.3%
```

## zipnote {}

```diff
@@ -195,20 +195,20 @@
 
 Filename: odoo/addons/stock_request/views/stock_request_order_views.xml
 Comment: 
 
 Filename: odoo/addons/stock_request/views/stock_request_views.xml
 Comment: 
 
-Filename: odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/METADATA
+Filename: odoo14_addon_stock_request-14.0.1.5.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/WHEEL
+Filename: odoo14_addon_stock_request-14.0.1.5.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/top_level.txt
+Filename: odoo14_addon_stock_request-14.0.1.5.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/RECORD
+Filename: odoo14_addon_stock_request-14.0.1.5.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/stock_request/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2017-2020 ForgeFlow, S.L.
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).
 
 {
     "name": "Stock Request",
     "summary": "Internal request for stock",
-    "version": "14.0.1.5.0",
+    "version": "14.0.1.5.2",
     "license": "LGPL-3",
     "website": "https://github.com/OCA/stock-logistics-warehouse",
     "author": "ForgeFlow, Odoo Community Association (OCA)",
     "category": "Warehouse Management",
     "depends": ["stock"],
     "data": [
         "security/stock_request_security.xml",
```

## odoo/addons/stock_request/i18n/stock_request.pot

```diff
@@ -437,14 +437,19 @@
 #: model:ir.model.fields,field_description:stock_request.field_stock_request__write_date
 #: model:ir.model.fields,field_description:stock_request.field_stock_request_allocation__write_date
 #: model:ir.model.fields,field_description:stock_request.field_stock_request_order__write_date
 msgid "Last Updated on"
 msgstr ""
 
 #. module: stock_request
+#: model:ir.model.fields,field_description:stock_request.field_stock_request__lead_days_date
+msgid "Lead Days Date"
+msgstr ""
+
+#. module: stock_request
 #: model:ir.model.fields,field_description:stock_request.field_stock_request__location_id
 #: model:ir.model.fields,field_description:stock_request.field_stock_request_abstract__location_id
 #: model:ir.model.fields,field_description:stock_request.field_stock_request_order__location_id
 #: model_terms:ir.ui.view,arch_db:stock_request.stock_request_order_search
 #: model_terms:ir.ui.view,arch_db:stock_request.stock_request_search
 msgid "Location"
 msgstr ""
@@ -780,14 +785,19 @@
 #. module: stock_request
 #: model:ir.model.fields,field_description:stock_request.field_stock_request__route_ids
 #: model:ir.model.fields,field_description:stock_request.field_stock_request_abstract__route_ids
 msgid "Routes"
 msgstr ""
 
 #. module: stock_request
+#: model:ir.model.fields,field_description:stock_request.field_stock_request__rule_ids
+msgid "Rules used"
+msgstr ""
+
+#. module: stock_request
 #: model:ir.model.fields,field_description:stock_request.field_stock_request__message_has_sms_error
 #: model:ir.model.fields,field_description:stock_request.field_stock_request_abstract__message_has_sms_error
 #: model:ir.model.fields,field_description:stock_request.field_stock_request_order__message_has_sms_error
 msgid "SMS Delivery error"
 msgstr ""
 
 #. module: stock_request
```

## odoo/addons/stock_request/models/stock_move.py

```diff
@@ -65,14 +65,14 @@
                     },
                 )
             )
         return super(StockMove, self).copy_data(default)
 
     def _action_cancel(self):
         res = super()._action_cancel()
-        self.mapped("allocation_ids.stock_request_id").check_done()
+        self.mapped("allocation_ids.stock_request_id").check_cancel()
         return res
 
     def _action_done(self, cancel_backorder=False):
         res = super()._action_done(cancel_backorder=cancel_backorder)
         self.mapped("allocation_ids.stock_request_id").check_done()
         return res
```

## odoo/addons/stock_request/models/stock_request.py

```diff
@@ -1,10 +1,14 @@
 # Copyright 2017-2020 ForgeFlow, S.L.
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).
 
+from datetime import datetime, time
+
+from dateutil import relativedelta
+
 from odoo import _, api, fields, models
 from odoo.exceptions import UserError, ValidationError
 from odoo.tools import float_compare
 
 
 class StockRequest(models.Model):
     _name = "stock.request"
@@ -121,19 +125,51 @@
         states={"draft": [("readonly", False)]}, readonly=True
     )
     procurement_group_id = fields.Many2one(
         states={"draft": [("readonly", False)]}, readonly=True
     )
     company_id = fields.Many2one(states={"draft": [("readonly", False)]}, readonly=True)
     route_id = fields.Many2one(states={"draft": [("readonly", False)]}, readonly=True)
-
+    rule_ids = fields.Many2many(
+        "stock.rule", string="Rules used", compute="_compute_rules"
+    )
+    lead_days_date = fields.Date(compute="_compute_lead_days")
     _sql_constraints = [
         ("name_uniq", "unique(name, company_id)", "Stock Request name must be unique")
     ]
 
+    @api.depends(
+        "route_id",
+        "product_id",
+        "location_id",
+        "company_id",
+        "warehouse_id",
+        "product_id.route_ids",
+    )
+    def _compute_rules(self):
+        for request in self:
+            if not request.product_id or not request.location_id:
+                request.rule_ids = False
+                continue
+            request.rule_ids = request.product_id._get_rules_from_location(
+                request.location_id, route_ids=request.route_id
+            )
+
+    @api.depends("rule_ids", "product_id.seller_ids", "product_id.seller_ids.delay")
+    def _compute_lead_days(self):
+        for request in self.with_context(bypass_delay_description=True):
+            if not request.product_id or not request.location_id:
+                request.lead_days_date = False
+                continue
+            lead_days, dummy = request.rule_ids._get_lead_days(request.product_id)
+            lead_days_date = fields.Date.today() + relativedelta.relativedelta(
+                days=lead_days
+            )
+            request.lead_days_date = lead_days_date
+
     @api.depends("allocation_ids", "allocation_ids.stock_move_id")
     def _compute_move_ids(self):
         for request in self:
             request.move_ids = request.allocation_ids.mapped("stock_move_id")
 
     @api.depends(
         "allocation_ids",
@@ -232,21 +268,28 @@
     def action_draft(self):
         self.write({"state": "draft"})
         return True
 
     def action_cancel(self):
         self.sudo().mapped("move_ids")._action_cancel()
         self.write({"state": "cancel"})
+        self.mapped("order_id").check_cancel()
         return True
 
     def action_done(self):
         self.write({"state": "done"})
         self.mapped("order_id").check_done()
         return True
 
+    def check_cancel(self):
+        for request in self:
+            if request._check_cancel_allocation():
+                request.write({"state": "cancel"})
+                request.mapped("order_id").check_cancel()
+
     def check_done(self):
         precision = self.env["decimal.precision"].precision_get(
             "Product Unit of Measure"
         )
         for request in self:
             allocated_qty = sum(request.allocation_ids.mapped("allocated_product_qty"))
             qty_done = request.product_id.uom_id._compute_quantity(
@@ -255,19 +298,21 @@
             if (
                 float_compare(
                     qty_done, request.product_uom_qty, precision_digits=precision
                 )
                 >= 0
             ):
                 request.action_done()
-            elif request._check_done_allocation():
-                request.action_done()
+            elif request._check_cancel_allocation():
+                # If qty_done=0 and qty_cancelled>0 it's cancelled
+                request.write({"state": "cancel"})
+                request.mapped("order_id").check_cancel()
         return True
 
-    def _check_done_allocation(self):
+    def _check_cancel_allocation(self):
         precision = self.env["decimal.precision"].precision_get(
             "Product Unit of Measure"
         )
         self.ensure_one()
         return (
             self.allocation_ids
             and float_compare(self.qty_cancelled, 0, precision_digits=precision) > 0
@@ -278,15 +323,17 @@
         """Prepare specific key for moves or other components that
         will be created from a procurement rule
         coming from a stock request. This method could be override
         in order to add other custom key that could be used in
         move/po creation.
         """
         return {
-            "date_planned": self.expected_date,
+            "date_planned": max(
+                [self.expected_date, datetime.combine(self.lead_days_date, time.min)]
+            ),
             "warehouse_id": self.warehouse_id,
             "stock_request_allocation_ids": self.id,
             "group_id": group_id or self.procurement_group_id.id or False,
             "route_ids": self.route_id,
             "stock_request_id": self.id,
         }
```

## odoo/addons/stock_request/models/stock_request_order.py

```diff
@@ -245,14 +245,20 @@
 
     def check_done(self):
         for rec in self:
             if not rec.stock_request_ids.filtered(lambda r: r.state != "done"):
                 rec.action_done()
         return
 
+    def check_cancel(self):
+        for rec in self:
+            if not rec.stock_request_ids.filtered(lambda r: r.state != "cancel"):
+                rec.write({"state": "cancel"})
+        return
+
     def action_view_transfer(self):
         action = self.env["ir.actions.act_window"]._for_xml_id(
             "stock.action_picking_tree_all"
         )
 
         pickings = self.mapped("picking_ids")
         if len(pickings) > 1:
```

## odoo/addons/stock_request/tests/test_stock_request.py

```diff
@@ -676,15 +676,15 @@
         self.assertEqual(stock_request_1.qty_in_progress, 0)
         self.assertEqual(stock_request_1.qty_done, 4)
         self.assertEqual(stock_request_1.qty_cancelled, 0)
         self.assertEqual(stock_request_1.state, "done")
         self.assertEqual(stock_request_2.qty_in_progress, 0)
         self.assertEqual(stock_request_2.qty_done, 0)
         self.assertEqual(stock_request_2.qty_cancelled, 6)
-        self.assertEqual(stock_request_2.state, "done")
+        self.assertEqual(stock_request_2.state, "cancel")
 
     def test_cancel_request(self):
         expected_date = fields.Datetime.now()
         vals = {
             "company_id": self.main_company.id,
             "warehouse_id": self.warehouse.id,
             "location_id": self.warehouse.lot_stock_id.id,
@@ -1060,12 +1060,15 @@
         self.env["stock.backorder.confirmation"].with_context(
             button_validate_picking_ids=[picking.id]
         ).create({"pick_ids": [(4, picking.id)]}).process_cancel_backorder()
         sr1.refresh()
         sr2.refresh()
         sr3.refresh()
         self.assertEqual(sr1.state, "done")
+        self.assertEqual(sr1.qty_done, 5)
         self.assertEqual(sr1.qty_cancelled, 0)
-        self.assertEqual(sr2.state, "done")
+        self.assertEqual(sr2.state, "cancel")
+        self.assertEqual(sr2.qty_done, 1)
         self.assertEqual(sr2.qty_cancelled, 4)
-        self.assertEqual(sr3.state, "done")
+        self.assertEqual(sr3.state, "cancel")
+        self.assertEqual(sr3.qty_done, 0)
         self.assertEqual(sr3.qty_cancelled, 5)
```

## Comparing `odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/METADATA` & `odoo14_addon_stock_request-14.0.1.5.2.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-stock-request
-Version: 14.0.1.5.1.dev3
+Version: 14.0.1.5.2
 Summary: Internal request for stock
 Home-page: https://github.com/OCA/stock-logistics-warehouse
 Author: ForgeFlow, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/RECORD` & `odoo14_addon_stock_request-14.0.1.5.2.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 odoo/addons/stock_request/README.rst,sha256=mlUf5MGNdixx-4CFQOxv_O5LWV5tOa0ey5TygsMfOS0,4586
 odoo/addons/stock_request/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/stock_request/__manifest__.py,sha256=cYetm7Ri9JkHJhOOngRUAuKsjGhvRzFLHInHkw0QOK8,951
+odoo/addons/stock_request/__manifest__.py,sha256=EQjO09liIv3i1LuriQbpPTxkBsYOHIedumONcLXRTnw,951
 odoo/addons/stock_request/data/stock_request_sequence_data.xml,sha256=MKvzK__cH1gecmyqWK6Vj7yJ0o1-oKbqy2ydNoTUhs0,683
 odoo/addons/stock_request/i18n/ca.po,sha256=VdcclQyk19GG-q3wjjw4E_e3YR9Y8VxmKGJwsTET2EU,48785
 odoo/addons/stock_request/i18n/de.po,sha256=n4fm8Id0K7wv6X1Bb4MBJdbjigTIHkjR6R8fE2l4mus,53291
 odoo/addons/stock_request/i18n/el_GR.po,sha256=G3AHy1lm0eG7dMatZzMRQpVwWlb2T_NdOiTqB_eocX0,48805
 odoo/addons/stock_request/i18n/es.po,sha256=bjLmr3Kqm-ukFRjK3NumcrJGE0nkt_NiNY9uF5MSawM,55162
 odoo/addons/stock_request/i18n/es_ES.po,sha256=T7BdY4YvDDH9ilwJcPfeYpfYzbmSLG40eVMauyvRl3Q,48802
 odoo/addons/stock_request/i18n/eu.po,sha256=bucCEq3jhgAXyBarpAruSOxBE092uR5gEhJA2UjcGOQ,48785
@@ -19,53 +19,53 @@
 odoo/addons/stock_request/i18n/nl.po,sha256=FTGEOHWI9P2IGHHmsPJfG2xGN9Ijg9Dq9-23tnUzzhI,48782
 odoo/addons/stock_request/i18n/nl_NL.po,sha256=Rqmo1V1qmu7kY_PxUBj7TcDrr561N_hjWHFjNJ4j1Qo,48805
 odoo/addons/stock_request/i18n/pt.po,sha256=DvtYUD3Z0sIvS_mfl8swf0XKK6XPQghSRPCSXDAd5Ow,48787
 odoo/addons/stock_request/i18n/pt_BR.po,sha256=Hhq6KDgTfkycLjFyvjqwJVj9hE_UW2SUOAMAN5hFLpU,48804
 odoo/addons/stock_request/i18n/ro.po,sha256=zU4W1PLZtYZ5zArTe6L6ImJRVX9mnSpxGt4nh0BXh5g,48828
 odoo/addons/stock_request/i18n/ru.po,sha256=5-TsHhnrse7MZiSLUVxbNHruKmFCeHnib2Ktg-g_HmE,48944
 odoo/addons/stock_request/i18n/sl.po,sha256=60v7uxloDHB4qtGa7EdFC_KTgkIQhZoE-NwuvddWQuY,48842
-odoo/addons/stock_request/i18n/stock_request.pot,sha256=Ns2F9OwqqPn1wSKvrY3vbMsTNVPuzFmYK4-DtiWjWfM,48478
+odoo/addons/stock_request/i18n/stock_request.pot,sha256=bH_OLYofBW3xXAtWW91vgGQR0OQDrw64tU_9zktCyYA,48772
 odoo/addons/stock_request/i18n/tr.po,sha256=DZJsC9qrlaf7MAFR4nECDW-ntR7wvsR7oHvnoH2Z0ck,48782
 odoo/addons/stock_request/i18n/tr_TR.po,sha256=THaIpwg0v6WvJ7WmRqBYVLW5S-7pAv9_L3MlGGCGuBg,48800
 odoo/addons/stock_request/i18n/vi_VN.po,sha256=HJsHgtoiLgX9v0di0vn-Cez6_S3852rJAnA-dkzKHUk,48805
 odoo/addons/stock_request/i18n/zh_CN.po,sha256=gcwHgFUJIWAEgTSCMp_7Xdpq6KmaxcZocaNcRQ2D4hc,53236
 odoo/addons/stock_request/migrations/14.0.1.3.0/noupdate_changes.xml,sha256=dIlyU9LK6MuL7wFd29Te7wONI0J4SSS_y1Wi1JyopOw,524
 odoo/addons/stock_request/migrations/14.0.1.3.0/post-migration.py,sha256=tBP3kkVWVoqkucOaeM-7lbnjQ0hf7EFw27KgVodwLao,315
 odoo/addons/stock_request/models/__init__.py,sha256=UectPmFQEw_3FXs6QynT2GyZWQjnDhVdBYIyxrDIVGM,432
 odoo/addons/stock_request/models/procurement_group.py,sha256=t4rDQT-nuHHl8AC5ZMg-MiEkNNao1QN0CoKyXsOaFjc,1085
 odoo/addons/stock_request/models/res_company.py,sha256=qhx4Bisbq5imAgrNYBHE5mb1I4tARWEDJkZCUejX8cQ,350
 odoo/addons/stock_request/models/res_config_settings.py,sha256=t64XhPCP5m0Px3bvdpmG_1WTo7MSZkdpSA-TMaYGHv8,1234
 odoo/addons/stock_request/models/stock_location.py,sha256=ckie9pUiJ2r_pU_-ojYZieaObCD3F2m1Xv4p3KYDGww,1474
 odoo/addons/stock_request/models/stock_location_route.py,sha256=ItW4v-ubi1brYvSFtKZFSdN5lX3XNJZ61xP4ejSegCw,870
-odoo/addons/stock_request/models/stock_move.py,sha256=FSsE6md4XZhQJwW1kvxfoJnVomrQDXD_o8AH45J7VHE,2544
+odoo/addons/stock_request/models/stock_move.py,sha256=2bbkqBfWWmp3rQogHhGDYFXCpi9vQba26Od8bPwh7Xo,2546
 odoo/addons/stock_request/models/stock_move_line.py,sha256=UEL5ZkMonpjlMrLealoboj4J-WNXj9VuEY85sPRwuDw,2826
 odoo/addons/stock_request/models/stock_picking.py,sha256=vukhFasAsFysE7etvRLzE1WP95q2mQxdMxoWURSGrhE,1342
-odoo/addons/stock_request/models/stock_request.py,sha256=HxvIU09PYkBiP6rtx3IqeN7xnQiG_ee85U2hCil0mlY,13190
+odoo/addons/stock_request/models/stock_request.py,sha256=QVxLwIpBZ2PNdENfhxCzsTRE83AkHkNsKRrGBX0Gwlo,15029
 odoo/addons/stock_request/models/stock_request_abstract.py,sha256=h_EtGvhMZ2GFesCBs0nRUtD5wp7p_0ey2Rd1wMN52Lo,9515
 odoo/addons/stock_request/models/stock_request_allocation.py,sha256=1c_OH1oWS-93lc__erTtlGxDr4FlOVffFMXRbRZxhEY,2867
-odoo/addons/stock_request/models/stock_request_order.py,sha256=BOtlcuZXhnlfnHElNPfVTakB0SQFRkQKz7Rm3sou9Uw,12957
+odoo/addons/stock_request/models/stock_request_order.py,sha256=q-GFbehiymTvLW66kShKhJC2UhZ5cSR1crcbOM8zH_M,13155
 odoo/addons/stock_request/models/stock_rule.py,sha256=bo-oD3LubsetGtFs7m3OpZxQ1QIPPBP9EoNByDKgisI,1048
 odoo/addons/stock_request/models/stock_warehouse.py,sha256=yiJG9Yw2A1dBXwi61ehdlRbyD8PnGJqiyfJxxyN8KQQ,1476
 odoo/addons/stock_request/readme/CONFIGURE.rst,sha256=oWuZKRYFvcvc6abPWiHAKiTqASkPxbsg1j8rP3MIL20,409
 odoo/addons/stock_request/readme/CONTRIBUTORS.rst,sha256=OOHcuD4RAv1Qk5tc538Bqm7hwzt1-wk2-iyI46fMrxk,574
 odoo/addons/stock_request/readme/DESCRIPTION.rst,sha256=8FLFyvUAds5dVP7TaM5JTuKumXfvdJnusAUsbNRY5TI,147
 odoo/addons/stock_request/readme/ROADMAP.rst,sha256=0gooWv3yds0ZYbEvqbWCXhaNcmlEZnQs5vsqJFUqcb0,242
 odoo/addons/stock_request/readme/USAGE.rst,sha256=txX1WR6-6exib6YMrpcrShc2vzSvqm4VaGi_mXBknkc,493
 odoo/addons/stock_request/security/ir.model.access.csv,sha256=dsUwAR79-qQNVwCZhvCXyEvztUe4mNdw7QQOzx_aU3I,1994
 odoo/addons/stock_request/security/stock_request_security.xml,sha256=aXoOAmTMss_sLi_t57WYpZ-MfrO2_AmfcQ7JwB1Mi0w,6135
 odoo/addons/stock_request/static/description/icon.png,sha256=HZGM_z7Ta3zNQ2924BUiMfDuVSCWqrEwUQMWXBnK7yk,15218
 odoo/addons/stock_request/static/description/icon.svg,sha256=e3qo4KGYRy7Mfzhb_bCfVA-73Rk2Lx1z9_kz7tTjdO0,9771
 odoo/addons/stock_request/static/description/index.html,sha256=KWqpoFR4qEryvyxIJXmw4bHLNpZHshWiqXfO-UV9TKA,15370
 odoo/addons/stock_request/tests/__init__.py,sha256=3NQ2fafGprBbsMjR2Y__yzyvFX5Vio1r0j6tT3FTbas,33
-odoo/addons/stock_request/tests/test_stock_request.py,sha256=JKvCyXw_gYSGGetsR9fkkdjDbzflvkyfI5nFbCoU4dM,43635
+odoo/addons/stock_request/tests/test_stock_request.py,sha256=blvgMRujPaIdQati2HX8RanreLiwszgphxfUzp1X81g,43767
 odoo/addons/stock_request/views/product.xml,sha256=2xaLAglNnNq4EF-giwUQ5JuSKsmsV01jHmpUw9kI0v8,1129
 odoo/addons/stock_request/views/res_config_settings_views.xml,sha256=Kz9EbzJWkVGW4YAPkPsWRlWxsuFW_IcFB1bY947urFA,7735
 odoo/addons/stock_request/views/stock_move_views.xml,sha256=Z5pNG0WfYz-CTlxgB-rma0BoT08VQDHnm3J_Ksu9BxA,1072
 odoo/addons/stock_request/views/stock_picking_views.xml,sha256=l0YKqO46QFDdiBoSzOoU7PBrLnNkFxPIHFbBcPWXTVk,1036
 odoo/addons/stock_request/views/stock_request_allocation_views.xml,sha256=kL8OHGCAnY3crLkz9tk_WGXq04rf1mOItT664UCXji8,2650
 odoo/addons/stock_request/views/stock_request_menu.xml,sha256=6DlqGAbwbDF2r4kxNVoswjXETbY9rpgbjZFIuPeijfA,1464
 odoo/addons/stock_request/views/stock_request_order_views.xml,sha256=ErboT5H8T2Yx2kb_72M5fpEPQX9X4hWa-tXURJYcQtg,9931
 odoo/addons/stock_request/views/stock_request_views.xml,sha256=g4aSL2WVYZdVRvuFXWKnHZtasTWB3km9urHCRdhXMEA,11359
-odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/METADATA,sha256=ewB7DEE0H6k8WHkyL6o38A8PbZ_SZsYH7JPQ8HUU0kY,5150
-odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_stock_request-14.0.1.5.1.dev3.dist-info/RECORD,,
+odoo14_addon_stock_request-14.0.1.5.2.dist-info/METADATA,sha256=SBHa5J8EqxJfKpkvZXMSqeiqTX9VTnzzyQnDnRrjoiA,5145
+odoo14_addon_stock_request-14.0.1.5.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_stock_request-14.0.1.5.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_stock_request-14.0.1.5.2.dist-info/RECORD,,
```

