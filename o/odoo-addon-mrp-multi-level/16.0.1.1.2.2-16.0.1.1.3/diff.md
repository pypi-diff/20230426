# Comparing `tmp/odoo_addon_mrp_multi_level-16.0.1.1.2.2-py3-none-any.whl.zip` & `tmp/odoo_addon_mrp_multi_level-16.0.1.1.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,64 +1,64 @@
-Zip file size: 123755 bytes, number of entries: 62
--rw-r--r--  2.0 unx     8729 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/README.rst
--rw-r--r--  2.0 unx       43 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/__init__.py
--rw-r--r--  2.0 unx     1713 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/__manifest__.py
--rw-r--r--  2.0 unx      311 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/data/mrp_area_data.xml
--rw-r--r--  2.0 unx      609 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/data/mrp_multi_level_cron.xml
--rw-r--r--  2.0 unx      283 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/data/system_parameter.xml
--rw-r--r--  2.0 unx     1713 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/demo/initial_on_hand_demo.xml
--rw-r--r--  2.0 unx     7887 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/demo/mrp_bom_demo.xml
--rw-r--r--  2.0 unx      185 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/demo/product_category_demo.xml
--rw-r--r--  2.0 unx     3578 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/demo/product_mrp_area_demo.xml
--rw-r--r--  2.0 unx     7607 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/demo/product_product_demo.xml
--rw-r--r--  2.0 unx     2916 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/demo/product_supplierinfo_demo.xml
--rw-r--r--  2.0 unx      292 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/demo/res_partner_demo.xml
--rw-r--r--  2.0 unx    17760 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/docs/mrp_multi_level_test_run.ods
--rw-r--r--  2.0 unx    44781 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/i18n/de.po
--rw-r--r--  2.0 unx    41922 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/i18n/es.po
--rw-r--r--  2.0 unx    38884 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/i18n/hr.po
--rw-r--r--  2.0 unx    42257 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/i18n/it.po
--rw-r--r--  2.0 unx    38681 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/i18n/mrp_multi_level.pot
--rw-r--r--  2.0 unx      307 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/__init__.py
--rw-r--r--  2.0 unx     1555 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/mrp_area.py
--rw-r--r--  2.0 unx     4837 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/mrp_inventory.py
--rw-r--r--  2.0 unx     3067 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/mrp_move.py
--rw-r--r--  2.0 unx     3871 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/mrp_planned_order.py
--rw-r--r--  2.0 unx      394 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/mrp_production.py
--rw-r--r--  2.0 unx    11251 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/product_mrp_area.py
--rw-r--r--  2.0 unx     2395 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/product_product.py
--rw-r--r--  2.0 unx     1728 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/product_template.py
--rw-r--r--  2.0 unx      579 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/stock_location.py
--rw-r--r--  2.0 unx      550 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/stock_quant.py
--rw-r--r--  2.0 unx      855 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/models/stock_rule.py
--rw-r--r--  2.0 unx      348 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      284 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      867 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     3499 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/readme/HISTORY.rst
--rw-r--r--  2.0 unx      464 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/readme/USAGE.rst
--rw-r--r--  2.0 unx     1574 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/security/ir.model.access.csv
--rw-r--r--  2.0 unx     2621 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/security/mrp_multi_level_security.xml
--rw-r--r--  2.0 unx     7222 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/static/description/icon.png
--rw-r--r--  2.0 unx    22847 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/static/description/index.html
--rw-r--r--  2.0 unx     9455 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/static/src/img/icon.png
--rw-r--r--  2.0 unx       35 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/tests/__init__.py
--rw-r--r--  2.0 unx    22910 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/tests/common.py
--rw-r--r--  2.0 unx    19105 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/tests/test_mrp_multi_level.py
--rw-r--r--  2.0 unx     2413 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/mrp_area_views.xml
--rw-r--r--  2.0 unx     7124 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/mrp_inventory_views.xml
--rw-r--r--  2.0 unx      963 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/mrp_menuitem.xml
--rw-r--r--  2.0 unx     3218 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/mrp_move_views.xml
--rw-r--r--  2.0 unx     5982 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/mrp_planned_order_views.xml
--rw-r--r--  2.0 unx     8896 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/product_mrp_area_views.xml
--rw-r--r--  2.0 unx      879 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/product_product_views.xml
--rw-r--r--  2.0 unx      852 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/product_template_views.xml
--rw-r--r--  2.0 unx     1326 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/views/stock_location_views.xml
--rw-r--r--  2.0 unx       66 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/wizards/__init__.py
--rw-r--r--  2.0 unx     5908 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/wizards/mrp_inventory_procure.py
--rw-r--r--  2.0 unx     3141 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/wizards/mrp_inventory_procure_views.xml
--rw-r--r--  2.0 unx    33026 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/wizards/mrp_multi_level.py
--rw-r--r--  2.0 unx     1301 b- defN 23-Mar-09 05:47 odoo/addons/mrp_multi_level/wizards/mrp_multi_level_views.xml
--rw-r--r--  2.0 unx     9406 b- defN 23-Mar-09 05:47 odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-09 05:47 odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-09 05:47 odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     6706 b- defN 23-Mar-09 05:47 odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/RECORD
-62 files, 474075 bytes uncompressed, 112535 bytes compressed:  76.3%
+Zip file size: 123881 bytes, number of entries: 62
+-rw-r--r--  2.0 unx     8729 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/README.rst
+-rw-r--r--  2.0 unx       43 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/__init__.py
+-rw-r--r--  2.0 unx     1713 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/__manifest__.py
+-rw-r--r--  2.0 unx      311 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/data/mrp_area_data.xml
+-rw-r--r--  2.0 unx      609 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/data/mrp_multi_level_cron.xml
+-rw-r--r--  2.0 unx      283 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/data/system_parameter.xml
+-rw-r--r--  2.0 unx     1713 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/demo/initial_on_hand_demo.xml
+-rw-r--r--  2.0 unx     7887 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/demo/mrp_bom_demo.xml
+-rw-r--r--  2.0 unx      185 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/demo/product_category_demo.xml
+-rw-r--r--  2.0 unx     3578 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/demo/product_mrp_area_demo.xml
+-rw-r--r--  2.0 unx     7607 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/demo/product_product_demo.xml
+-rw-r--r--  2.0 unx     2916 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/demo/product_supplierinfo_demo.xml
+-rw-r--r--  2.0 unx      292 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/demo/res_partner_demo.xml
+-rw-r--r--  2.0 unx    17760 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/docs/mrp_multi_level_test_run.ods
+-rw-r--r--  2.0 unx    44781 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/i18n/de.po
+-rw-r--r--  2.0 unx    41922 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/i18n/es.po
+-rw-r--r--  2.0 unx    38884 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/i18n/hr.po
+-rw-r--r--  2.0 unx    42257 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/i18n/it.po
+-rw-r--r--  2.0 unx    38681 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/i18n/mrp_multi_level.pot
+-rw-r--r--  2.0 unx      307 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/__init__.py
+-rw-r--r--  2.0 unx     1555 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/mrp_area.py
+-rw-r--r--  2.0 unx     4837 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/mrp_inventory.py
+-rw-r--r--  2.0 unx     3067 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/mrp_move.py
+-rw-r--r--  2.0 unx     3871 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/mrp_planned_order.py
+-rw-r--r--  2.0 unx      394 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/mrp_production.py
+-rw-r--r--  2.0 unx    11291 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/product_mrp_area.py
+-rw-r--r--  2.0 unx     2395 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/product_product.py
+-rw-r--r--  2.0 unx     1728 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/product_template.py
+-rw-r--r--  2.0 unx      579 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/stock_location.py
+-rw-r--r--  2.0 unx      550 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/stock_quant.py
+-rw-r--r--  2.0 unx      855 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/models/stock_rule.py
+-rw-r--r--  2.0 unx      348 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      284 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      867 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     3499 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/readme/HISTORY.rst
+-rw-r--r--  2.0 unx      464 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/readme/USAGE.rst
+-rw-r--r--  2.0 unx     1574 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     2621 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/security/mrp_multi_level_security.xml
+-rw-r--r--  2.0 unx     7222 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/static/description/icon.png
+-rw-r--r--  2.0 unx    22847 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/static/description/index.html
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/static/src/img/icon.png
+-rw-r--r--  2.0 unx       35 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/tests/__init__.py
+-rw-r--r--  2.0 unx    22910 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/tests/common.py
+-rw-r--r--  2.0 unx    19105 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/tests/test_mrp_multi_level.py
+-rw-r--r--  2.0 unx     2413 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/mrp_area_views.xml
+-rw-r--r--  2.0 unx     7124 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/mrp_inventory_views.xml
+-rw-r--r--  2.0 unx      963 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/mrp_menuitem.xml
+-rw-r--r--  2.0 unx     3218 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/mrp_move_views.xml
+-rw-r--r--  2.0 unx     5982 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/mrp_planned_order_views.xml
+-rw-r--r--  2.0 unx     8896 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/product_mrp_area_views.xml
+-rw-r--r--  2.0 unx      879 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/product_product_views.xml
+-rw-r--r--  2.0 unx      852 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/product_template_views.xml
+-rw-r--r--  2.0 unx     1326 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/views/stock_location_views.xml
+-rw-r--r--  2.0 unx       66 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/wizards/__init__.py
+-rw-r--r--  2.0 unx     5908 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/wizards/mrp_inventory_procure.py
+-rw-r--r--  2.0 unx     3141 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/wizards/mrp_inventory_procure_views.xml
+-rw-r--r--  2.0 unx    33279 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/wizards/mrp_multi_level.py
+-rw-r--r--  2.0 unx     1301 b- defN 23-Apr-26 13:57 odoo/addons/mrp_multi_level/wizards/mrp_multi_level_views.xml
+-rw-r--r--  2.0 unx     9404 b- defN 23-Apr-26 13:57 odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-26 13:57 odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-26 13:57 odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     6698 b- defN 23-Apr-26 13:57 odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/RECORD
+62 files, 474358 bytes uncompressed, 112677 bytes compressed:  76.2%
```

## zipnote {}

```diff
@@ -168,20 +168,20 @@
 
 Filename: odoo/addons/mrp_multi_level/wizards/mrp_multi_level.py
 Comment: 
 
 Filename: odoo/addons/mrp_multi_level/wizards/mrp_multi_level_views.xml
 Comment: 
 
-Filename: odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/METADATA
+Filename: odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/WHEEL
+Filename: odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/top_level.txt
+Filename: odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/RECORD
+Filename: odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/mrp_multi_level/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2016 Ucamco - Wim Audenaert <wim.audenaert@ucamco.com>
 # Copyright 2016-21 ForgeFlow S.L. (https://www.forgeflow.com)
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).
 
 {
     "name": "MRP Multi Level",
-    "version": "16.0.1.1.2",
+    "version": "16.0.1.1.3",
     "development_status": "Production/Stable",
     "license": "LGPL-3",
     "author": "Ucamco, ForgeFlow, Odoo Community Association (OCA)",
     "maintainers": ["JordiBForgeFlow", "LoisRForgeFlow", "ChrisOForgeFlow"],
     "summary": "Adds an MRP Scheduler",
     "website": "https://github.com/OCA/manufacture",
     "category": "Manufacturing",
```

## odoo/addons/mrp_multi_level/models/product_mrp_area.py

```diff
@@ -201,19 +201,20 @@
                 new_rule = group_obj._get_rule(
                     rec.product_id, rule.location_src_id, values
                 )
                 if not new_rule:
                     break
                 rule = new_rule
             # Determine the supply method based on the final rule.
+            boms = rec.product_id.product_tmpl_id.bom_ids.filtered(
+                lambda x: x.type in ["normal", "phantom"]
+            )
             rec.supply_method = (
                 "phantom"
-                if rule.action == "manufacture"
-                and rec.product_id.product_tmpl_id.bom_ids
-                and rec.product_id.product_tmpl_id.bom_ids[0].type == "phantom"
+                if rule.action == "manufacture" and boms and boms[0].type == "phantom"
                 else rule.action
             )
 
     @api.depends(
         "mrp_area_id", "supply_method", "product_id.route_ids", "product_id.seller_ids"
     )
     def _compute_main_supplier(self):
```

## odoo/addons/mrp_multi_level/wizards/mrp_multi_level.py

```diff
@@ -4,14 +4,15 @@
 # - Lois Rilo <lois.rilo@forgeflow.com>
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).
 
 import logging
 from datetime import date, timedelta
 
 from odoo import _, api, exceptions, fields, models
+from odoo.tools import float_is_zero
 
 logger = logging.getLogger(__name__)
 
 
 class MultiLevelMrp(models.TransientModel):
     _name = "mrp.multi.level"
     _description = "Multi Level MRP"
@@ -189,60 +190,69 @@
             res = calendar.plan_days(-1 * product_mrp_area.mrp_lead_time, dt)
             mrp_action_date = res.date()
         else:
             mrp_action_date = mrp_date - timedelta(days=product_mrp_area.mrp_lead_time)
         return mrp_action_date, mrp_date_supply
 
     @api.model
+    def _get_bom_to_explode(self, product_mrp_area_id):
+        boms = self.env["mrp.bom"]
+        if product_mrp_area_id.supply_method in ["manufacture", "phantom"]:
+            boms = product_mrp_area_id.product_id.bom_ids.filtered(
+                lambda x: x.type in ["normal", "phantom"]
+            )
+        if not boms:
+            return False
+        return boms[0]
+
+    @api.model
     def explode_action(
         self, product_mrp_area_id, mrp_action_date, name, qty, action, values=None
     ):
         """Explode requirements."""
         mrp_date_demand = mrp_action_date
         if mrp_date_demand < date.today():
             mrp_date_demand = date.today()
-        if not product_mrp_area_id.product_id.bom_ids:
+        bom = self._get_bom_to_explode(product_mrp_area_id)
+        if not bom:
             return False
-        bomcount = 0
-        for bom in product_mrp_area_id.product_id.bom_ids:
-            if not bom.active or not bom.bom_line_ids:
+        pd = self.env["decimal.precision"].precision_get("Product Unit of Measure")
+        for bomline in bom.bom_line_ids:
+            if (
+                float_is_zero(bomline.product_qty, precision_digits=pd)
+                or bomline.product_id.type != "product"
+            ):
                 continue
-            bomcount += 1
-            if bomcount != 1:
+            if self.with_context(mrp_explosion=True)._exclude_from_mrp(
+                bomline.product_id, product_mrp_area_id.mrp_area_id
+            ):
+                # Stop explosion.
                 continue
-            for bomline in bom.bom_line_ids:
-                if bomline.product_qty <= 0.00 or bomline.product_id.type != "product":
-                    continue
-                if self.with_context(mrp_explosion=True)._exclude_from_mrp(
-                    bomline.product_id, product_mrp_area_id.mrp_area_id
-                ):
-                    # Stop explosion.
-                    continue
-                if bomline._skip_bom_line(product_mrp_area_id.product_id):
-                    continue
-                # TODO: review: mrp_transit_delay, mrp_inspection_delay
-                mrp_date_demand_2 = mrp_date_demand - timedelta(
-                    days=(
-                        product_mrp_area_id.mrp_transit_delay
-                        + product_mrp_area_id.mrp_inspection_delay
-                    )
-                )
-                move_data = self._prepare_mrp_move_data_bom_explosion(
-                    product_mrp_area_id,
-                    bomline,
-                    qty,
-                    mrp_date_demand_2,
-                    bom,
-                    name,
-                    action,
-                    values,
+            if bomline._skip_bom_line(product_mrp_area_id.product_id):
+                continue
+            # TODO: review: mrp_transit_delay, mrp_inspection_delay
+            mrp_date_demand_2 = mrp_date_demand - timedelta(
+                days=(
+                    product_mrp_area_id.mrp_transit_delay
+                    + product_mrp_area_id.mrp_inspection_delay
                 )
-                mrpmove_id2 = self.env["mrp.move"].create(move_data)
-                if hasattr(action, "mrp_move_down_ids"):
-                    action.mrp_move_down_ids = [(4, mrpmove_id2.id)]
+            )
+            move_data = self._prepare_mrp_move_data_bom_explosion(
+                product_mrp_area_id,
+                bomline,
+                qty,
+                mrp_date_demand_2,
+                bom,
+                name,
+                action,
+                values,
+            )
+            mrpmove_id2 = self.env["mrp.move"].create(move_data)
+            if hasattr(action, "mrp_move_down_ids"):
+                action.mrp_move_down_ids = [(4, mrpmove_id2.id)]
         return True
 
     @api.model
     def create_action(self, product_mrp_area_id, mrp_date, mrp_qty, name, values=None):
         if not values:
             values = {}
         if not isinstance(mrp_date, date):
```

## Comparing `odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/METADATA` & `odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-mrp-multi-level
-Version: 16.0.1.1.2.2
+Version: 16.0.1.1.3
 Summary: Adds an MRP Scheduler
 Home-page: https://github.com/OCA/manufacture
 Author: Ucamco, ForgeFlow, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/RECORD` & `odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 odoo/addons/mrp_multi_level/README.rst,sha256=9YJZ-dLbhvxdYG2GaK5qrjLq_zy9JukpwEDenc3_Lcs,8729
 odoo/addons/mrp_multi_level/__init__.py,sha256=0XNpxETgFdVxFDEw03O8oL3NtTSk3we-HEZW2sPKzIU,43
-odoo/addons/mrp_multi_level/__manifest__.py,sha256=Ly2umYsDQBcX9jB1bEvrMy2KVfD-u76_MdYpEek5NCw,1713
+odoo/addons/mrp_multi_level/__manifest__.py,sha256=bbQ_2oOQjvsJneKGz9iol-7Dlcagy71TwFKeQVxtV2g,1713
 odoo/addons/mrp_multi_level/data/mrp_area_data.xml,sha256=Ew5eFN8T7lfW7bxq8Y_sIZ_lNFy5rHyF_FoWtY_hKOc,311
 odoo/addons/mrp_multi_level/data/mrp_multi_level_cron.xml,sha256=2fRtPd1BAVSfvIu_v75BOKnVvfU8PRup9BaxUFfn2pw,609
 odoo/addons/mrp_multi_level/data/system_parameter.xml,sha256=k5ch8bAloEvi0HWQIPHKGxd_STgo2mUrxL37sx7er5A,283
 odoo/addons/mrp_multi_level/demo/initial_on_hand_demo.xml,sha256=gRJlVOiXPvHoOQgMO3DQCV3eKux7MhkqhFX3UPi6_y4,1713
 odoo/addons/mrp_multi_level/demo/mrp_bom_demo.xml,sha256=C6ZUhhpc9OSh6vJ9eZmV7dTrd0gRq9FbqeCvZ2v34-8,7887
 odoo/addons/mrp_multi_level/demo/product_category_demo.xml,sha256=2pE8FS0Tvo9bVv5qOozWPlqdY4qdO_j85gG1ztMqWrU,185
 odoo/addons/mrp_multi_level/demo/product_mrp_area_demo.xml,sha256=tIf9S8XCh75HOuqR6ghDPfVvl7g81ke0y_8-dQcDvic,3578
@@ -19,15 +19,15 @@
 odoo/addons/mrp_multi_level/i18n/mrp_multi_level.pot,sha256=QJtRVEDfqeTzUTPfXHigBVNbPoY0jU-4dtjyRj0kdks,38681
 odoo/addons/mrp_multi_level/models/__init__.py,sha256=S1arKW0MHCd2o55mEUUfIsPM85R0YWfTWfalofqZBjA,307
 odoo/addons/mrp_multi_level/models/mrp_area.py,sha256=GbJCyoFt-XtAqEXRYgIMQrIMW3pInObdyP0jhJ3vNss,1555
 odoo/addons/mrp_multi_level/models/mrp_inventory.py,sha256=g43w3kB0oF3HbnXnpKLEb06k6cVvC7H4xm7oEd7po78,4837
 odoo/addons/mrp_multi_level/models/mrp_move.py,sha256=u5gc3l_UeIAVom-GiqFGEi-mpmZqIYIUOwuuoPi_Uj4,3067
 odoo/addons/mrp_multi_level/models/mrp_planned_order.py,sha256=Q2flfPh8_2xR9rD58ZeBfpoLYkDFtEuysDqU2ek9Z8E,3871
 odoo/addons/mrp_multi_level/models/mrp_production.py,sha256=WqeULVghnaLjvSjciKSHYl5D0jC46zU85B0YnxSMTto,394
-odoo/addons/mrp_multi_level/models/product_mrp_area.py,sha256=rs1o74FLZOGnSaI6Sg7Z9OredNg2YVypT9AcShtrE7I,11251
+odoo/addons/mrp_multi_level/models/product_mrp_area.py,sha256=1CSHQjk3nwFp-URQ_sei_3GoNeWL2Ya2qP71roypv-8,11291
 odoo/addons/mrp_multi_level/models/product_product.py,sha256=Bhn6skYhp0TdZek3_DOgBiH6oG7OnvtsL4zUCa42Efg,2395
 odoo/addons/mrp_multi_level/models/product_template.py,sha256=Xh5MGDEaXZ2YopxsbYUh6GGkTFolL6RvB5XGKJD2BRM,1728
 odoo/addons/mrp_multi_level/models/stock_location.py,sha256=id698pcxABNW5ODZkGxIOwT1Um1smJOsnUt2-WrYT1g,579
 odoo/addons/mrp_multi_level/models/stock_quant.py,sha256=9eOsuNNXOdjUilpScf8QOnRlq4Ovo12WC0FWYlDNddE,550
 odoo/addons/mrp_multi_level/models/stock_rule.py,sha256=2RdYt6HCZwtV72kY7PAoZbytc81rVduea6kkZlyHQMk,855
 odoo/addons/mrp_multi_level/readme/CONFIGURE.rst,sha256=LTnVwo1lj3aB-QDuenzkME6WHcbOwwYFOwvGT4s52c8,348
 odoo/addons/mrp_multi_level/readme/CONTRIBUTORS.rst,sha256=Ugyuz8z3uvU1gsKF9Mo5lDughWJR6H3LCyfU0NAOFyY,284
@@ -50,13 +50,13 @@
 odoo/addons/mrp_multi_level/views/product_mrp_area_views.xml,sha256=ijg03OrBojvQEQWUcaf1kvG2TBJkumAw251fGAqSc8s,8896
 odoo/addons/mrp_multi_level/views/product_product_views.xml,sha256=38z5ZaNbt8YvSKgExLuAt3s5i35Hf-z8lQ2r1IxOp8E,879
 odoo/addons/mrp_multi_level/views/product_template_views.xml,sha256=Rtv37SOGBXD5kG6KqLw12zSugyaikMRvK1H3D-JaESw,852
 odoo/addons/mrp_multi_level/views/stock_location_views.xml,sha256=kcFTp9bJy7Fpq5sGFLq4MbKqth2--l-P3AdtFy4tGHc,1326
 odoo/addons/mrp_multi_level/wizards/__init__.py,sha256=U08_1h9-9knuntRV1lwghh9_uXqIEk8IGQYCa6NHVEw,66
 odoo/addons/mrp_multi_level/wizards/mrp_inventory_procure.py,sha256=Kg0t01DpEpq8fwvFfHpG_8KEk6yJnctMSGh0PuqKrSk,5908
 odoo/addons/mrp_multi_level/wizards/mrp_inventory_procure_views.xml,sha256=fRDMg8nGXdy6Us9jYoO-HPLIP57muPbi1qgsIrENR1o,3141
-odoo/addons/mrp_multi_level/wizards/mrp_multi_level.py,sha256=T_EWZq5B_aDBKysPIa-DxsCCI48av4737UEmgj-U6X8,33026
+odoo/addons/mrp_multi_level/wizards/mrp_multi_level.py,sha256=Z7l_gVbYhMx8xGAjOXOYIU_Qom4ZxhjoPV5rNE4DdXc,33279
 odoo/addons/mrp_multi_level/wizards/mrp_multi_level_views.xml,sha256=eDWwmf_Axwr6DwV48q3JN9KgLjW3DeG96sBS6F5KiDI,1301
-odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/METADATA,sha256=_LkWGfRmRRIbr5X2lu_5FB_jV_t0-IhoppNDj_1PZ4o,9406
-odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_mrp_multi_level-16.0.1.1.2.2.dist-info/RECORD,,
+odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/METADATA,sha256=w2_FiuGdaxXW5HsE2pSHSIpbTmRDQoBX5NUKLYNqf3M,9404
+odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_mrp_multi_level-16.0.1.1.3.dist-info/RECORD,,
```

