# Comparing `tmp/cramjam-2.6.2.tar.gz` & `tmp/cramjam-2.7.0rc1.tar.gz`

## Comparing `cramjam-2.6.2.tar` & `cramjam-2.7.0rc1.tar`

### file list

```diff
@@ -1,50 +1,50 @@
--rw-r--r--   0        0        0      895 1970-01-01 00:00:00.000000 cramjam-2.6.2/Cargo.toml
--rw-r--r--   0      501       20      112 2022-11-09 14:23:00.000000 cramjam-2.6.2/.cargo/config
--rw-r--r--   0      501       20     8042 2022-11-09 14:23:00.000000 cramjam-2.6.2/.github/workflows/CI.yml
--rw-r--r--   0      501       20     1854 2022-11-09 14:23:00.000000 cramjam-2.6.2/.gitignore
--rw-r--r--   0      501       20     1070 2022-11-09 14:23:00.000000 cramjam-2.6.2/LICENSE
--rw-r--r--   0      501       20      963 2022-11-09 14:23:00.000000 cramjam-2.6.2/Makefile
--rw-r--r--   0      501       20     3075 2022-11-09 14:23:00.000000 cramjam-2.6.2/README.md
--rw-r--r--   0      501       20      121 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmark-requirements.txt
--rw-r--r--   0      501       20    76038 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/README.md
--rw-r--r--   0      501       20     1167 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/COPYING
--rw-r--r--   0      501       20    14168 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/Mark.Twain-Tom.Sawyer.txt
--rw-r--r--   0      501       20   152089 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/alice29.txt
--rw-r--r--   0      501       20   125179 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/asyoulik.txt
--rw-r--r--   0      501       20   123093 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/fireworks.jpeg
--rw-r--r--   0      501       20   118588 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/geo.protodata
--rw-r--r--   0      501       20   102400 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/html
--rw-r--r--   0      501       20   409600 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/html_x_4
--rw-r--r--   0      501       20   184320 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/kppkn.gtb
--rw-r--r--   0      501       20   426754 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/lcet10.txt
--rw-r--r--   0      501       20   102400 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/paper-100k.pdf
--rw-r--r--   0      501       20   481861 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/plrabn12.txt
--rw-r--r--   0      501       20   702087 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/data/urls.10K
--rw-r--r--   0      501       20     7663 2022-11-09 14:23:00.000000 cramjam-2.6.2/benchmarks/test_bench.py
--rw-r--r--   0      501       20       53 2022-11-09 14:23:00.000000 cramjam-2.6.2/dev-requirements.txt
--rw-r--r--   0      501       20      428 2022-11-09 14:23:00.000000 cramjam-2.6.2/pyproject.toml
--rw-r--r--   0      501       20       15 2022-11-09 14:23:00.000000 cramjam-2.6.2/rustfmt.toml
--rw-r--r--   0      501       20     4042 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/brotli.rs
--rw-r--r--   0      501       20     3898 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/bzip2.rs
--rw-r--r--   0      501       20     3982 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/deflate.rs
--rw-r--r--   0      501       20      247 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/exceptions.rs
--rw-r--r--   0      501       20     4534 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/gzip.rs
--rw-r--r--   0      501       20    20776 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/io.rs
--rw-r--r--   0      501       20    12463 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/lib.rs
--rw-r--r--   0      501       20     9648 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/lz4.rs
--rw-r--r--   0      501       20     6318 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/snappy.rs
--rw-r--r--   0      501       20     3851 2022-11-09 14:23:00.000000 cramjam-2.6.2/src/zstd.rs
--rw-r--r--   0      501       20        0 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/__init__.py
--rw-r--r--   0      501       20      857 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/data/integration/plaintext.txt
--rw-r--r--   0      501       20      375 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/data/integration/plaintext.txt.br
--rw-r--r--   0      501       20      495 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/data/integration/plaintext.txt.bz2
--rw-r--r--   0      501       20      472 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/data/integration/plaintext.txt.gz
--rw-r--r--   0      501       20      665 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/data/integration/plaintext.txt.lz4
--rw-r--r--   0      501       20      660 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/data/integration/plaintext.txt.snappy
--rw-r--r--   0      501       20      465 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/data/integration/plaintext.txt.zst
--rw-r--r--   0      501       20     1134 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/test_integration.py
--rw-r--r--   0      501       20      692 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/test_no_numpy.py
--rw-r--r--   0      501       20     1481 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/test_rust_io.py
--rw-r--r--   0      501       20     9967 2022-11-09 14:23:00.000000 cramjam-2.6.2/tests/test_variants.py
--rw-r--r--   0      501       20    14428 2022-11-09 14:23:00.000000 cramjam-2.6.2/Cargo.lock
--rw-r--r--   0        0        0     3700 1970-01-01 00:00:00.000000 cramjam-2.6.2/PKG-INFO
+-rw-r--r--   0        0        0      774 1970-01-01 00:00:00.000000 cramjam-2.7.0rc1/Cargo.toml
+-rw-r--r--   0      501       20      112 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/.cargo/config
+-rw-r--r--   0      501       20     7989 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/.github/workflows/CI.yml
+-rw-r--r--   0      501       20     1854 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/.gitignore
+-rw-r--r--   0      501       20     1070 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/LICENSE
+-rw-r--r--   0      501       20      971 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/Makefile
+-rw-r--r--   0      501       20     3075 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/README.md
+-rw-r--r--   0      501       20      121 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmark-requirements.txt
+-rw-r--r--   0      501       20    75826 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/README.md
+-rw-r--r--   0      501       20     1167 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/COPYING
+-rw-r--r--   0      501       20    14168 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/Mark.Twain-Tom.Sawyer.txt
+-rw-r--r--   0      501       20   152089 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/alice29.txt
+-rw-r--r--   0      501       20   125179 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/asyoulik.txt
+-rw-r--r--   0      501       20   123093 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/fireworks.jpeg
+-rw-r--r--   0      501       20   118588 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/geo.protodata
+-rw-r--r--   0      501       20   102400 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/html
+-rw-r--r--   0      501       20   409600 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/html_x_4
+-rw-r--r--   0      501       20   184320 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/kppkn.gtb
+-rw-r--r--   0      501       20   426754 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/lcet10.txt
+-rw-r--r--   0      501       20   102400 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/paper-100k.pdf
+-rw-r--r--   0      501       20   481861 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/plrabn12.txt
+-rw-r--r--   0      501       20   702087 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/data/urls.10K
+-rw-r--r--   0      501       20     7670 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/benchmarks/test_bench.py
+-rw-r--r--   0      501       20       66 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/dev-requirements.txt
+-rw-r--r--   0      501       20      422 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/pyproject.toml
+-rw-r--r--   0      501       20       15 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/rustfmt.toml
+-rw-r--r--   0      501       20     4381 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/brotli.rs
+-rw-r--r--   0      501       20     4239 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/bzip2.rs
+-rw-r--r--   0      501       20     4323 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/deflate.rs
+-rw-r--r--   0      501       20      577 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/exceptions.rs
+-rw-r--r--   0      501       20     4875 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/gzip.rs
+-rw-r--r--   0      501       20    20839 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/io.rs
+-rw-r--r--   0      501       20    18999 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/lib.rs
+-rw-r--r--   0      501       20    10417 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/lz4.rs
+-rw-r--r--   0      501       20     6754 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/snappy.rs
+-rw-r--r--   0      501       20     4179 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/src/zstd.rs
+-rw-r--r--   0      501       20        0 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/__init__.py
+-rw-r--r--   0      501       20      857 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/data/integration/plaintext.txt
+-rw-r--r--   0      501       20      375 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.br
+-rw-r--r--   0      501       20      495 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.bz2
+-rw-r--r--   0      501       20      472 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.gz
+-rw-r--r--   0      501       20      665 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.lz4
+-rw-r--r--   0      501       20      660 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.snappy
+-rw-r--r--   0      501       20      465 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.zst
+-rw-r--r--   0      501       20     1140 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/test_integration.py
+-rw-r--r--   0      501       20      692 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/test_no_numpy.py
+-rw-r--r--   0      501       20     1481 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/test_rust_io.py
+-rw-r--r--   0      501       20    10737 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/tests/test_variants.py
+-rw-r--r--   0      501       20    13963 2023-04-26 04:17:25.000000 cramjam-2.7.0rc1/Cargo.lock
+-rw-r--r--   0        0        0     3703 1970-01-01 00:00:00.000000 cramjam-2.7.0rc1/PKG-INFO
```

### Comparing `cramjam-2.6.2/.github/workflows/CI.yml` & `cramjam-2.7.0rc1/.github/workflows/CI.yml`

 * *Files 4% similar despite different names*

```diff
@@ -31,20 +31,20 @@
         with:
           target: x86_64
           args: -i python --release --out dist --sdist
       - name: Install built wheel - x86_64
         run: |
           pip install cramjam --no-index --find-links dist --force-reinstall
       - name: Build wheels - universal2
-        if: ${{ matrix.python-version >= '3.8' || matrix.python-version == '3.10' }}
+        if: ${{ matrix.python-version >= '3.8' || contains(fromJson('["3.10", "3.11"]'), matrix.python-version) }}
         uses: PyO3/maturin-action@v1
         with:
           args: -i python --release --universal2 --out dist
       - name: Install built wheel - universal2
-        if: ${{ matrix.python-version >= '3.8' }}
+        if: ${{ matrix.python-version >= '3.8' || contains(fromJson('["3.10", "3.11"]'), matrix.python-version) }}
         run: |
           pip install cramjam --no-index --find-links dist --force-reinstall
       - name: Python UnitTest
         run: |
           pip install -r dev-requirements.txt
           make test
       - name: Upload wheels
@@ -154,15 +154,15 @@
     steps:
     - uses: actions/checkout@v3
     - name: Build Wheels
       uses: PyO3/maturin-action@v1
       with:
         target: ${{ matrix.target }}
         manylinux: auto
-        args: -i ${{ matrix.python }} --release --out dist --no-default-features --features=extension-module  # disable mimallocator
+        args: -i ${{ matrix.python }} --release --out dist
     - uses: uraimo/run-on-arch-action@v2.3.0
       # skipped cross compiled pypy wheel tests for now
       if: ${{ !startsWith(matrix.python, 'pypy') }}
       name: Install built wheel
       with:
         arch: ${{ matrix.target }}
         distro: ubuntu20.04
@@ -203,15 +203,15 @@
       with:
         python-version: ${{ matrix.python }}
     - name: Build Wheels
       uses: PyO3/maturin-action@v1
       with:
         target: ${{ matrix.target }}
         manylinux: auto
-        args: -i ${{ matrix.python }} --release --out dist --no-default-features --features=extension-module  # disable mimallocator
+        args: -i ${{ matrix.python }} --release --out dist
     - name: Python UnitTest
       run: |
         pip install cramjam --no-index --find-links dist
         pypy -c "import cramjam"
     - name: Upload wheels
       uses: actions/upload-artifact@v3
       with:
```

### Comparing `cramjam-2.6.2/.gitignore` & `cramjam-2.7.0rc1/.gitignore`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/LICENSE` & `cramjam-2.7.0rc1/LICENSE`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/Makefile` & `cramjam-2.7.0rc1/Makefile`

 * *Files 0% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 BASE_BENCH_CMD = python -m pytest -v --benchmark-sort name --benchmark-only benchmarks/ -k
 
 test:
-	python -m pytest tests -v --ignore benchmarks
+	python -m pytest tests -n auto -v --ignore benchmarks
 
 test-bench:
 	python -m pytest -v --benchmark-disable benchmarks/
 
 bench:
 	python -m pytest -v --benchmark-only --benchmark-sort name benchmarks/
```

### Comparing `cramjam-2.6.2/README.md` & `cramjam-2.7.0rc1/README.md`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/README.md` & `cramjam-2.7.0rc1/benchmarks/README.md`

 * *Files 3% similar despite different names*

```diff
@@ -36,368 +36,368 @@
 #### Gzip
 
 `make bench-gzip`
 
 (spoiler alert, although cramjam is generally faster than the builtin gzip module, you should pretty much always use [igzip](https://github.com/pycompression/python-isal) when possible.)
 
 ```bash 
------------------------------------------------------------------------------------------------------------------- benchmark: 42 tests -------------------------------------------------------------------------------------------------------------------
-Name (time in us)                                           Min                       Max                      Mean                 StdDev                    Median                    IQR            Outliers          OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_gzip[Mark.Twain-Tom.Sawyer.txt-cramjam]           191.8590 (3.44)           459.5510 (2.67)           232.3503 (3.49)         42.3918 (4.45)           216.2325 (3.43)         23.9335 (3.31)      505;534   4,303.8455 (0.29)       3484           1
-test_gzip[Mark.Twain-Tom.Sawyer.txt-gzip]              230.9320 (4.14)         1,348.3770 (7.83)           278.0395 (4.17)         56.0642 (5.89)           259.9420 (4.12)         29.7642 (4.11)      410;435   3,596.6108 (0.24)       2899           1
-test_gzip[Mark.Twain-Tom.Sawyer.txt-isal]               55.8100 (1.0)            172.2580 (1.0)             66.6014 (1.0)           9.5214 (1.0)             63.0650 (1.0)           7.2408 (1.0)       854;539  15,014.6976 (1.0)        6917           1
-test_gzip[alice29.txt-cramjam]                       2,289.4180 (41.02)        3,586.7580 (20.82)        2,531.1701 (38.00)       205.3819 (21.57)        2,481.5745 (39.35)       106.6280 (14.73)       32;33     395.0742 (0.03)        320           1
-test_gzip[alice29.txt-gzip]                          2,746.6730 (49.21)        5,784.2850 (33.58)        3,128.5895 (46.97)       352.9359 (37.07)        3,018.4270 (47.86)       258.2175 (35.66)       39;29     319.6329 (0.02)        320           1
-test_gzip[alice29.txt-isal]                            630.2320 (11.29)        2,712.9960 (15.75)          692.1121 (10.39)        92.0883 (9.67)           673.7130 (10.68)        25.5560 (3.53)       70;159   1,444.8527 (0.10)       1288           1
-test_gzip[asyoulik.txt-cramjam]                      2,031.5850 (36.40)        3,478.0610 (20.19)        2,246.2740 (33.73)       215.1429 (22.60)        2,193.3480 (34.78)       107.9130 (14.90)       30;39     445.1817 (0.03)        387           1
-test_gzip[asyoulik.txt-gzip]                         2,336.2790 (41.86)        3,485.5790 (20.23)        2,547.9955 (38.26)       173.5410 (18.23)        2,504.1120 (39.71)       113.7950 (15.72)       34;29     392.4654 (0.03)        354           1
-test_gzip[asyoulik.txt-isal]                           514.5240 (9.22)         1,400.8010 (8.13)           599.2456 (9.00)         73.4877 (7.72)           574.7005 (9.11)         71.0005 (9.81)       190;82   1,668.7649 (0.11)       1256           1
-test_gzip[fifty-four-mb-random-cramjam]          1,211,255.6200 (>1000.0)  1,257,472.9720 (>1000.0)  1,237,629.0870 (>1000.0)  17,775.0203 (>1000.0)  1,241,997.1640 (>1000.0)  24,676.1108 (>1000.0)       2;0       0.8080 (0.00)          5           1
-test_gzip[fifty-four-mb-random-gzip]             1,095,648.4620 (>1000.0)  1,110,366.0260 (>1000.0)  1,103,719.8038 (>1000.0)   6,105.5552 (641.24)   1,102,582.1870 (>1000.0)   9,973.5320 (>1000.0)       2;0       0.9060 (0.00)          5           1
-test_gzip[fifty-four-mb-random-isal]               168,541.5770 (>1000.0)    212,197.5160 (>1000.0)    181,629.0707 (>1000.0)  15,576.1286 (>1000.0)    177,291.2230 (>1000.0)   7,280.1230 (>1000.0)       1;1       5.5057 (0.00)          6           1
-test_gzip[fifty-four-mb-repeating-cramjam]         134,944.4950 (>1000.0)    181,172.1680 (>1000.0)    153,997.7280 (>1000.0)  19,735.0671 (>1000.0)    142,841.9530 (>1000.0)  36,666.9240 (>1000.0)       2;0       6.4936 (0.00)          7           1
-test_gzip[fifty-four-mb-repeating-gzip]            126,086.2200 (>1000.0)    144,891.1680 (841.13)     132,237.1890 (>1000.0)   6,698.9614 (703.57)     129,553.7330 (>1000.0)   9,267.9080 (>1000.0)       2;0       7.5622 (0.00)          8           1
-test_gzip[fifty-four-mb-repeating-isal]            104,930.9420 (>1000.0)    110,588.2970 (641.99)     107,397.2519 (>1000.0)   1,882.4948 (197.71)     107,018.3145 (>1000.0)   3,244.9360 (448.15)        4;0       9.3112 (0.00)         10           1
-test_gzip[fireworks.jpeg-cramjam]                    2,272.0720 (40.71)        3,841.4350 (22.30)        2,544.0224 (38.20)       226.1681 (23.75)        2,484.9960 (39.40)       189.9015 (26.23)       30;18     393.0783 (0.03)        344           1
-test_gzip[fireworks.jpeg-gzip]                       2,033.2690 (36.43)        3,293.9500 (19.12)        2,261.8599 (33.96)       128.4785 (13.49)        2,230.3385 (35.37)        83.7080 (11.56)       68;38     442.1140 (0.03)        410           1
-test_gzip[fireworks.jpeg-isal]                         557.8950 (10.00)          922.6780 (5.36)           639.2987 (9.60)         53.6616 (5.64)           638.0545 (10.12)        79.6670 (11.00)      318;19   1,564.2139 (0.10)       1058           1
-test_gzip[geo.protodata-cramjam]                       543.6170 (9.74)         3,331.8180 (19.34)          683.1062 (10.26)       164.7324 (17.30)          653.2410 (10.36)        73.8828 (10.20)     137;148   1,463.9011 (0.10)       1507           1
-test_gzip[geo.protodata-gzip]                          746.4350 (13.37)        3,485.2950 (20.23)          832.4478 (12.50)       108.8803 (11.44)          815.1780 (12.93)        51.7680 (7.15)        48;66   1,201.2765 (0.08)       1016           1
-test_gzip[geo.protodata-isal]                          325.9980 (5.84)         1,716.9900 (9.97)           360.5302 (5.41)         43.9673 (4.62)           350.1455 (5.55)         18.2805 (2.52)      183;239   2,773.6924 (0.18)       2228           1
-test_gzip[html-cramjam]                                559.0320 (10.02)        1,007.0500 (5.85)           652.3441 (9.79)         62.2105 (6.53)           644.8590 (10.23)        58.2925 (8.05)        95;39   1,532.9332 (0.10)        800           1
-test_gzip[html-gzip]                                   733.5640 (13.14)        1,239.4010 (7.20)           814.8288 (12.23)        61.7839 (6.49)           795.7915 (12.62)        60.2950 (8.33)       138;44   1,227.2517 (0.08)        912           1
-test_gzip[html-isal]                                   293.4400 (5.26)         1,077.9470 (6.26)           320.2257 (4.81)         31.3367 (3.29)           312.7960 (4.96)         17.4120 (2.40)      113;117   3,122.7978 (0.21)       1680           1
-test_gzip[html_x_4-cramjam]                          2,680.6610 (48.03)        5,121.8420 (29.73)        2,949.2002 (44.28)       183.4686 (19.27)        2,922.4515 (46.34)        90.8240 (12.54)       31;29     339.0750 (0.02)        326           1
-test_gzip[html_x_4-gzip]                             3,140.6020 (56.27)        6,755.7770 (39.22)        3,438.3153 (51.63)       334.5340 (35.13)        3,389.2870 (53.74)       178.4918 (24.65)       13;16     290.8401 (0.02)        249           1
-test_gzip[html_x_4-isal]                             1,145.9080 (20.53)        5,369.5510 (31.17)        1,333.4371 (20.02)       263.7536 (27.70)        1,255.0020 (19.90)       128.4425 (17.74)       75;95     749.9417 (0.05)        693           1
-test_gzip[kppkn.gtb-cramjam]                         2,272.2560 (40.71)        3,975.8810 (23.08)        2,460.3480 (36.94)       138.0943 (14.50)        2,439.8625 (38.69)        80.1670 (11.07)       35;31     406.4466 (0.03)        378           1
-test_gzip[kppkn.gtb-gzip]                            2,737.3670 (49.05)        4,541.3070 (26.36)        2,997.0626 (45.00)       208.5254 (21.90)        2,938.9400 (46.60)       126.3835 (17.45)       36;29     333.6600 (0.02)        327           1
-test_gzip[kppkn.gtb-isal]                              620.2470 (11.11)        1,438.9580 (8.35)           694.6918 (10.43)        77.9132 (8.18)           664.6515 (10.54)        36.2180 (5.00)      118;136   1,439.4872 (0.10)       1038           1
-test_gzip[lcet10.txt-cramjam]                        6,515.5340 (116.74)      10,480.1160 (60.84)        7,804.9459 (117.19)    1,293.0755 (135.81)       7,175.8955 (113.79)    2,331.5930 (322.01)       34;0     128.1239 (0.01)        138           1
-test_gzip[lcet10.txt-gzip]                           7,590.8110 (136.01)      14,044.3360 (81.53)        8,259.7372 (124.02)      803.4726 (84.39)        8,047.0785 (127.60)      407.9500 (56.34)         9;9     121.0692 (0.01)        120           1
-test_gzip[lcet10.txt-isal]                           1,798.1930 (32.22)        3,801.2430 (22.07)        2,001.5485 (30.05)       216.8714 (22.78)        1,937.9530 (30.73)       107.5470 (14.85)       40;47     499.6132 (0.03)        390           1
-test_gzip[paper-100k.pdf-cramjam]                    1,574.2830 (28.21)        4,883.8400 (28.35)        1,773.2297 (26.62)       189.1485 (19.87)        1,735.9090 (27.53)        65.1753 (9.00)        27;45     563.9427 (0.04)        541           1
-test_gzip[paper-100k.pdf-gzip]                       1,876.8750 (33.63)        4,374.8760 (25.40)        2,054.1447 (30.84)       168.2990 (17.68)        2,019.5360 (32.02)        87.6453 (12.10)       30;33     486.8206 (0.03)        443           1
-test_gzip[paper-100k.pdf-isal]                         421.2930 (7.55)         3,587.9140 (20.83)          483.5627 (7.26)        113.1682 (11.89)          464.7290 (7.37)         43.4210 (6.00)        50;90   2,067.9842 (0.14)       1359           1
-test_gzip[plrabn12.txt-cramjam]                      8,824.4760 (158.12)      12,236.2950 (71.03)        9,246.9970 (138.84)      499.8499 (52.50)        9,109.3310 (144.44)      171.8368 (23.73)         7;7     108.1432 (0.01)         75           1
-test_gzip[plrabn12.txt-gzip]                        10,067.7340 (180.39)      14,851.2830 (86.22)       10,705.5403 (160.74)      849.3527 (89.20)       10,398.4875 (164.89)      414.7850 (57.28)         9;9      93.4096 (0.01)         90           1
-test_gzip[plrabn12.txt-isal]                         1,997.3020 (35.79)        3,128.8200 (18.16)        2,267.3735 (34.04)       257.9910 (27.10)        2,136.7485 (33.88)       234.7265 (32.42)       74;52     441.0389 (0.03)        396           1
-test_gzip[urls.10K-cramjam]                          9,862.8800 (176.72)      14,844.7900 (86.18)       10,724.2182 (161.02)    1,308.2085 (137.40)      10,164.5780 (161.18)      576.2437 (79.58)       10;14      93.2469 (0.01)         91           1
-test_gzip[urls.10K-gzip]                            10,704.3820 (191.80)      13,596.6140 (78.93)       11,235.3842 (168.70)      542.1322 (56.94)       11,038.5890 (175.04)      338.8595 (46.80)         9;9      89.0045 (0.01)         81           1
-test_gzip[urls.10K-isal]                             2,942.9670 (52.73)        7,301.6880 (42.39)        3,212.3236 (48.23)       316.5106 (33.24)        3,136.4275 (49.73)       149.9830 (20.71)       21;28     311.3011 (0.02)        276           1
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+----------------------------------------------------------------------------------------------------------------- benchmark: 42 tests ------------------------------------------------------------------------------------------------------------------
+Name (time in us)                                           Min                       Max                      Mean                StdDev                    Median                   IQR            Outliers          OPS            Rounds  Iterations
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_gzip[Mark.Twain-Tom.Sawyer.txt-cramjam]           192.0910 (3.41)           248.1120 (2.56)           211.3754 (3.45)         6.1655 (2.03)           210.4330 (3.48)         7.5975 (3.27)       924;75   4,730.9196 (0.29)       3255           1
+test_gzip[Mark.Twain-Tom.Sawyer.txt-gzip]              231.0250 (4.10)           306.7920 (3.17)           252.1350 (4.11)         7.4904 (2.47)           251.5680 (4.16)         8.2273 (3.54)       520;89   3,966.1291 (0.24)       2153           1
+test_gzip[Mark.Twain-Tom.Sawyer.txt-isal]               56.3420 (1.0)             96.9110 (1.0)             61.3174 (1.0)          3.0346 (1.0)             60.5350 (1.0)          2.3235 (1.0)       695;447  16,308.5874 (1.0)        5641           1
+test_gzip[alice29.txt-cramjam]                       2,313.8000 (41.07)        2,937.7980 (30.31)        2,433.7892 (39.69)       59.4811 (19.60)        2,432.6420 (40.19)       64.1962 (27.63)       82;11     410.8819 (0.03)        391           1
+test_gzip[alice29.txt-gzip]                          2,706.1680 (48.03)        3,048.9910 (31.46)        2,838.6805 (46.29)       55.2535 (18.21)        2,839.8855 (46.91)       86.1010 (37.06)       105;3     352.2763 (0.02)        318           1
+test_gzip[alice29.txt-isal]                            638.2960 (11.33)          806.4610 (8.32)           679.3579 (11.08)       18.2648 (6.02)           672.1430 (11.10)       24.8000 (10.67)      162;21   1,471.9782 (0.09)       1232           1
+test_gzip[asyoulik.txt-cramjam]                      2,026.6650 (35.97)        2,242.3150 (23.14)        2,136.0455 (34.84)       41.7069 (13.74)        2,143.3210 (35.41)       62.2349 (26.78)       159;0     468.1548 (0.03)        442           1
+test_gzip[asyoulik.txt-gzip]                         2,365.9300 (41.99)        2,610.0570 (26.93)        2,472.7299 (40.33)       50.8724 (16.76)        2,469.8730 (40.80)       77.2808 (33.26)       152;0     404.4113 (0.02)        389           1
+test_gzip[asyoulik.txt-isal]                           522.5980 (9.28)           629.7140 (6.50)           561.3238 (9.15)        14.8072 (4.88)           563.7030 (9.31)        23.9787 (10.32)       565;8   1,781.5029 (0.11)       1539           1
+test_gzip[fifty-four-mb-random-cramjam]          1,201,188.9220 (>1000.0)  1,201,985.9070 (>1000.0)  1,201,683.9626 (>1000.0)    324.7614 (107.02)   1,201,663.1259 (>1000.0)    464.0428 (199.72)        1;0       0.8322 (0.00)          5           1
+test_gzip[fifty-four-mb-random-gzip]               932,466.0240 (>1000.0)    943,055.2960 (>1000.0)    935,937.0100 (>1000.0)  4,266.8755 (>1000.0)    935,577.6800 (>1000.0)  4,915.4140 (>1000.0)       1;0       1.0684 (0.00)          5           1
+test_gzip[fifty-four-mb-random-isal]               234,743.2040 (>1000.0)    244,949.3090 (>1000.0)    238,258.1728 (>1000.0)  4,771.0711 (>1000.0)    235,085.6990 (>1000.0)  7,732.6717 (>1000.0)       1;0       4.1971 (0.00)          5           1
+test_gzip[fifty-four-mb-repeating-cramjam]         127,197.2460 (>1000.0)    131,845.0370 (>1000.0)    129,026.2873 (>1000.0)  1,373.3095 (452.56)     128,740.0955 (>1000.0)  1,293.4150 (556.66)        2;1       7.7504 (0.00)          8           1
+test_gzip[fifty-four-mb-repeating-gzip]            138,558.1080 (>1000.0)    139,676.8730 (>1000.0)    139,084.2045 (>1000.0)    363.8480 (119.90)     138,942.7640 (>1000.0)    494.4985 (212.82)        2;0       7.1899 (0.00)          8           1
+test_gzip[fifty-four-mb-repeating-isal]            125,758.5940 (>1000.0)    131,267.6750 (>1000.0)    126,878.8431 (>1000.0)  1,794.9466 (591.50)     126,403.0415 (>1000.0)    459.1045 (197.59)        1;1       7.8815 (0.00)          8           1
+test_gzip[fireworks.jpeg-cramjam]                    2,341.1080 (41.55)        2,564.7090 (26.46)        2,424.7822 (39.54)       27.0851 (8.93)         2,421.5450 (40.00)       33.1180 (14.25)      112;10     412.4082 (0.03)        402           1
+test_gzip[fireworks.jpeg-gzip]                       1,939.3610 (34.42)        2,444.8310 (25.23)        2,054.7399 (33.51)       40.8401 (13.46)        2,049.9410 (33.86)       39.9370 (17.19)       98;17     486.6796 (0.03)        486           1
+test_gzip[fireworks.jpeg-isal]                         547.6960 (9.72)           694.9480 (7.17)           580.3026 (9.46)        16.9312 (5.58)           578.8780 (9.56)        13.2060 (5.68)      342;116   1,723.2388 (0.11)       1322           1
+test_gzip[geo.protodata-cramjam]                       554.1570 (9.84)           689.9020 (7.12)           611.5268 (9.97)        14.4540 (4.76)           610.2805 (10.08)       18.6529 (8.03)       425;31   1,635.2512 (0.10)       1458           1
+test_gzip[geo.protodata-gzip]                          618.9990 (10.99)          858.5870 (8.86)           668.6560 (10.90)       19.7861 (6.52)           665.6425 (11.00)       20.9209 (9.00)       293;40   1,495.5374 (0.09)       1378           1
+test_gzip[geo.protodata-isal]                          324.7680 (5.76)           437.8440 (4.52)           352.5797 (5.75)        13.1510 (4.33)           351.2230 (5.80)        15.8620 (6.83)       682;54   2,836.2380 (0.17)       2153           1
+test_gzip[html-cramjam]                                583.1560 (10.35)          694.8190 (7.17)           633.9863 (10.34)       12.3700 (4.08)           633.2520 (10.46)       16.5625 (7.13)       429;16   1,577.3210 (0.10)       1415           1
+test_gzip[html-gzip]                                   653.0910 (11.59)          809.4880 (8.35)           702.4723 (11.46)       17.4990 (5.77)           699.6340 (11.56)       21.0187 (9.05)       299;36   1,423.5437 (0.09)       1259           1
+test_gzip[html-isal]                                   303.0450 (5.38)           385.6550 (3.98)           317.2875 (5.17)         9.4691 (3.12)           314.4690 (5.19)        14.0475 (6.05)       512;25   3,151.7153 (0.19)       2468           1
+test_gzip[html_x_4-cramjam]                          2,754.2840 (48.89)        3,373.9300 (34.81)        2,939.6069 (47.94)       63.6499 (20.98)        2,938.6090 (48.54)       78.8350 (33.93)        91;5     340.1815 (0.02)        353           1
+test_gzip[html_x_4-gzip]                             2,754.2509 (48.88)        3,352.4790 (34.59)        2,892.2294 (47.17)       62.8312 (20.71)        2,886.7505 (47.69)       61.3300 (26.40)        56;7     345.7540 (0.02)        312           1
+test_gzip[html_x_4-isal]                             1,317.6360 (23.39)        2,061.8500 (21.28)        1,410.1803 (23.00)       75.0201 (24.72)        1,400.9050 (23.14)       52.8415 (22.74)       19;11     709.1292 (0.04)        636           1
+test_gzip[kppkn.gtb-cramjam]                         2,275.8590 (40.39)        2,514.6150 (25.95)        2,398.5709 (39.12)       37.1257 (12.23)        2,404.1010 (39.71)       46.5598 (20.04)       119;8     416.9149 (0.03)        405           1
+test_gzip[kppkn.gtb-gzip]                            3,551.6540 (63.04)        3,999.0250 (41.26)        3,730.4021 (60.84)       67.8474 (22.36)        3,732.6630 (61.66)       87.0247 (37.45)        61;8     268.0676 (0.02)        259           1
+test_gzip[kppkn.gtb-isal]                              641.7160 (11.39)          762.3440 (7.87)           664.1646 (10.83)       18.2096 (6.00)           662.0445 (10.94)       27.2695 (11.74)      270;22   1,505.6510 (0.09)       1220           1
+test_gzip[lcet10.txt-cramjam]                        6,604.3800 (117.22)       7,548.9010 (77.90)        6,831.8665 (111.42)     112.5211 (37.08)        6,828.3140 (112.80)     118.4703 (50.99)        26;3     146.3729 (0.01)        143           1
+test_gzip[lcet10.txt-gzip]                           7,557.3400 (134.13)       8,364.3020 (86.31)        7,843.2906 (127.91)     143.6573 (47.34)        7,807.8630 (128.98)     162.8670 (70.09)        31;7     127.4975 (0.01)        126           1
+test_gzip[lcet10.txt-isal]                           2,029.7630 (36.03)        2,855.2201 (29.46)        2,104.7033 (34.32)       75.4166 (24.85)        2,093.5150 (34.58)       58.7273 (25.28)        11;7     475.1263 (0.03)        437           1
+test_gzip[paper-100k.pdf-cramjam]                    1,679.8870 (29.82)        1,860.9260 (19.20)        1,748.9655 (28.52)       23.1390 (7.63)         1,747.3105 (28.86)       26.9440 (11.60)      151;14     571.7666 (0.04)        552           1
+test_gzip[paper-100k.pdf-gzip]                       1,690.6669 (30.01)        2,068.6880 (21.35)        1,783.8001 (29.09)       29.9959 (9.88)         1,782.6200 (29.45)       32.8138 (14.12)      132;16     560.6009 (0.03)        567           1
+test_gzip[paper-100k.pdf-isal]                         416.8270 (7.40)           578.1950 (5.97)           448.2110 (7.31)        16.6530 (5.49)           441.5740 (7.29)        16.5207 (7.11)       313;94   2,231.0920 (0.14)       1761           1
+test_gzip[plrabn12.txt-cramjam]                      8,900.4810 (157.97)       9,788.2350 (101.00)       9,164.0241 (149.45)     114.8119 (37.83)        9,169.1470 (151.47)     123.6400 (53.21)        25;2     109.1224 (0.01)        103           1
+test_gzip[plrabn12.txt-gzip]                        10,147.7650 (180.11)      11,477.3950 (118.43)      10,481.0197 (170.93)     170.7084 (56.25)       10,461.9600 (172.82)     214.5829 (92.35)        23;1      95.4106 (0.01)         90           1
+test_gzip[plrabn12.txt-isal]                         2,288.2160 (40.61)        3,318.0070 (34.24)        2,387.4327 (38.94)       89.3594 (29.45)        2,388.3040 (39.45)       65.8750 (28.35)        14;5     418.8600 (0.03)        394           1
+test_gzip[urls.10K-cramjam]                         10,137.8160 (179.93)      11,621.6400 (119.92)      10,464.5132 (170.66)     175.7993 (57.93)       10,423.2070 (172.18)     154.5588 (66.52)        13;4      95.5611 (0.01)         91           1
+test_gzip[urls.10K-gzip]                             9,798.4010 (173.91)      10,841.0180 (111.87)      10,145.5872 (165.46)     202.4173 (66.70)       10,114.5900 (167.09)     247.6572 (106.59)       30;3      98.5650 (0.01)        103           1
+test_gzip[urls.10K-isal]                             3,105.6050 (55.12)        4,504.9600 (46.49)        3,276.1175 (53.43)      119.1319 (39.26)        3,268.3510 (53.99)       58.6328 (25.23)       28;28     305.2394 (0.02)        289           1
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 #### Snappy
 
 There are two types here, `framed` and `raw`; the recommended one being snappy's `framed` format.
 
 `make bench-snappy-framed`
 
 ```bash
-------------------------------------------------------------------------------------------------------------------------- benchmark: 28 tests -------------------------------------------------------------------------------------------------------------------------
-Name (time in us)                                                    Min                       Max                      Mean                    StdDev                    Median                     IQR            Outliers          OPS            Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_snappy_framed[Mark.Twain-Tom.Sawyer.txt-cramjam]            67.8750 (1.0)            184.4690 (1.0)             69.9458 (1.0)              5.8189 (1.0)             68.5219 (1.0)            0.4220 (1.72)      394;606  14,296.7757 (1.0)        5157           1
-test_snappy_framed[Mark.Twain-Tom.Sawyer.txt-snappy]            127.5920 (1.88)           321.8240 (1.74)           131.6162 (1.88)             9.4019 (1.62)           128.8950 (1.88)           0.7390 (3.01)      407;905   7,597.8511 (0.53)       5234           1
-test_snappy_framed[alice29.txt-cramjam]                         676.6730 (9.97)           965.0890 (5.23)           693.1161 (9.91)            27.2101 (4.68)           679.8870 (9.92)          20.7548 (84.45)      143;90   1,442.7596 (0.10)       1423           1
-test_snappy_framed[alice29.txt-snappy]                        1,362.6880 (20.08)        1,884.4430 (10.22)        1,394.3984 (19.94)           43.0275 (7.39)         1,385.3500 (20.22)         39.8223 (162.04)      62;37     717.1552 (0.05)        679           1
-test_snappy_framed[asyoulik.txt-cramjam]                        593.6730 (8.75)           886.0190 (4.80)           607.4296 (8.68)            24.3360 (4.18)           596.2565 (8.70)          19.8330 (80.70)      174;85   1,646.2814 (0.12)       1612           1
-test_snappy_framed[asyoulik.txt-snappy]                       1,154.8221 (17.01)        1,474.2750 (7.99)         1,179.9538 (16.87)           33.2390 (5.71)         1,169.8285 (17.07)         33.0758 (134.59)      86;34     847.4908 (0.06)        814           1
-test_snappy_framed[fifty-four-mb-random-cramjam]            106,125.5330 (>1000.0)    122,712.4280 (665.22)     113,907.3788 (>1000.0)      4,144.4500 (712.24)     113,855.9120 (>1000.0)    2,535.2445 (>1000.0)       3;2       8.7791 (0.00)         11           1
-test_snappy_framed[fifty-four-mb-random-snappy]           5,736,722.0209 (>1000.0)  8,884,037.3160 (>1000.0)  8,029,947.1742 (>1000.0)  1,294,217.3836 (>1000.0)  8,468,064.0850 (>1000.0)  931,786.2789 (>1000.0)       1;1       0.1245 (0.00)          5           1
-test_snappy_framed[fifty-four-mb-repeating-cramjam]          60,967.8230 (898.24)      82,541.3500 (447.45)      68,490.7448 (979.20)       8,907.2626 (>1000.0)     62,633.5774 (914.07)    16,801.8445 (>1000.0)       4;0      14.6005 (0.00)         12           1
-test_snappy_framed[fifty-four-mb-repeating-snappy]          416,213.7700 (>1000.0)    445,269.2589 (>1000.0)    425,080.6548 (>1000.0)     12,411.2216 (>1000.0)    418,530.8550 (>1000.0)   16,490.2027 (>1000.0)       1;0       2.3525 (0.00)          5           1
-test_snappy_framed[fireworks.jpeg-cramjam]                       90.7030 (1.34)           265.3861 (1.44)            93.6783 (1.34)             6.9734 (1.20)            91.9680 (1.34)           0.3370 (1.37)     696;1196  10,674.8307 (0.75)       8521           1
-test_snappy_framed[fireworks.jpeg-snappy]                       634.0879 (9.34)           905.7500 (4.91)           653.3697 (9.34)            24.7685 (4.26)           643.7055 (9.39)          14.7215 (59.90)     151;145   1,530.5271 (0.11)       1472           1
-test_snappy_framed[geo.protodata-cramjam]                       204.8140 (3.02)           484.7000 (2.63)           210.1287 (3.00)            12.0245 (2.07)           206.3761 (3.01)           0.9029 (3.67)      410;868   4,758.9888 (0.33)       4299           1
-test_snappy_framed[geo.protodata-snappy]                        727.0420 (10.71)          979.4390 (5.31)           744.5916 (10.65)           25.8275 (4.44)           732.3179 (10.69)         22.5262 (91.66)      155;72   1,343.0181 (0.09)       1299           1
-test_snappy_framed[html-cramjam]                                211.0000 (3.11)           400.2160 (2.17)           216.8802 (3.10)            12.6234 (2.17)           212.4980 (3.10)           0.7945 (3.23)      435;805   4,610.8402 (0.32)       3736           1
-test_snappy_framed[html-snappy]                                 662.6330 (9.76)         1,020.1860 (5.53)           695.4484 (9.94)            29.1009 (5.00)           686.1100 (10.01)         23.4039 (95.23)      345;76   1,437.9211 (0.10)       1350           1
-test_snappy_framed[html_x_4-cramjam]                            814.7360 (12.00)        1,156.0221 (6.27)           833.7065 (11.92)           34.9787 (6.01)           819.8969 (11.97)         21.4603 (87.32)       81;76   1,199.4629 (0.08)       1083           1
-test_snappy_framed[html_x_4-snappy]                           2,654.4550 (39.11)        3,212.9940 (17.42)        2,729.8276 (39.03)           92.7821 (15.94)        2,701.6510 (39.43)         73.2925 (298.24)      31;25     366.3235 (0.03)        336           1
-test_snappy_framed[kppkn.gtb-cramjam]                           582.3770 (8.58)           868.2209 (4.71)           596.1833 (8.52)            23.0826 (3.97)           584.8820 (8.54)          19.5719 (79.64)      194;81   1,677.3366 (0.12)       1515           1
-test_snappy_framed[kppkn.gtb-snappy]                          1,413.1500 (20.82)        1,795.0049 (9.73)         1,441.8433 (20.61)           38.8178 (6.67)         1,435.4640 (20.95)         34.1205 (138.84)      54;30     693.5566 (0.05)        603           1
-test_snappy_framed[lcet10.txt-cramjam]                        1,766.2169 (26.02)        2,194.9910 (11.90)        1,809.2666 (25.87)           52.9258 (9.10)         1,795.1445 (26.20)         50.4309 (205.21)      42;24     552.7101 (0.04)        526           1
-test_snappy_framed[lcet10.txt-snappy]                         3,776.0150 (55.63)        4,416.6800 (23.94)        3,865.1326 (55.26)           90.4870 (15.55)        3,843.4530 (56.09)         87.1853 (354.77)      22;12     258.7233 (0.02)        235           1
-test_snappy_framed[paper-100k.pdf-cramjam]                       84.9301 (1.25)           217.1260 (1.18)            87.1440 (1.25)             6.4667 (1.11)            85.6020 (1.25)           0.2458 (1.0)      593;1125  11,475.2531 (0.80)       8555           1
-test_snappy_framed[paper-100k.pdf-snappy]                       533.0379 (7.85)           845.9381 (4.59)           546.8427 (7.82)            24.6972 (4.24)           538.5000 (7.86)          16.9175 (68.84)     144;115   1,828.6796 (0.13)       1636           1
-test_snappy_framed[plrabn12.txt-cramjam]                      2,386.8741 (35.17)        3,894.9240 (21.11)        2,475.3461 (35.39)          169.0649 (29.05)        2,435.1560 (35.54)         63.3658 (257.84)      20;30     403.9839 (0.03)        339           1
-test_snappy_framed[plrabn12.txt-snappy]                       5,019.8400 (73.96)        5,844.5639 (31.68)        5,131.9534 (73.37)          112.6590 (19.36)        5,106.9070 (74.53)         89.4035 (363.79)      15;13     194.8576 (0.01)        188           1
-test_snappy_framed[urls.10K-cramjam]                          2,149.3380 (31.67)        2,757.3260 (14.95)        2,204.8847 (31.52)           69.6202 (11.96)        2,185.4395 (31.89)         61.6229 (250.75)      30;15     453.5384 (0.03)        406           1
-test_snappy_framed[urls.10K-snappy]                           5,894.0420 (86.84)        6,559.6290 (35.56)        6,029.6206 (86.20)          120.3123 (20.68)        5,994.6314 (87.48)         84.0485 (342.00)      26;18     165.8479 (0.01)        164           1
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+------------------------------------------------------------------------------------------------------------------------ benchmark: 28 tests ------------------------------------------------------------------------------------------------------------------------
+Name (time in us)                                                    Min                       Max                      Mean                  StdDev                    Median                     IQR            Outliers          OPS            Rounds  Iterations
+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_snappy_framed[Mark.Twain-Tom.Sawyer.txt-cramjam]            34.5460 (1.0)             64.0360 (1.0)             39.3083 (1.0)            2.1469 (1.35)            38.9790 (1.0)            2.6720 (7.07)     1965;171  25,439.9180 (1.0)        7372           1
+test_snappy_framed[Mark.Twain-Tom.Sawyer.txt-snappy]             74.2590 (2.15)           105.3040 (1.64)            75.1430 (1.91)           1.5901 (1.0)             74.7080 (1.92)           0.4141 (1.10)      361;933  13,307.9565 (0.52)       6986           1
+test_snappy_framed[alice29.txt-cramjam]                         435.8150 (12.62)          523.1360 (8.17)           457.6633 (11.64)         12.5979 (7.92)           452.4115 (11.61)         19.1250 (50.59)      363;19   2,185.0126 (0.09)       1784           1
+test_snappy_framed[alice29.txt-snappy]                          927.7140 (26.85)        1,456.8070 (22.75)          980.6164 (24.95)         45.5170 (28.62)          968.9630 (24.86)         66.2975 (175.36)      273;6   1,019.7667 (0.04)        905           1
+test_snappy_framed[asyoulik.txt-cramjam]                        379.6710 (10.99)          473.0270 (7.39)           414.8673 (10.55)         12.1976 (7.67)           414.3355 (10.63)         13.0820 (34.60)      711;65   2,410.4092 (0.09)       2234           1
+test_snappy_framed[asyoulik.txt-snappy]                         782.9360 (22.66)          938.6060 (14.66)          807.4152 (20.54)         22.1008 (13.90)          800.8410 (20.55)         28.6260 (75.72)      207;26   1,238.5201 (0.05)       1061           1
+test_snappy_framed[fifty-four-mb-random-cramjam]             50,448.9600 (>1000.0)     60,230.9990 (940.58)      53,169.9146 (>1000.0)    3,170.3685 (>1000.0)     51,968.2390 (>1000.0)    1,977.7771 (>1000.0)       3;3      18.8076 (0.00)         18           1
+test_snappy_framed[fifty-four-mb-random-snappy]           3,164,490.5070 (>1000.0)  5,119,895.9580 (>1000.0)  4,685,685.8194 (>1000.0)  850,989.5239 (>1000.0)  5,047,832.6710 (>1000.0)  507,628.8615 (>1000.0)       1;1       0.2134 (0.00)          5           1
+test_snappy_framed[fifty-four-mb-repeating-cramjam]          36,469.7640 (>1000.0)     53,657.1800 (837.92)      41,827.1772 (>1000.0)    6,810.1733 (>1000.0)     37,215.6450 (954.76)    12,874.1443 (>1000.0)       7;0      23.9079 (0.00)         25           1
+test_snappy_framed[fifty-four-mb-repeating-snappy]          272,525.3050 (>1000.0)    319,697.7690 (>1000.0)    295,036.7576 (>1000.0)   20,053.2981 (>1000.0)    291,268.1390 (>1000.0)   34,984.8552 (>1000.0)       2;0       3.3894 (0.00)          5           1
+test_snappy_framed[fireworks.jpeg-cramjam]                       43.7250 (1.27)            82.4920 (1.29)            45.3223 (1.15)           2.3333 (1.47)            44.6160 (1.14)           0.3781 (1.0)     1459;2641  22,064.2048 (0.87)      13467           1
+test_snappy_framed[fireworks.jpeg-snappy]                       418.9740 (12.13)          495.5910 (7.74)           422.4280 (10.75)          7.1744 (4.51)           420.3495 (10.78)          1.8170 (4.81)      172;298   2,367.2674 (0.09)       1964           1
+test_snappy_framed[geo.protodata-cramjam]                       106.2290 (3.08)           156.0030 (2.44)           114.7162 (2.92)           5.6912 (3.58)           113.2460 (2.91)           5.6307 (14.89)    1898;293   8,717.1625 (0.34)       6317           1
+test_snappy_framed[geo.protodata-snappy]                        459.6560 (13.31)          712.6420 (11.13)          490.9161 (12.49)         28.9804 (18.23)          480.5300 (12.33)         44.3642 (117.35)     417;16   2,037.0079 (0.08)       1761           1
+test_snappy_framed[html-cramjam]                                114.4570 (3.31)           330.9220 (5.17)           124.1903 (3.16)           7.5444 (4.74)           122.0535 (3.13)           6.0660 (16.05)     767;233   8,052.1600 (0.32)       5358           1
+test_snappy_framed[html-snappy]                                 419.1740 (12.13)          518.9120 (8.10)           440.4698 (11.21)         19.0325 (11.97)          432.7900 (11.10)         23.5960 (62.41)      425;63   2,270.3031 (0.09)       1874           1
+test_snappy_framed[html_x_4-cramjam]                            498.1220 (14.42)          626.0840 (9.78)           538.0052 (13.69)         17.7006 (11.13)          533.8565 (13.70)         22.1410 (58.56)      294;39   1,858.7179 (0.07)       1406           1
+test_snappy_framed[html_x_4-snappy]                           1,774.0160 (51.35)        2,062.4400 (32.21)        1,799.3159 (45.77)         30.9255 (19.45)        1,790.9070 (45.95)         20.1712 (53.35)       37;36     555.7668 (0.02)        463           1
+test_snappy_framed[kppkn.gtb-cramjam]                           363.9480 (10.54)          445.5770 (6.96)           386.9350 (9.84)          12.8919 (8.11)           383.9880 (9.85)          13.1481 (34.78)      581;84   2,584.4136 (0.10)       1986           1
+test_snappy_framed[kppkn.gtb-snappy]                            948.8640 (27.47)        1,818.3100 (28.40)          991.6895 (25.23)         69.9524 (43.99)          964.2670 (24.74)         58.9637 (155.96)      98;38   1,008.3801 (0.04)        851           1
+test_snappy_framed[lcet10.txt-cramjam]                        1,211.4980 (35.07)        1,411.0670 (22.04)        1,266.7555 (32.23)         32.8859 (20.68)        1,269.7810 (32.58)         43.5995 (115.32)     201;22     789.4183 (0.03)        712           1
+test_snappy_framed[lcet10.txt-snappy]                         2,746.5900 (79.51)        3,359.2020 (52.46)        2,815.2247 (71.62)         72.5785 (45.64)        2,801.3160 (71.87)         55.8608 (147.76)       16;9     355.2114 (0.01)        323           1
+test_snappy_framed[paper-100k.pdf-cramjam]                       40.7860 (1.18)            71.1230 (1.11)            42.7810 (1.09)           2.1702 (1.36)            41.8275 (1.07)           1.8580 (4.91)     2532;810  23,374.8378 (0.92)      13638           1
+test_snappy_framed[paper-100k.pdf-snappy]                       355.6370 (10.29)          417.0000 (6.51)           363.4989 (9.25)          11.6659 (7.34)           357.4060 (9.17)          11.1997 (29.62)     358;220   2,751.0397 (0.11)       2321           1
+test_snappy_framed[plrabn12.txt-cramjam]                      1,619.8560 (46.89)        2,237.4490 (34.94)        1,774.7065 (45.15)         73.1317 (45.99)        1,758.2970 (45.11)         91.5220 (242.08)     145;11     563.4735 (0.02)        521           1
+test_snappy_framed[plrabn12.txt-snappy]                       3,366.8110 (97.46)        4,179.6740 (65.27)        3,670.3920 (93.37)        221.7947 (139.48)       3,587.1925 (92.03)        398.7299 (>1000.0)      98;0     272.4505 (0.01)        246           1
+test_snappy_framed[urls.10K-cramjam]                          1,572.6960 (45.52)        2,352.0380 (36.73)        1,782.1609 (45.34)        168.3364 (105.86)       1,712.2195 (43.93)        103.8710 (274.75)    109;108     561.1166 (0.02)        566           1
+test_snappy_framed[urls.10K-snappy]                           3,668.1250 (106.18)       4,344.0750 (67.84)        3,754.5744 (95.52)        134.4371 (84.54)        3,698.2595 (94.88)         68.2920 (180.64)      30;33     266.3418 (0.01)        240           1
+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 `make bench-snappy-raw`
 
 ```bash
------------------------------------------------------------------------------------------------------------- benchmark: 28 tests -------------------------------------------------------------------------------------------------------------
-Name (time in us)                                              Min                    Max                   Mean              StdDev                 Median                 IQR            Outliers          OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_snappy_raw[Mark.Twain-Tom.Sawyer.txt-cramjam]         51.9970 (3.43)        110.7800 (2.43)         53.6142 (3.37)       3.9642 (2.32)         52.7401 (3.38)       0.3098 (2.50)      432;630  18,651.7875 (0.30)       7791           1
-test_snappy_raw[Mark.Twain-Tom.Sawyer.txt-snappy]          52.7010 (3.47)        122.6700 (2.69)         54.9113 (3.45)       4.9091 (2.88)         53.6260 (3.44)       0.4690 (3.78)     768;1676  18,211.1850 (0.29)      11113           1
-test_snappy_raw[alice29.txt-cramjam]                      599.3680 (39.51)       895.2310 (19.61)       613.8907 (38.59)     22.1703 (13.00)       603.5195 (38.70)     20.4269 (164.76)     133;54   1,628.9544 (0.03)       1158           1
-test_snappy_raw[alice29.txt-snappy]                       600.2350 (39.57)       775.9969 (17.00)       613.0591 (38.54)     17.8929 (10.49)       603.6960 (38.71)     19.4444 (156.83)     231;68   1,631.1640 (0.03)       1631           1
-test_snappy_raw[asyoulik.txt-cramjam]                     532.1550 (35.08)       831.1180 (18.21)       545.4919 (34.29)     21.3844 (12.54)       535.0631 (34.31)     19.8718 (160.28)     167;63   1,833.2078 (0.03)       1307           1
-test_snappy_raw[asyoulik.txt-snappy]                      532.5220 (35.10)       800.6040 (17.54)       544.5727 (34.24)     18.2074 (10.67)       536.1935 (34.38)     12.6080 (101.69)    219;197   1,836.3022 (0.03)       1830           1
-test_snappy_raw[fifty-four-mb-random-cramjam]          37,541.5270 (>1000.0)  38,867.6571 (851.52)   37,919.1172 (>1000.0)  307.6292 (180.35)   37,829.9700 (>1000.0)  311.4055 (>1000.0)       6;2      26.3719 (0.00)         27           1
-test_snappy_raw[fifty-four-mb-random-snappy]           54,326.6139 (>1000.0)  55,845.7799 (>1000.0)  54,884.3537 (>1000.0)  412.7079 (241.95)   54,832.6219 (>1000.0)  475.0847 (>1000.0)       6;1      18.2201 (0.00)         19           1
-test_snappy_raw[fifty-four-mb-repeating-cramjam]       17,394.3370 (>1000.0)  18,066.0550 (395.79)   17,612.4400 (>1000.0)  163.3287 (95.75)    17,561.4910 (>1000.0)  237.1181 (>1000.0)      11;0      56.7780 (0.00)         29           1
-test_snappy_raw[fifty-four-mb-repeating-snappy]        31,430.8960 (>1000.0)  32,698.4840 (716.36)   31,772.2997 (>1000.0)  271.8508 (159.38)   31,746.9710 (>1000.0)  266.7012 (>1000.0)       4;2      31.4740 (0.00)         31           1
-test_snappy_raw[fireworks.jpeg-cramjam]                    25.3069 (1.67)         59.5120 (1.30)         26.2138 (1.65)       2.6992 (1.58)         25.5830 (1.64)       0.1240 (1.0)       349;901  38,147.7836 (0.61)       7113           1
-test_snappy_raw[fireworks.jpeg-snappy]                     15.1701 (1.0)          45.6451 (1.0)          15.9064 (1.0)        1.7057 (1.0)          15.5960 (1.0)        0.1411 (1.14)     988;5393  62,867.9262 (1.0)       35170           1
-test_snappy_raw[geo.protodata-cramjam]                    155.7680 (10.27)       250.6210 (5.49)        160.3773 (10.08)      9.2061 (5.40)        157.2450 (10.08)      0.8419 (6.79)      356;768   6,235.2982 (0.10)       3922           1
-test_snappy_raw[geo.protodata-snappy]                     142.9900 (9.43)        266.7190 (5.84)        148.3392 (9.33)       8.0790 (4.74)        145.8429 (9.35)       2.2233 (17.93)     471;684   6,741.3054 (0.11)       5261           1
-test_snappy_raw[html-cramjam]                             165.5300 (10.91)       266.9621 (5.85)        169.8480 (10.68)      9.1233 (5.35)        166.7660 (10.69)      0.6332 (5.11)      348;702   5,887.6187 (0.09)       3877           1
-test_snappy_raw[html-snappy]                              156.3310 (10.31)       247.4729 (5.42)        160.6741 (10.10)      8.7547 (5.13)        157.9490 (10.13)      0.7500 (6.05)      480;904   6,223.7766 (0.10)       5697           1
-test_snappy_raw[html_x_4-cramjam]                         660.6469 (43.55)     1,195.4820 (26.19)       678.1065 (42.63)     39.0818 (22.91)       664.1049 (42.58)     20.3864 (164.43)      42;47   1,474.6945 (0.02)       1035           1
-test_snappy_raw[html_x_4-snappy]                          633.0810 (41.73)       917.3179 (20.10)       648.8233 (40.79)     21.6437 (12.69)       638.4600 (40.94)     20.0127 (161.42)     193;63   1,541.2517 (0.02)       1451           1
-test_snappy_raw[kppkn.gtb-cramjam]                        499.2380 (32.91)       708.5471 (15.52)       510.3782 (32.09)     18.7145 (10.97)       501.3411 (32.15)     14.9945 (120.94)    175;131   1,959.3315 (0.03)       1355           1
-test_snappy_raw[kppkn.gtb-snappy]                         503.4071 (33.18)       733.6430 (16.07)       514.8920 (32.37)     18.8445 (11.05)       505.8900 (32.44)     14.7057 (118.61)    223;174   1,942.1549 (0.03)       1907           1
-test_snappy_raw[lcet10.txt-cramjam]                     1,585.7200 (104.53)    1,902.8189 (41.69)     1,620.1644 (101.86)    42.2322 (24.76)     1,608.8235 (103.16)    43.0678 (347.37)      57;18     617.2213 (0.01)        486           1
-test_snappy_raw[lcet10.txt-snappy]                      1,590.4551 (104.84)    2,116.2720 (46.36)     1,627.2067 (102.30)    47.9340 (28.10)     1,616.7820 (103.67)    41.8220 (337.32)      48;22     614.5501 (0.01)        534           1
-test_snappy_raw[paper-100k.pdf-cramjam]                    28.1520 (1.86)         69.1239 (1.51)         29.0821 (1.83)       2.6677 (1.56)         28.4630 (1.83)       0.1448 (1.17)     344;1243  34,385.3648 (0.55)       7894           1
-test_snappy_raw[paper-100k.pdf-snappy]                     20.3360 (1.34)         85.0500 (1.86)         21.3502 (1.34)       2.1718 (1.27)         20.9491 (1.34)       0.4959 (4.00)     930;1321  46,838.0012 (0.75)      25100           1
-test_snappy_raw[plrabn12.txt-cramjam]                   2,169.4830 (143.01)    4,583.7279 (100.42)    2,236.1366 (140.58)   180.7923 (105.99)    2,212.1780 (141.84)    60.5080 (488.04)       7;10     447.1999 (0.01)        318           1
-test_snappy_raw[plrabn12.txt-snappy]                    2,187.1999 (144.18)    2,717.8620 (59.54)     2,246.2940 (141.22)    67.8218 (39.76)     2,230.6465 (143.03)    47.7184 (384.88)      38;30     445.1777 (0.01)        392           1
-test_snappy_raw[urls.10K-cramjam]                       1,852.2060 (122.10)    2,464.6381 (54.00)     1,899.2503 (119.40)    65.4195 (38.35)     1,882.6990 (120.72)    52.5715 (424.02)      31;18     526.5235 (0.01)        424           1
-test_snappy_raw[urls.10K-snappy]                        1,814.2400 (119.59)    2,366.7030 (51.85)     1,855.7408 (116.67)    63.5185 (37.24)     1,840.4050 (118.00)    45.1091 (363.83)      25;20     538.8684 (0.01)        438           1
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+--------------------------------------------------------------------------------------------------------------- benchmark: 28 tests ----------------------------------------------------------------------------------------------------------------
+Name (time in us)                                              Min                    Max                   Mean                StdDev                 Median                    IQR            Outliers           OPS            Rounds  Iterations
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_snappy_raw[Mark.Twain-Tom.Sawyer.txt-cramjam]         28.0010 (4.79)         60.4390 (1.73)         31.9080 (4.53)         1.8590 (3.44)         31.7450 (4.87)          2.4550 (16.48)    3749;131   31,340.0822 (0.22)      12606           1
+test_snappy_raw[Mark.Twain-Tom.Sawyer.txt-snappy]          26.9300 (4.61)         76.8340 (2.21)         28.9253 (4.11)         0.9898 (1.83)         28.7750 (4.41)          0.3340 (2.24)    1566;2560   34,571.8473 (0.24)      16034           1
+test_snappy_raw[alice29.txt-cramjam]                      401.1650 (68.65)       480.1380 (13.78)       422.9262 (60.03)       11.5861 (21.45)       422.4815 (64.78)        11.9550 (80.23)      554;58    2,364.4788 (0.02)       1808           1
+test_snappy_raw[alice29.txt-snappy]                       445.0010 (76.15)       572.9450 (16.45)       468.7200 (66.53)       10.7167 (19.84)       469.0450 (71.92)        11.3955 (76.47)      481;46    2,133.4697 (0.02)       1843           1
+test_snappy_raw[asyoulik.txt-cramjam]                     357.2120 (61.12)       435.3620 (12.50)       377.4845 (53.58)        7.6349 (14.13)       377.0095 (57.81)         5.6040 (37.61)     466;346    2,649.1153 (0.02)       2260           1
+test_snappy_raw[asyoulik.txt-snappy]                      396.0270 (67.77)       611.7280 (17.56)       419.0061 (59.47)       14.0578 (26.02)       417.9780 (64.09)        10.7302 (72.01)      222;67    2,386.5999 (0.02)       2161           1
+test_snappy_raw[fifty-four-mb-random-cramjam]          35,430.8690 (>1000.0)  45,847.4250 (>1000.0)  37,358.7421 (>1000.0)  2,664.1931 (>1000.0)  36,391.3140 (>1000.0)   1,248.2977 (>1000.0)       3;3       26.7675 (0.00)         27           1
+test_snappy_raw[fifty-four-mb-random-snappy]           31,321.3560 (>1000.0)  35,562.3420 (>1000.0)  33,133.2397 (>1000.0)  1,605.7256 (>1000.0)  32,645.6880 (>1000.0)   3,162.5080 (>1000.0)      14;0       30.1812 (0.00)         31           1
+test_snappy_raw[fifty-four-mb-repeating-cramjam]       21,230.4320 (>1000.0)  35,662.5360 (>1000.0)  24,200.3345 (>1000.0)  4,277.1733 (>1000.0)  21,868.5330 (>1000.0)   5,020.0773 (>1000.0)       8;3       41.3217 (0.00)         43           1
+test_snappy_raw[fifty-four-mb-repeating-snappy]        23,444.9620 (>1000.0)  43,529.4480 (>1000.0)  30,842.1981 (>1000.0)  6,956.1883 (>1000.0)  29,924.6840 (>1000.0)  12,560.6345 (>1000.0)      13;0       32.4231 (0.00)         35           1
+test_snappy_raw[fireworks.jpeg-cramjam]                    10.1300 (1.73)         48.0650 (1.38)         10.9993 (1.56)         0.8872 (1.64)         10.8080 (1.66)          0.4860 (3.26)    1579;1765   90,915.0799 (0.64)      29916           1
+test_snappy_raw[fireworks.jpeg-snappy]                      5.8440 (1.0)          34.8380 (1.0)           7.0455 (1.0)          1.9740 (3.65)          6.5220 (1.0)           0.2473 (1.66)    2521;4361  141,934.0808 (1.0)       36113           1
+test_snappy_raw[geo.protodata-cramjam]                     78.4250 (13.42)       137.9500 (3.96)         86.2121 (12.24)        5.1533 (9.54)         84.6650 (12.98)         5.1345 (34.46)    1254;302   11,599.2970 (0.08)       5657           1
+test_snappy_raw[geo.protodata-snappy]                      71.2520 (12.19)       117.4700 (3.37)         80.4148 (11.41)        4.3536 (8.06)         79.7810 (12.23)         6.0615 (40.68)     2014;77   12,435.5282 (0.09)       6831           1
+test_snappy_raw[html-cramjam]                              89.5510 (15.32)       149.8580 (4.30)         98.8037 (14.02)        4.8620 (9.00)         97.5125 (14.95)         5.1255 (34.40)    1294;283   10,121.0744 (0.07)       5724           1
+test_snappy_raw[html-snappy]                               85.5240 (14.63)       149.3820 (4.29)         94.9606 (13.48)        4.8372 (8.95)         94.4030 (14.47)         7.1725 (48.13)     2195;35   10,530.6790 (0.07)       6472           1
+test_snappy_raw[html_x_4-cramjam]                         405.9860 (69.47)       702.9710 (20.18)       454.3526 (64.49)       34.8446 (64.50)       448.2530 (68.73)        21.3510 (143.28)      79;60    2,200.9337 (0.02)       1462           1
+test_snappy_raw[html_x_4-snappy]                          422.9740 (72.38)       647.5400 (18.59)       464.3638 (65.91)       33.2042 (61.46)       455.7550 (69.88)        19.2223 (129.00)    160;114    2,153.4839 (0.02)       1561           1
+test_snappy_raw[kppkn.gtb-cramjam]                        325.1210 (55.63)       426.9950 (12.26)       351.9489 (49.95)       16.5860 (30.70)       349.4085 (53.57)        26.1700 (175.62)     767;11    2,841.3220 (0.02)       1994           1
+test_snappy_raw[kppkn.gtb-snappy]                         344.0450 (58.87)       425.1800 (12.20)       370.7409 (52.62)       10.3033 (19.07)       368.7160 (56.53)        12.7380 (85.48)      465;60    2,697.3012 (0.02)       2200           1
+test_snappy_raw[lcet10.txt-cramjam]                     1,095.6750 (187.49)    1,362.0870 (39.10)     1,189.0433 (168.77)      41.1628 (76.20)     1,179.6520 (180.87)       56.2050 (377.19)     172;17      841.0123 (0.01)        754           1
+test_snappy_raw[lcet10.txt-snappy]                      1,206.4470 (206.44)    1,584.6880 (45.49)     1,297.6861 (184.19)      47.3392 (87.63)     1,289.8420 (197.77)       38.5145 (258.47)     106;36      770.6024 (0.01)        704           1
+test_snappy_raw[paper-100k.pdf-cramjam]                    12.2860 (2.10)         44.2950 (1.27)         13.1896 (1.87)         0.8487 (1.57)         13.0200 (2.00)          0.1490 (1.0)     1002;3367   75,817.5069 (0.53)      11359           1
+test_snappy_raw[paper-100k.pdf-snappy]                     10.2890 (1.76)         35.7210 (1.03)         11.0991 (1.58)         0.5402 (1.0)          11.0640 (1.70)          0.3180 (2.13)    1434;1328   90,097.6017 (0.63)      27306           1
+test_snappy_raw[plrabn12.txt-cramjam]                   1,512.8650 (258.88)    1,881.1250 (54.00)     1,609.2872 (228.41)      48.7215 (90.19)     1,591.1230 (243.96)       37.5485 (251.98)      66;46      621.3931 (0.00)        525           1
+test_snappy_raw[plrabn12.txt-snappy]                    1,716.5850 (293.74)    2,070.5130 (59.43)     1,804.1379 (256.07)      68.1815 (126.21)    1,799.4450 (275.90)       57.6188 (386.67)      96;34      554.2814 (0.00)        499           1
+test_snappy_raw[urls.10K-cramjam]                       1,357.1110 (232.22)    2,421.0440 (69.49)     1,634.3708 (231.97)     283.8191 (525.37)    1,483.5370 (227.47)      277.4218 (>1000.0)    120;68      611.8563 (0.00)        543           1
+test_snappy_raw[urls.10K-snappy]                        1,333.5560 (228.19)    2,160.5230 (62.02)     1,579.1927 (224.14)     226.8612 (419.94)    1,461.6870 (224.12)      342.2740 (>1000.0)     138;0      633.2350 (0.00)        569           1
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 
 ##### Benchmarks for using `compress_into` and `decompress_into`
 All variants implement a `compress_into` and `decompress_into`
 This is where, if you have a Python numpy array pre-allocated to the size of the
 de/compress data output, we can place the bytes directly into that buffer.
 
 Again, since basically no variants implement similar functionality as we saw in the Gzip `output_len`
 benchmarks, this benchmark is specific to `cramjam`
 
 ```bash
---------------------------------------------------------------------------------------------------------------------------- benchmark: 28 tests ----------------------------------------------------------------------------------------------------------------------------
-Name (time in us)                                                                           Min                    Max                   Mean              StdDev                 Median                 IQR            Outliers           OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_cramjam_snappy_de_compress_into[Mark.Twain-Tom.Sawyer.txt-compress_into]           40.5740 (6.10)         80.9841 (4.98)         42.0519 (6.02)       3.3541 (3.54)         41.1549 (5.99)       0.3109 (4.71)    1006;2779   23,780.1522 (0.17)      17961           1
-test_cramjam_snappy_de_compress_into[Mark.Twain-Tom.Sawyer.txt-decompress_into]          6.7360 (1.01)         21.8459 (1.34)          6.9848 (1.0)        0.9464 (1.0)           6.8730 (1.0)        0.0660 (1.0)       122;700  143,168.7285 (1.0)        9684           1
-test_cramjam_snappy_de_compress_into[alice29.txt-compress_into]                        461.2940 (69.40)       669.6520 (41.18)       473.9482 (67.85)     18.6320 (19.69)       464.7850 (67.62)     15.4326 (233.80)    240;175    2,109.9353 (0.01)       1992           1
-test_cramjam_snappy_de_compress_into[alice29.txt-decompress_into]                        6.7560 (1.02)         22.4550 (1.38)          7.1457 (1.02)       0.9911 (1.05)          7.0620 (1.03)       0.1279 (1.94)       51;203  139,943.6715 (0.98)       3866           1
-test_cramjam_snappy_de_compress_into[asyoulik.txt-compress_into]                       408.1880 (61.41)       628.2150 (38.64)       420.7408 (60.24)     17.0570 (18.02)       411.6645 (59.90)     19.7020 (298.48)     301;60    2,376.7602 (0.02)       2338           1
-test_cramjam_snappy_de_compress_into[asyoulik.txt-decompress_into]                       6.6471 (1.0)          35.4199 (2.18)          7.1268 (1.02)       1.2031 (1.27)          7.0110 (1.02)       0.0992 (1.50)       86;954  140,315.1785 (0.98)       5545           1
-test_cramjam_snappy_de_compress_into[fifty-four-mb-random-compress_into]            21,292.6060 (>1000.0)  22,134.7660 (>1000.0)  21,556.6603 (>1000.0)  195.2096 (206.28)   21,524.6500 (>1000.0)  282.1560 (>1000.0)       7;1       46.3894 (0.00)         26           1
-test_cramjam_snappy_de_compress_into[fifty-four-mb-random-decompress_into]               6.8980 (1.04)         17.6111 (1.08)          7.4460 (1.07)       1.8980 (2.01)          7.0570 (1.03)       0.2597 (3.93)          1;2  134,299.5668 (0.94)         31           1
-test_cramjam_snappy_de_compress_into[fifty-four-mb-repeating-compress_into]         14,725.2050 (>1000.0)  15,681.2500 (964.41)   14,952.5908 (>1000.0)  172.2539 (182.02)   14,909.9910 (>1000.0)  154.4059 (>1000.0)       8;3       66.8780 (0.00)         62           1
-test_cramjam_snappy_de_compress_into[fifty-four-mb-repeating-decompress_into]            6.8520 (1.03)         16.2600 (1.0)           7.4351 (1.06)       1.7599 (1.86)          7.0125 (1.02)       0.1526 (2.31)          1;5  134,496.9292 (0.94)         28           1
-test_cramjam_snappy_de_compress_into[fireworks.jpeg-compress_into]                      45.8390 (6.90)         94.1610 (5.79)         47.7454 (6.84)       3.5484 (3.75)         46.8700 (6.82)       0.8349 (12.65)   1167;2927   20,944.4108 (0.15)      19418           1
-test_cramjam_snappy_de_compress_into[fireworks.jpeg-decompress_into]                     6.7510 (1.02)         41.1160 (2.53)          7.1202 (1.02)       1.1970 (1.26)          6.9160 (1.01)       0.1888 (2.86)      515;974  140,445.6319 (0.98)      25688           1
-test_cramjam_snappy_de_compress_into[geo.protodata-compress_into]                      120.1930 (18.08)       224.7400 (13.82)       124.6344 (17.84)      7.8673 (8.31)        122.0175 (17.75)      1.2110 (18.35)    666;1483    8,023.4694 (0.06)       7554           1
-test_cramjam_snappy_de_compress_into[geo.protodata-decompress_into]                      6.7500 (1.02)         28.4720 (1.75)          7.2207 (1.03)       1.2935 (1.37)          7.0831 (1.03)       0.2290 (3.47)      260;297  138,490.1876 (0.97)      11741           1
-test_cramjam_snappy_de_compress_into[html-compress_into]                               128.7600 (19.37)       240.4600 (14.79)       133.1894 (19.07)      8.4420 (8.92)        130.3609 (18.97)      0.9710 (14.71)    619;1486    7,508.1029 (0.05)       7215           1
-test_cramjam_snappy_de_compress_into[html-decompress_into]                               6.7130 (1.01)         29.0590 (1.79)          7.3321 (1.05)       1.5681 (1.66)          6.9850 (1.02)       0.2070 (3.14)      878;946  136,386.3798 (0.95)      12593           1
-test_cramjam_snappy_de_compress_into[html_x_4-compress_into]                           510.7940 (76.84)       783.9740 (48.21)       525.5117 (75.24)     21.4496 (22.67)       514.8470 (74.91)     20.4052 (309.13)     227;82    1,902.9072 (0.01)       1807           1
-test_cramjam_snappy_de_compress_into[html_x_4-decompress_into]                           6.7271 (1.01)         26.0500 (1.60)          7.2545 (1.04)       1.3682 (1.45)          6.9321 (1.01)       0.3700 (5.60)       89;281  137,844.8162 (0.96)       3292           1
-test_cramjam_snappy_de_compress_into[kppkn.gtb-compress_into]                          360.5250 (54.24)       599.6680 (36.88)       371.5869 (53.20)     15.3924 (16.26)       363.2680 (52.85)     20.0116 (303.17)     306;42    2,691.1603 (0.02)       2497           1
-test_cramjam_snappy_de_compress_into[kppkn.gtb-decompress_into]                          6.7559 (1.02)         28.5150 (1.75)          7.2983 (1.04)       1.3938 (1.47)          7.1101 (1.03)       0.2340 (3.54)      129;254  137,018.7128 (0.96)       4798           1
-test_cramjam_snappy_de_compress_into[lcet10.txt-compress_into]                       1,220.3240 (183.59)    1,442.1020 (88.69)     1,252.7170 (179.35)    34.3613 (36.31)     1,244.1790 (181.02)    44.0781 (667.77)     138;22      798.2649 (0.01)        814           1
-test_cramjam_snappy_de_compress_into[lcet10.txt-decompress_into]                         6.7160 (1.01)         27.3180 (1.68)          7.2492 (1.04)       1.3898 (1.47)          7.0255 (1.02)       0.3814 (5.78)       60;125  137,946.6539 (0.96)       1868           1
-test_cramjam_snappy_de_compress_into[paper-100k.pdf-compress_into]                      39.6080 (5.96)         91.3910 (5.62)         41.3625 (5.92)       3.3869 (3.58)         40.6440 (5.91)       0.9619 (14.57)   1132;1662   24,176.4958 (0.17)      20478           1
-test_cramjam_snappy_de_compress_into[paper-100k.pdf-decompress_into]                     6.7310 (1.01)         31.5481 (1.94)          7.1218 (1.02)       1.1942 (1.26)          6.9310 (1.01)       0.1870 (2.83)      440;725  140,414.1376 (0.98)      23261           1
-test_cramjam_snappy_de_compress_into[plrabn12.txt-compress_into]                     1,651.1610 (248.40)    2,189.8210 (134.68)    1,689.8730 (241.94)    46.3566 (48.98)     1,677.2315 (244.03)    50.6585 (767.47)      69;14      591.7604 (0.00)        572           1
-test_cramjam_snappy_de_compress_into[plrabn12.txt-decompress_into]                       6.6870 (1.01)         36.4761 (2.24)          7.1576 (1.02)       1.5466 (1.63)          6.8745 (1.00)       0.2451 (3.71)        44;53  139,711.1538 (0.98)       1228           1
-test_cramjam_snappy_de_compress_into[urls.10K-compress_into]                         1,445.5540 (217.47)    1,788.2879 (109.98)    1,486.7689 (212.86)    41.1075 (43.44)     1,474.6580 (214.56)    52.1065 (789.40)      88;14      672.5995 (0.00)        636           1
-test_cramjam_snappy_de_compress_into[urls.10K-decompress_into]                           6.7020 (1.01)         31.9510 (1.97)          7.3564 (1.05)       1.7521 (1.85)          6.8840 (1.00)       0.2775 (4.20)       85;117  135,935.3108 (0.95)       1117           1
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+---------------------------------------------------------------------------------------------------------------------------- benchmark: 28 tests ----------------------------------------------------------------------------------------------------------------------------
+Name (time in us)                                                                           Min                    Max                   Mean              StdDev                 Median                   IQR            Outliers          OPS            Rounds  Iterations
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_cramjam_snappy_de_compress_into[Mark.Twain-Tom.Sawyer.txt-compress_into]           18.0310 (1.58)         54.7750 (1.18)         19.6129 (1.63)       1.4020 (2.01)         19.2360 (1.61)         1.0880 (8.00)    3383;1527  50,986.9037 (0.61)      23492           1
+test_cramjam_snappy_de_compress_into[Mark.Twain-Tom.Sawyer.txt-decompress_into]         11.3850 (1.0)          50.0580 (1.08)         12.0015 (1.0)        0.6985 (1.0)          11.9760 (1.0)          0.5119 (3.76)    1709;1543  83,323.1549 (1.0)       20060           1
+test_cramjam_snappy_de_compress_into[alice29.txt-compress_into]                        311.2630 (27.34)       369.1700 (7.97)        326.1066 (27.17)      9.4492 (13.53)       327.5030 (27.35)       13.9962 (102.89)    1094;44   3,066.4816 (0.04)       2891           1
+test_cramjam_snappy_de_compress_into[alice29.txt-decompress_into]                      120.2330 (10.56)       192.3420 (4.15)        129.4531 (10.79)      5.1066 (7.31)        128.6950 (10.75)        5.0130 (36.85)    1505;261   7,724.8060 (0.09)       5758           1
+test_cramjam_snappy_de_compress_into[asyoulik.txt-compress_into]                       271.2750 (23.83)       345.7670 (7.46)        289.7546 (24.14)      8.3428 (11.94)       290.9890 (24.30)       12.1738 (89.49)     1113;29   3,451.1967 (0.04)       3051           1
+test_cramjam_snappy_de_compress_into[asyoulik.txt-decompress_into]                     107.4690 (9.44)        147.8530 (3.19)        113.0167 (9.42)       3.3989 (4.87)        113.0510 (9.44)         1.2400 (9.12)    2164;2575   8,848.2504 (0.11)       7605           1
+test_cramjam_snappy_de_compress_into[fifty-four-mb-random-compress_into]            13,065.9060 (>1000.0)  13,720.7850 (296.08)   13,263.4344 (>1000.0)  137.4746 (196.80)   13,245.1840 (>1000.0)    180.3048 (>1000.0)      12;1      75.3953 (0.00)         41           1
+test_cramjam_snappy_de_compress_into[fifty-four-mb-random-decompress_into]          10,884.4140 (956.03)   11,502.9810 (248.22)   11,023.9206 (918.55)   126.7868 (181.50)   10,993.2940 (917.94)     133.0880 (978.36)        7;2      90.7118 (0.00)         47           1
+test_cramjam_snappy_de_compress_into[fifty-four-mb-repeating-compress_into]          9,793.2480 (860.19)   11,932.1500 (257.48)   10,499.6366 (874.86)   565.2263 (809.15)   10,233.8120 (854.53)   1,006.7380 (>1000.0)      34;0      95.2414 (0.00)         97           1
+test_cramjam_snappy_de_compress_into[fifty-four-mb-repeating-decompress_into]       13,449.1500 (>1000.0)  13,798.8920 (297.76)   13,611.7777 (>1000.0)  100.3298 (143.63)   13,615.1300 (>1000.0)    173.1542 (>1000.0)      14;0      73.4658 (0.00)         37           1
+test_cramjam_snappy_de_compress_into[fireworks.jpeg-compress_into]                      24.6690 (2.17)         60.5580 (1.31)         25.6230 (2.13)       1.2445 (1.78)         25.0670 (2.09)         1.0669 (7.84)    2634;1415  39,027.4796 (0.47)      29802           1
+test_cramjam_snappy_de_compress_into[fireworks.jpeg-decompress_into]                    19.3420 (1.70)         46.3420 (1.0)          19.7981 (1.65)       0.8747 (1.25)         19.5900 (1.64)         0.1360 (1.0)     1500;2099  50,509.9939 (0.61)      19883           1
+test_cramjam_snappy_de_compress_into[geo.protodata-compress_into]                       55.2620 (4.85)         97.6310 (2.11)         61.9433 (5.16)       3.1557 (4.52)         61.4180 (5.13)         3.8687 (28.44)    2492;238  16,143.8077 (0.19)      10229           1
+test_cramjam_snappy_de_compress_into[geo.protodata-decompress_into]                     32.0750 (2.82)         66.2310 (1.43)         37.0492 (3.09)       3.3861 (4.85)         36.6340 (3.06)         4.0270 (29.60)    3967;490  26,991.1105 (0.32)      15932           1
+test_cramjam_snappy_de_compress_into[html-compress_into]                                62.6890 (5.51)        111.9900 (2.42)         69.1820 (5.76)       3.4201 (4.90)         68.2530 (5.70)         4.1485 (30.50)    1793;260  14,454.6235 (0.17)       9785           1
+test_cramjam_snappy_de_compress_into[html-decompress_into]                              31.9190 (2.80)         64.9500 (1.40)         33.0087 (2.75)       1.6430 (2.35)         32.2055 (2.69)         1.3650 (10.03)    1190;580  30,295.0795 (0.36)      12000           1
+test_cramjam_snappy_de_compress_into[html_x_4-compress_into]                           304.8710 (26.78)       386.4630 (8.34)        327.8872 (27.32)     10.1213 (14.49)       324.7320 (27.12)        8.2359 (60.54)     505;312   3,049.8294 (0.04)       2897           1
+test_cramjam_snappy_de_compress_into[html_x_4-decompress_into]                         146.0860 (12.83)       205.1390 (4.43)        155.8785 (12.99)      6.1026 (8.74)        154.2720 (12.88)        4.9608 (36.47)     899;264   6,415.2519 (0.08)       3619           1
+test_cramjam_snappy_de_compress_into[kppkn.gtb-compress_into]                          233.1950 (20.48)       381.8900 (8.24)        248.9368 (20.74)     11.7801 (16.86)       245.4930 (20.50)       10.9696 (80.64)     819;173   4,017.0835 (0.05)       3484           1
+test_cramjam_snappy_de_compress_into[kppkn.gtb-decompress_into]                        116.4330 (10.23)       163.3600 (3.53)        124.6151 (10.38)      4.9459 (7.08)        123.5830 (10.32)        3.6220 (26.63)    1697;640   8,024.7094 (0.10)       6924           1
+test_cramjam_snappy_de_compress_into[lcet10.txt-compress_into]                         846.2590 (74.33)       975.1170 (21.04)       881.7123 (73.47)     21.7002 (31.06)       887.3200 (74.09)       37.6160 (276.52)      481;4   1,134.1568 (0.01)       1116           1
+test_cramjam_snappy_de_compress_into[lcet10.txt-decompress_into]                       320.4570 (28.15)       516.7530 (11.15)       347.3935 (28.95)      9.6587 (13.83)       348.0740 (29.06)        3.3760 (24.82)     572;656   2,878.5801 (0.03)       2186           1
+test_cramjam_snappy_de_compress_into[paper-100k.pdf-compress_into]                      22.2520 (1.95)         53.6130 (1.16)         23.0841 (1.92)       1.1055 (1.58)         22.5690 (1.88)         0.9760 (7.18)    2918;1451  43,319.7696 (0.52)      30512           1
+test_cramjam_snappy_de_compress_into[paper-100k.pdf-decompress_into]                    18.8530 (1.66)         74.9160 (1.62)         19.4056 (1.62)       1.0193 (1.46)         19.0591 (1.59)         0.7590 (5.58)    2581;1475  51,531.4622 (0.62)      35150           1
+test_cramjam_snappy_de_compress_into[plrabn12.txt-compress_into]                     1,159.5470 (101.85)    1,441.0510 (31.10)     1,224.4767 (102.03)    34.4923 (49.38)     1,221.3525 (101.98)      19.4960 (143.32)    182;167     816.6754 (0.01)        798           1
+test_cramjam_snappy_de_compress_into[plrabn12.txt-decompress_into]                     446.9480 (39.26)       745.6270 (16.09)       491.7309 (40.97)     15.4399 (22.10)       490.1670 (40.93)       13.5438 (99.56)      227;97   2,033.6325 (0.02)       2083           1
+test_cramjam_snappy_de_compress_into[urls.10K-compress_into]                           974.2860 (85.58)     1,125.5020 (24.29)     1,020.5675 (85.04)     27.0013 (38.65)     1,022.8860 (85.41)       37.7820 (277.74)     313;10     979.8470 (0.01)        918           1
+test_cramjam_snappy_de_compress_into[urls.10K-decompress_into]                         412.4130 (36.22)       531.0850 (11.46)       426.7128 (35.56)     13.3330 (19.09)       423.2610 (35.34)       18.8139 (138.31)     152;29   2,343.4964 (0.03)       1548           1
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 #### Lz4
 
 `make bench-lz4`
 
 ```bash
-------------------------------------------------------------------------------------------------------------------- benchmark: 28 tests -------------------------------------------------------------------------------------------------------------------
-Name (time in us)                                             Min                       Max                      Mean                 StdDev                    Median                    IQR            Outliers         OPS            Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_lz4[Mark.Twain-Tom.Sawyer.txt-cramjam]              245.3330 (1.0)          7,722.4160 (21.29)          364.4594 (1.05)        240.3840 (33.07)          368.7030 (1.06)         18.0650 (2.54)        3;265  2,743.7899 (0.95)       1155           1
-test_lz4[Mark.Twain-Tom.Sawyer.txt-python-lz4]           335.9900 (1.37)           362.7009 (1.0)            347.2828 (1.0)           7.2700 (1.0)            346.6295 (1.0)           7.1260 (1.0)           2;1  2,879.4977 (1.0)          10           1
-test_lz4[alice29.txt-cramjam]                          2,814.1720 (11.47)        4,936.4029 (13.61)        3,046.3559 (8.77)        379.7652 (52.24)        2,920.2300 (8.42)         70.8259 (9.94)        33;46    328.2611 (0.11)        338           1
-test_lz4[alice29.txt-python-lz4]                       3,121.6950 (12.72)        5,633.2920 (15.53)        3,441.3794 (9.91)        478.2910 (65.79)        3,252.9815 (9.38)        140.1610 (19.67)       34;50    290.5812 (0.10)        300           1
-test_lz4[asyoulik.txt-cramjam]                         2,314.5641 (9.43)         3,103.1220 (8.56)         2,382.4872 (6.86)         92.2261 (12.69)        2,359.6610 (6.81)         74.5750 (10.47)       29;18    419.7294 (0.15)        404           1
-test_lz4[asyoulik.txt-python-lz4]                      2,633.2920 (10.73)        4,455.6119 (12.28)        2,722.9006 (7.84)        196.3372 (27.01)        2,682.5680 (7.74)         65.2385 (9.15)        10;21    367.2554 (0.13)        367           1
-test_lz4[fifty-four-mb-random-cramjam]               757,487.6130 (>1000.0)    792,758.5000 (>1000.0)    772,111.8064 (>1000.0)  13,251.3858 (>1000.0)    769,733.5170 (>1000.0)  16,313.7843 (>1000.0)       2;0      1.2951 (0.00)          5           1
-test_lz4[fifty-four-mb-random-python-lz4]          1,597,680.0489 (>1000.0)  1,637,720.9669 (>1000.0)  1,613,587.9904 (>1000.0)  17,438.2782 (>1000.0)  1,606,424.0520 (>1000.0)  29,249.6240 (>1000.0)       1;0      0.6197 (0.00)          5           1
-test_lz4[fifty-four-mb-repeating-cramjam]            222,541.1070 (907.10)     237,449.5791 (654.67)     228,523.9746 (658.03)    6,592.2073 (906.77)     227,023.9190 (654.95)   11,598.6770 (>1000.0)       1;0      4.3759 (0.00)          5           1
-test_lz4[fifty-four-mb-repeating-python-lz4]         161,025.9259 (656.36)     356,819.4229 (983.78)     214,613.3904 (617.98)   73,690.5136 (>1000.0)    186,189.4020 (537.14)   90,134.4944 (>1000.0)       1;0      4.6595 (0.00)          7           1
-test_lz4[fireworks.jpeg-cramjam]                       1,556.7919 (6.35)         3,704.2680 (10.21)        1,665.9848 (4.80)        218.8115 (30.10)        1,613.6711 (4.66)         33.3220 (4.68)        26;59    600.2456 (0.21)        569           1
-test_lz4[fireworks.jpeg-python-lz4]                    2,682.0981 (10.93)        5,521.3780 (15.22)        2,876.1775 (8.28)        411.3732 (56.59)        2,762.2810 (7.97)         68.5747 (9.62)        22;43    347.6837 (0.12)        365           1
-test_lz4[geo.protodata-cramjam]                          744.4300 (3.03)         1,499.9070 (4.14)           799.9747 (2.30)         82.7017 (11.38)          779.4825 (2.25)         27.9890 (3.93)        58;87  1,250.0395 (0.43)       1174           1
-test_lz4[geo.protodata-python-lz4]                       694.2170 (2.83)         1,546.8430 (4.26)           722.2650 (2.08)         47.9471 (6.60)           718.2080 (2.07)         22.3070 (3.13)        51;71  1,384.5333 (0.48)       1383           1
-test_lz4[html-cramjam]                                   778.6801 (3.17)         1,917.2900 (5.29)           832.4302 (2.40)        111.0058 (15.27)          805.6900 (2.32)         13.8602 (1.95)       58;284  1,201.3020 (0.42)       1162           1
-test_lz4[html-python-lz4]                                716.7751 (2.92)         1,543.9009 (4.26)           757.5458 (2.18)        105.6609 (14.53)          730.4699 (2.11)         27.0145 (3.79)       63;104  1,320.0522 (0.46)       1340           1
-test_lz4[html_x_4-cramjam]                             3,105.4450 (12.66)        4,875.9540 (13.44)        3,301.6318 (9.51)        241.6346 (33.24)        3,248.0890 (9.37)        129.7960 (18.21)       20;21    302.8805 (0.11)        289           1
-test_lz4[html_x_4-python-lz4]                          3,016.9110 (12.30)        5,823.1900 (16.06)        3,218.6525 (9.27)        294.3938 (40.49)        3,157.1820 (9.11)        103.9958 (14.59)       20;23    310.6890 (0.11)        255           1
-test_lz4[kppkn.gtb-cramjam]                            3,345.9300 (13.64)        5,890.7979 (16.24)        3,538.4708 (10.19)       358.4893 (49.31)        3,434.2399 (9.91)        107.9319 (15.15)       21;28    282.6080 (0.10)        286           1
-test_lz4[kppkn.gtb-python-lz4]                         3,323.8300 (13.55)        6,563.6940 (18.10)        3,649.2799 (10.51)       507.6818 (69.83)        3,453.0250 (9.96)        141.2800 (19.83)       26;48    274.0267 (0.10)        274           1
-test_lz4[lcet10.txt-cramjam]                           7,444.1610 (30.34)       13,636.0540 (37.60)        8,044.9605 (23.17)     1,071.5044 (147.39)       7,670.1291 (22.13)       302.9506 (42.51)       15;22    124.3014 (0.04)        129           1
-test_lz4[lcet10.txt-python-lz4]                        8,787.4030 (35.82)       15,124.7031 (41.70)        9,523.0310 (27.42)     1,039.6363 (143.00)       9,116.1070 (26.30)       404.7097 (56.79)       15;20    105.0086 (0.04)        113           1
-test_lz4[paper-100k.pdf-cramjam]                       1,165.2170 (4.75)         3,391.3370 (9.35)         1,238.3142 (3.57)        187.5870 (25.80)        1,197.4330 (3.45)         45.5229 (6.39)        41;60    807.5495 (0.28)        806           1
-test_lz4[paper-100k.pdf-python-lz4]                    1,786.4701 (7.28)         3,989.5640 (11.00)        1,930.3730 (5.56)        270.5717 (37.22)        1,852.4720 (5.34)         43.4450 (6.10)        38;75    518.0346 (0.18)        533           1
-test_lz4[plrabn12.txt-cramjam]                        10,025.1100 (40.86)       15,823.3760 (43.63)       11,022.9072 (31.74)     1,388.2368 (190.95)      10,650.3405 (30.73)       757.5119 (106.30)        7;7     90.7202 (0.03)         62           1
-test_lz4[plrabn12.txt-python-lz4]                     11,853.4301 (48.32)       17,182.6570 (47.37)       13,388.9093 (38.55)     1,159.1757 (159.45)      12,978.2920 (37.44)     1,572.6237 (220.69)       18;1     74.6887 (0.03)         77           1
-test_lz4[urls.10K-cramjam]                             8,241.6250 (33.59)       15,744.7390 (43.41)        8,967.4984 (25.82)     1,247.4730 (171.59)       8,477.2279 (24.46)       717.1374 (100.64)        9;9    111.5138 (0.04)        104           1
-test_lz4[urls.10K-python-lz4]                         10,320.9730 (42.07)       33,072.6539 (91.18)       14,466.2239 (41.66)     4,628.6794 (636.68)      12,947.5440 (37.35)     4,977.0970 (698.44)        4;4     69.1265 (0.02)         94           1
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+----------------------------------------------------------------------------------------------------------------- benchmark: 56 tests ------------------------------------------------------------------------------------------------------------------
+Name (time in us)                                                 Min                     Max                    Mean                StdDev                  Median                   IQR            Outliers          OPS            Rounds  Iterations
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_lz4[Mark.Twain-Tom.Sawyer.txt-cramjam]                  125.9440 (11.01)        201.5990 (6.41)         138.2460 (10.93)        7.6495 (12.00)        136.9320 (10.89)       11.0935 (33.72)      831;30   7,233.4810 (0.09)       2817           1
+test_lz4[Mark.Twain-Tom.Sawyer.txt-python-lz4]               107.1450 (9.37)         167.3470 (5.32)         118.1501 (9.34)         5.5486 (8.70)         116.6485 (9.28)         6.7630 (20.56)    1466;118   8,463.8073 (0.11)       5622           1
+test_lz4[alice29.txt-cramjam]                              1,885.8810 (164.86)     2,087.5580 (66.39)      1,982.5844 (156.69)      37.5861 (58.96)      1,978.7290 (157.40)      48.9570 (148.81)      137;5     504.3921 (0.01)        433           1
+test_lz4[alice29.txt-python-lz4]                           1,983.3180 (173.38)     2,214.2810 (70.42)      2,082.8597 (164.62)      33.4302 (52.44)      2,085.7810 (165.92)      48.5615 (147.61)      151;2     480.1091 (0.01)        468           1
+test_lz4[asyoulik.txt-cramjam]                             1,594.3140 (139.38)     1,802.8770 (57.34)      1,696.2555 (134.06)      30.8526 (48.40)      1,693.4170 (134.71)      41.4690 (126.05)      166;6     589.5338 (0.01)        538           1
+test_lz4[asyoulik.txt-python-lz4]                          1,727.6750 (151.03)     1,930.0050 (61.38)      1,804.6468 (142.63)      34.2418 (53.72)      1,802.1930 (143.36)      50.4698 (153.41)      188;1     554.1251 (0.01)        521           1
+test_lz4[fifty-four-mb-random-cramjam]                   469,464.7980 (>1000.0)  478,719.4140 (>1000.0)  472,864.8178 (>1000.0)  3,619.3578 (>1000.0)  471,932.3960 (>1000.0)  4,572.3082 (>1000.0)       1;0       2.1148 (0.00)          5           1
+test_lz4[fifty-four-mb-random-python-lz4]                921,533.9190 (>1000.0)  943,469.9070 (>1000.0)  927,403.4628 (>1000.0)  9,325.9997 (>1000.0)  922,199.7440 (>1000.0)  9,696.0720 (>1000.0)       1;0       1.0783 (0.00)          5           1
+test_lz4[fifty-four-mb-repeating-cramjam]                 97,503.2970 (>1000.0)  100,140.5100 (>1000.0)   98,439.0015 (>1000.0)    762.2801 (>1000.0)   98,327.1300 (>1000.0)    717.2440 (>1000.0)       3;1      10.1586 (0.00)         10           1
+test_lz4[fifty-four-mb-repeating-python-lz4]              79,055.6850 (>1000.0)   85,197.2530 (>1000.0)   81,777.3721 (>1000.0)  1,734.6742 (>1000.0)   81,735.7405 (>1000.0)  1,789.0415 (>1000.0)       4;1      12.2283 (0.00)         12           1
+test_lz4[fireworks.jpeg-cramjam]                             881.6940 (77.08)      1,071.0420 (34.06)        936.1303 (73.99)       29.0636 (45.59)        932.5286 (74.18)       36.4660 (110.84)     271;15   1,068.2274 (0.01)        902           1
+test_lz4[fireworks.jpeg-python-lz4]                        1,547.3600 (135.27)     1,932.0080 (61.45)      1,623.5895 (128.32)      36.0235 (56.51)      1,619.9770 (128.87)      38.5130 (117.06)     127;16     615.9192 (0.01)        584           1
+test_lz4[geo.protodata-cramjam]                              412.7130 (36.08)        560.5040 (17.83)        456.0728 (36.05)       18.3228 (28.74)        453.0190 (36.04)       23.1310 (70.31)      487;48   2,192.6322 (0.03)       1783           1
+test_lz4[geo.protodata-python-lz4]                           351.6870 (30.74)        440.7540 (14.02)        380.8956 (30.10)       10.7515 (16.87)        379.6055 (30.20)       13.9140 (42.29)      672;38   2,625.3914 (0.03)       2256           1
+test_lz4[html-cramjam]                                       441.5590 (38.60)        722.5720 (22.98)        495.9693 (39.20)       21.9263 (34.40)        494.2480 (39.32)       28.4852 (86.58)      417;23   2,016.2540 (0.03)       1479           1
+test_lz4[html-python-lz4]                                    404.3260 (35.35)        562.6990 (17.90)        436.2489 (34.48)       12.7749 (20.04)        434.8690 (34.59)       16.5522 (50.31)      668;21   2,292.2693 (0.03)       2023           1
+test_lz4[html_x_4-cramjam]                                 2,036.0430 (177.99)     2,561.4560 (81.47)      2,217.6144 (175.27)     113.6074 (178.22)     2,175.9280 (173.09)     121.2330 (368.50)      96;24     450.9350 (0.01)        368           1
+test_lz4[html_x_4-python-lz4]                              1,890.5030 (165.27)     2,539.0140 (80.75)      2,052.8446 (162.24)      92.0286 (144.37)     2,036.7405 (162.02)      60.5945 (184.18)      65;38     487.1289 (0.01)        468           1
+test_lz4[kppkn.gtb-cramjam]                                2,279.1190 (199.24)     2,551.8590 (81.16)      2,425.6386 (191.71)      46.3382 (72.69)      2,426.7680 (193.05)      65.8842 (200.26)      120;3     412.2626 (0.01)        381           1
+test_lz4[kppkn.gtb-python-lz4]                             2,223.8040 (194.41)     2,555.4450 (81.27)      2,371.9228 (187.46)      63.5021 (99.62)      2,361.3275 (187.84)      87.7710 (266.79)      146;3     421.5989 (0.01)        426           1
+test_lz4[lcet10.txt-cramjam]                               5,326.5700 (465.65)     5,881.1520 (187.05)     5,502.5735 (434.89)      87.6411 (137.48)     5,506.4110 (438.03)      95.4195 (290.04)       61;3     181.7331 (0.00)        183           1
+test_lz4[lcet10.txt-python-lz4]                            5,566.7540 (486.65)     6,082.4770 (193.45)     5,773.7842 (456.32)      79.5379 (124.77)     5,775.4660 (459.43)     116.3845 (353.76)       55;1     173.1966 (0.00)        175           1
+test_lz4[paper-100k.pdf-cramjam]                             659.1950 (57.63)        984.2960 (31.31)        704.5409 (55.68)       18.3470 (28.78)        701.6630 (55.82)       20.1760 (61.33)      221;37   1,419.3641 (0.02)       1262           1
+test_lz4[paper-100k.pdf-python-lz4]                        1,033.1420 (90.32)      1,149.5930 (36.56)      1,081.5924 (85.48)       19.6069 (30.76)      1,078.6270 (85.80)       26.7335 (81.26)      280;13     924.5627 (0.01)        889           1
+test_lz4[plrabn12.txt-cramjam]                             7,277.7500 (636.22)     7,669.2110 (243.92)     7,540.0878 (595.92)      78.9117 (123.79)     7,559.9700 (601.38)      82.7795 (251.62)       31;6     132.6244 (0.00)        129           1
+test_lz4[plrabn12.txt-python-lz4]                          7,743.8430 (676.97)     8,612.8020 (273.93)     8,105.4179 (640.60)     114.0547 (178.92)     8,119.9995 (645.93)      99.3470 (301.98)       27;8     123.3743 (0.00)        124           1
+test_lz4[urls.10K-cramjam]                                 5,376.4820 (470.01)     6,053.2750 (192.52)     5,591.5178 (441.92)      91.2129 (143.09)     5,572.0190 (443.24)     107.4870 (326.72)       43;2     178.8423 (0.00)        169           1
+test_lz4[urls.10K-python-lz4]                              6,001.4510 (524.65)     6,624.5310 (210.69)     6,179.6182 (488.40)      81.2789 (127.50)     6,173.7885 (491.11)      55.5270 (168.78)      24;15     161.8223 (0.00)        154           1
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 #### LZ4 _block_ format
 
 `make bench-lz4-block`
 
 ```bash
----------------------------------------------------------------------------------------------------------------- benchmark: 28 tests -----------------------------------------------------------------------------------------------------------------
-Name (time in us)                                                 Min                     Max                    Mean                StdDev                  Median                 IQR            Outliers          OPS            Rounds  Iterations
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_lz4_block[Mark.Twain-Tom.Sawyer.txt-cramjam]             40.9340 (1.37)         184.3430 (1.19)          42.9931 (1.35)         4.6601 (1.0)           41.5510 (1.37)       0.3530 (1.92)    1034;1427  23,259.5474 (0.74)       9422           1
-test_lz4_block[Mark.Twain-Tom.Sawyer.txt-python-lz4]          38.4370 (1.28)         154.2830 (1.0)           40.6069 (1.28)         5.5279 (1.19)          38.9110 (1.28)       0.4095 (2.23)    1107;2431  24,626.3528 (0.78)      10544           1
-test_lz4_block[alice29.txt-cramjam]                          472.0840 (15.77)        713.6530 (4.63)         494.8957 (15.56)       25.8485 (5.55)         493.4380 (16.27)     31.5625 (171.54)     190;53   2,020.6276 (0.06)       1839           1
-test_lz4_block[alice29.txt-python-lz4]                       513.4790 (17.15)        857.2650 (5.56)         537.8642 (16.91)       27.2345 (5.84)         535.3320 (17.65)     34.5312 (187.68)     215;47   1,859.2053 (0.06)       1863           1
-test_lz4_block[asyoulik.txt-cramjam]                         380.3780 (12.71)        635.7260 (4.12)         401.1980 (12.61)       28.4094 (6.10)         393.5930 (12.98)     23.0175 (125.10)    193;141   2,492.5350 (0.08)       2096           1
-test_lz4_block[asyoulik.txt-python-lz4]                      416.9540 (13.93)        734.8450 (4.76)         437.0448 (13.74)       23.5893 (5.06)         437.7690 (14.44)     24.1480 (131.24)    251;108   2,288.0950 (0.07)       2290           1
-test_lz4_block[fifty-four-mb-random-cramjam]              19,617.3530 (655.40)    20,615.6860 (133.62)    19,903.2510 (625.72)     196.4017 (42.15)     19,867.1210 (655.12)   183.0970 (995.12)       14;3      50.2430 (0.00)         50           1
-test_lz4_block[fifty-four-mb-random-python-lz4]          115,706.2050 (>1000.0)  116,848.0440 (757.36)   116,398.5400 (>1000.0)    421.1026 (90.36)    116,555.1350 (>1000.0)  572.2738 (>1000.0)       3;0       8.5912 (0.00)          9           1
-test_lz4_block[fifty-four-mb-repeating-cramjam]           16,384.0190 (547.37)    34,818.2670 (225.68)    17,412.4441 (547.42)   3,003.0026 (644.41)    16,854.9620 (555.79)   258.3560 (>1000.0)       1;4      57.4302 (0.00)         36           1
-test_lz4_block[fifty-four-mb-repeating-python-lz4]        58,464.7160 (>1000.0)   61,384.1530 (397.87)    59,202.9512 (>1000.0)    776.3388 (166.59)    59,151.1860 (>1000.0)  644.4060 (>1000.0)       2;2      16.8910 (0.00)         17           1
-test_lz4_block[fireworks.jpeg-cramjam]                        29.9320 (1.0)          161.8750 (1.05)          31.8084 (1.0)          5.0188 (1.08)          30.3260 (1.0)        0.1840 (1.0)     1946;3770  31,438.2794 (1.0)       18014           1
-test_lz4_block[fireworks.jpeg-python-lz4]                     34.4750 (1.15)         169.8460 (1.10)          36.7064 (1.15)         5.2782 (1.13)          35.1650 (1.16)       0.8880 (4.83)    1940;2096  27,243.1909 (0.87)      17242           1
-test_lz4_block[geo.protodata-cramjam]                        140.1360 (4.68)         291.7290 (1.89)         147.5534 (4.64)        12.0341 (2.58)         141.8530 (4.68)       9.3140 (50.62)     990;375   6,777.2052 (0.22)       5938           1
-test_lz4_block[geo.protodata-python-lz4]                     144.4831 (4.83)         350.4770 (2.27)         152.2133 (4.79)        12.8940 (2.77)         146.0120 (4.81)      10.0460 (54.60)    1043;347   6,569.7283 (0.21)       5972           1
-test_lz4_block[html-cramjam]                                 142.9390 (4.78)         277.8630 (1.80)         149.9061 (4.71)        11.7107 (2.51)         144.4170 (4.76)       9.1133 (49.53)     846;321   6,670.8442 (0.21)       5319           1
-test_lz4_block[html-python-lz4]                              147.3250 (4.92)         279.1871 (1.81)         154.4610 (4.86)        11.5615 (2.48)         149.0470 (4.91)       9.1137 (49.53)     994;375   6,474.1270 (0.21)       6013           1
-test_lz4_block[html_x_4-cramjam]                             600.2710 (20.05)        941.8120 (6.10)         628.8270 (19.77)       29.0365 (6.23)         623.0760 (20.55)     39.2540 (213.34)     186;28   1,590.2625 (0.05)       1491           1
-test_lz4_block[html_x_4-python-lz4]                          625.6220 (20.90)        930.9070 (6.03)         655.2924 (20.60)       30.3427 (6.51)         648.3260 (21.38)     39.3870 (214.07)     196;40   1,526.0362 (0.05)       1448           1
-test_lz4_block[kppkn.gtb-cramjam]                            446.5680 (14.92)        729.3510 (4.73)         466.9985 (14.68)       24.7114 (5.30)         467.1435 (15.40)     27.8070 (151.13)     217;64   2,141.3345 (0.07)       2110           1
-test_lz4_block[kppkn.gtb-python-lz4]                         457.6420 (15.29)        673.1950 (4.36)         477.8109 (15.02)       23.3480 (5.01)         473.5590 (15.62)     26.9885 (146.68)     239;72   2,092.8781 (0.07)       2073           1
-test_lz4_block[lcet10.txt-cramjam]                         1,300.3600 (43.44)      1,639.6500 (10.63)      1,358.7622 (42.72)       44.2987 (9.51)       1,350.1540 (44.52)     57.7395 (313.81)     228;11     735.9640 (0.02)        720           1
-test_lz4_block[lcet10.txt-python-lz4]                      1,410.9100 (47.14)      1,763.4770 (11.43)      1,474.0569 (46.34)       48.0336 (10.31)      1,465.7810 (48.33)     60.8988 (330.98)     176;13     678.3999 (0.02)        621           1
-test_lz4_block[paper-100k.pdf-cramjam]                        75.7430 (2.53)         213.3430 (1.38)          80.0105 (2.52)         8.9087 (1.91)          76.5580 (2.52)       2.2090 (12.01)    848;1656  12,498.3609 (0.40)       8862           1
-test_lz4_block[paper-100k.pdf-python-lz4]                     82.7410 (2.76)         217.1710 (1.41)          87.4508 (2.75)         9.4264 (2.02)          83.8570 (2.77)       0.8590 (4.67)     905;2221  11,435.0004 (0.36)       9246           1
-test_lz4_block[plrabn12.txt-cramjam]                       1,527.4300 (51.03)      1,917.3070 (12.43)      1,594.6245 (50.13)       55.9814 (12.01)      1,584.3080 (52.24)     64.3090 (349.52)     125;16     627.1069 (0.02)        511           1
-test_lz4_block[plrabn12.txt-python-lz4]                    2,011.2020 (67.19)      2,540.4010 (16.47)      2,123.5693 (66.76)       93.4244 (20.05)      2,098.7020 (69.20)    111.1333 (604.00)     105;22     470.9053 (0.01)        459           1
-test_lz4_block[urls.10K-cramjam]                           1,511.1370 (50.49)      2,008.8290 (13.02)      1,591.5999 (50.04)       65.2772 (14.01)      1,578.4930 (52.05)     61.4250 (333.84)     120;29     628.2986 (0.02)        511           1
-test_lz4_block[urls.10K-python-lz4]                        2,001.9611 (66.88)      2,490.6120 (16.14)      2,103.2583 (66.12)       66.4167 (14.25)      2,090.2720 (68.93)     78.7600 (428.06)     111;12     475.4528 (0.02)        427           1
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+----------------------------------------------------------------------------------------------------------------- benchmark: 56 tests ------------------------------------------------------------------------------------------------------------------
+Name (time in us)                                                 Min                     Max                    Mean                StdDev                  Median                   IQR            Outliers          OPS            Rounds  Iterations
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_lz4_block[Mark.Twain-Tom.Sawyer.txt-cramjam]             19.0900 (1.67)          51.9429 (1.65)          21.0092 (1.66)         1.1547 (1.81)          20.9060 (1.66)         1.2360 (3.76)     3358;490  47,598.2661 (0.60)      19360           1
+test_lz4_block[Mark.Twain-Tom.Sawyer.txt-python-lz4]          16.7090 (1.46)          31.4420 (1.0)           17.9088 (1.42)         0.6375 (1.0)           17.8340 (1.42)         0.5030 (1.53)     2304;872  55,838.5284 (0.71)      17721           1
+test_lz4_block[alice29.txt-cramjam]                          319.3180 (27.91)        381.6720 (12.14)        336.4830 (26.59)        6.0062 (9.42)         335.2750 (26.67)        5.5785 (16.96)     600;165   2,971.9183 (0.04)       2571           1
+test_lz4_block[alice29.txt-python-lz4]                       316.5320 (27.67)        433.7360 (13.79)        339.7019 (26.85)        8.0091 (12.56)        338.0800 (26.89)        9.2835 (28.22)      502;81   2,943.7578 (0.04)       2557           1
+test_lz4_block[asyoulik.txt-cramjam]                         233.0440 (20.37)        468.6850 (14.91)        265.3226 (20.97)        9.8275 (15.42)        264.5825 (21.05)        5.0740 (15.42)     282;267   3,768.9961 (0.05)       3220           1
+test_lz4_block[asyoulik.txt-python-lz4]                      251.7520 (22.01)        305.7670 (9.72)         264.3520 (20.89)        5.8861 (9.23)         263.0755 (20.93)        6.7730 (20.59)     658;114   3,782.8353 (0.05)       3146           1
+test_lz4_block[fifty-four-mb-random-cramjam]              33,936.9620 (>1000.0)   39,619.5560 (>1000.0)   35,020.1372 (>1000.0)  1,505.6802 (>1000.0)   34,484.9795 (>1000.0)    643.3850 (>1000.0)       3;4      28.5550 (0.00)         26           1
+test_lz4_block[fifty-four-mb-random-python-lz4]           68,777.0100 (>1000.0)   73,922.2570 (>1000.0)   69,746.8938 (>1000.0)  1,239.5380 (>1000.0)   69,442.6260 (>1000.0)    580.1038 (>1000.0)       1;1      14.3376 (0.00)         15           1
+test_lz4_block[fifty-four-mb-repeating-cramjam]           19,954.6251 (>1000.0)   25,531.1310 (812.01)    20,492.9045 (>1000.0)    889.2840 (>1000.0)   20,244.1360 (>1000.0)    452.6035 (>1000.0)       2;3      48.7974 (0.00)         40           1
+test_lz4_block[fifty-four-mb-repeating-python-lz4]        36,592.0160 (>1000.0)   46,017.1160 (>1000.0)   38,476.8488 (>1000.0)  2,577.5186 (>1000.0)   37,021.7970 (>1000.0)  3,577.2075 (>1000.0)       3;1      25.9897 (0.00)         21           1
+test_lz4_block[fireworks.jpeg-cramjam]                        11.4390 (1.0)           36.9540 (1.18)          12.6528 (1.0)          0.7672 (1.20)          12.5710 (1.0)          0.3290 (1.0)     3205;3529  79,033.6115 (1.0)       28912           1
+test_lz4_block[fireworks.jpeg-python-lz4]                     12.8610 (1.12)          44.1120 (1.40)          13.9412 (1.10)         0.9270 (1.45)          13.8190 (1.10)         0.3920 (1.19)    1652;1957  71,729.6495 (0.91)      28694           1
+test_lz4_block[geo.protodata-cramjam]                         76.8950 (6.72)         115.9160 (3.69)          82.5451 (6.52)         3.2757 (5.14)          81.7310 (6.50)         3.1550 (9.59)     1578;488  12,114.5850 (0.15)       7139           1
+test_lz4_block[geo.protodata-python-lz4]                      68.0240 (5.95)         140.0970 (4.46)          80.1480 (6.33)         4.9473 (7.76)          79.7030 (6.34)         7.4280 (22.58)     2367;28  12,476.9164 (0.16)       6880           1
+test_lz4_block[html-cramjam]                                  79.2720 (6.93)         122.6350 (3.90)          83.5068 (6.60)         2.9809 (4.68)          82.9190 (6.60)         2.6020 (7.91)     1272;399  11,975.0698 (0.15)       6624           1
+test_lz4_block[html-python-lz4]                               74.3250 (6.50)         122.1850 (3.89)          85.0801 (6.72)         4.8946 (7.68)          84.5900 (6.73)         7.8872 (23.97)     2512;19  11,753.6254 (0.15)       6913           1
+test_lz4_block[html_x_4-cramjam]                             361.6360 (31.61)        604.3760 (19.22)        418.5955 (33.08)       36.3753 (57.06)        411.3950 (32.73)       13.0960 (39.81)     132;156   2,388.9413 (0.03)       1474           1
+test_lz4_block[html_x_4-python-lz4]                          364.2090 (31.84)        672.1250 (21.38)        453.7803 (35.86)       78.2668 (122.78)       423.9325 (33.72)       33.9675 (103.25)    358;366   2,203.7097 (0.03)       2044           1
+test_lz4_block[kppkn.gtb-cramjam]                            279.7870 (24.46)        426.6940 (13.57)        305.6761 (24.16)       14.1955 (22.27)        301.6310 (23.99)       20.3990 (62.01)      550;26   3,271.4365 (0.04)       2407           1
+test_lz4_block[kppkn.gtb-python-lz4]                         293.6670 (25.67)        367.0160 (11.67)        304.3268 (24.05)       10.2700 (16.11)        301.3470 (23.97)       13.4405 (40.85)      293;56   3,285.9408 (0.04)       2504           1
+test_lz4_block[lcet10.txt-cramjam]                           896.0210 (78.33)      1,182.3210 (37.60)        958.0824 (75.72)       32.5113 (51.00)        952.5710 (75.78)       14.2605 (43.35)       81;97   1,043.7516 (0.01)        999           1
+test_lz4_block[lcet10.txt-python-lz4]                        931.2580 (81.41)      1,265.8670 (40.26)        995.4354 (78.67)       42.5147 (66.69)        986.1050 (78.44)       23.3195 (70.88)       53;48   1,004.5855 (0.01)        883           1
+test_lz4_block[paper-100k.pdf-cramjam]                        31.9140 (2.79)          77.9020 (2.48)          35.5357 (2.81)         1.4271 (2.24)          35.3980 (2.82)         1.1760 (3.57)     2066;781  28,140.7087 (0.36)      13158           1
+test_lz4_block[paper-100k.pdf-python-lz4]                     37.6930 (3.30)          75.8310 (2.41)          40.6318 (3.21)         1.5697 (2.46)          40.4160 (3.22)         1.3630 (4.14)     1679;505  24,611.2554 (0.31)      14017           1
+test_lz4_block[plrabn12.txt-cramjam]                       1,036.5970 (90.62)      1,409.9260 (44.84)      1,103.4860 (87.21)       32.3477 (50.74)      1,097.3520 (87.29)       23.5150 (71.48)       66;28     906.2190 (0.01)        780           1
+test_lz4_block[plrabn12.txt-python-lz4]                    1,047.2300 (91.55)      1,456.7000 (46.33)      1,139.6521 (90.07)       50.3670 (79.01)      1,130.3140 (89.91)       24.7840 (75.33)       57;56     877.4608 (0.01)        780           1
+test_lz4_block[urls.10K-cramjam]                             990.4180 (86.58)      1,582.8770 (50.34)      1,069.2153 (84.50)       55.2439 (86.66)      1,062.6070 (84.53)       21.2860 (64.70)       25;34     935.2654 (0.01)        822           1
+test_lz4_block[urls.10K-python-lz4]                        1,045.4830 (91.40)      1,756.4630 (55.86)      1,122.6357 (88.73)       68.5135 (107.48)     1,113.0090 (88.54)       26.6482 (81.00)       17;22     890.7609 (0.01)        645           1
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 #### Brotli
 
 `make bench-brotli`
 
 ```bash
-------------------------------------------------------------------------------------------------- benchmark: 24 tests --------------------------------------------------------------------------------------------------
-Name (time in ms)                                       Min                 Max                Mean             StdDev              Median                IQR            Outliers      OPS            Rounds  Iterations
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_brotli[Mark.Twain-Tom.Sawyer.txt-brotli]       10.9184 (1.0)       14.6035 (1.0)       12.3503 (1.0)       1.1312 (1.74)      11.8966 (1.0)       2.1789 (5.62)         30;0  80.9697 (1.0)          82           1
-test_brotli[Mark.Twain-Tom.Sawyer.txt-cramjam]      14.0977 (1.29)      17.0087 (1.16)      14.5718 (1.18)      0.6504 (1.0)       14.3074 (1.20)      0.3876 (1.0)           5;5  68.6259 (0.85)         47           1
-test_brotli[alice29.txt-brotli]                    141.2160 (12.93)    145.2801 (9.95)     142.9074 (11.57)     1.4637 (2.25)     142.5277 (11.98)     2.1899 (5.65)          2;0   6.9975 (0.09)          7           1
-test_brotli[alice29.txt-cramjam]                   152.6566 (13.98)    158.3756 (10.85)    154.4223 (12.50)     1.9262 (2.96)     154.1212 (12.96)     1.7533 (4.52)          1;1   6.4757 (0.08)          7           1
-test_brotli[asyoulik.txt-brotli]                   110.8312 (10.15)    116.3864 (7.97)     113.1018 (9.16)      1.9668 (3.02)     112.1098 (9.42)      3.2754 (8.45)          2;0   8.8416 (0.11)          9           1
-test_brotli[asyoulik.txt-cramjam]                  120.2650 (11.01)    142.7060 (9.77)     130.4795 (10.56)     9.0843 (13.97)    129.5092 (10.89)    16.0443 (41.40)         3;0   7.6640 (0.09)          9           1
-test_brotli[fireworks.jpeg-brotli]                  35.0424 (3.21)      52.9552 (3.63)      42.1037 (3.41)      6.8887 (10.59)     37.3856 (3.14)     12.9743 (33.48)         8;0  23.7509 (0.29)         23           1
-test_brotli[fireworks.jpeg-cramjam]                 45.6972 (4.19)      51.4216 (3.52)      47.9267 (3.88)      1.4601 (2.25)      48.0562 (4.04)      2.0533 (5.30)          7;0  20.8652 (0.26)         22           1
-test_brotli[geo.protodata-brotli]                   70.8891 (6.49)      73.5486 (5.04)      72.2200 (5.85)      0.8960 (1.38)      72.7037 (6.11)      1.5739 (4.06)          5;0  13.8466 (0.17)         14           1
-test_brotli[geo.protodata-cramjam]                  91.4206 (8.37)      94.7283 (6.49)      93.2170 (7.55)      0.9418 (1.45)      93.4534 (7.86)      1.1083 (2.86)          4;0  10.7277 (0.13)         11           1
-test_brotli[html-brotli]                            74.1237 (6.79)      76.8266 (5.26)      75.6515 (6.13)      0.9074 (1.40)      75.8785 (6.38)      1.3270 (3.42)          5;0  13.2185 (0.16)         13           1
-test_brotli[html-cramjam]                          102.4915 (9.39)     125.3486 (8.58)     112.2085 (9.09)      9.9984 (15.37)    106.6630 (8.97)     19.7193 (50.88)         3;0   8.9120 (0.11)         10           1
-test_brotli[html_x_4-brotli]                        87.5360 (8.02)     114.3479 (7.83)      97.7994 (7.92)     11.4060 (17.54)     90.7073 (7.62)     21.9963 (56.75)         3;0  10.2250 (0.13)         10           1
-test_brotli[html_x_4-cramjam]                      105.3706 (9.65)     111.3189 (7.62)     107.3742 (8.69)      1.9368 (2.98)     107.6139 (9.05)      2.9738 (7.67)          3;0   9.3132 (0.12)         10           1
-test_brotli[kppkn.gtb-brotli]                      271.9317 (24.91)    322.6200 (22.09)    284.3380 (23.02)    21.5044 (33.07)    276.2475 (23.22)    15.4194 (39.78)         1;1   3.5169 (0.04)          5           1
-test_brotli[kppkn.gtb-cramjam]                     323.5000 (29.63)    328.4267 (22.49)    324.7345 (26.29)     2.0891 (3.21)     324.0014 (27.23)     1.7883 (4.61)          1;1   3.0794 (0.04)          5           1
-test_brotli[lcet10.txt-brotli]                     442.0427 (40.49)    504.8650 (34.57)    462.6317 (37.46)    27.2407 (41.89)    446.6555 (37.54)    39.1690 (101.06)        1;0   2.1615 (0.03)          5           1
-test_brotli[lcet10.txt-cramjam]                    444.3975 (40.70)    511.8355 (35.05)    463.9231 (37.56)    27.3992 (42.13)    453.0632 (38.08)    24.6888 (63.70)         1;1   2.1555 (0.03)          5           1
-test_brotli[paper-100k.pdf-brotli]                 262.9858 (24.09)    307.7572 (21.07)    276.0070 (22.35)    18.9312 (29.11)    265.8558 (22.35)    22.6216 (58.37)         1;0   3.6231 (0.04)          5           1
-test_brotli[paper-100k.pdf-cramjam]                 91.9629 (8.42)      95.6179 (6.55)      93.8155 (7.60)      1.3233 (2.03)      93.5711 (7.87)      2.4300 (6.27)          5;0  10.6592 (0.13)         11           1
-test_brotli[plrabn12.txt-brotli]                   483.2054 (44.26)    497.8085 (34.09)    487.2513 (39.45)     6.0998 (9.38)     484.6980 (40.74)     6.3864 (16.48)         1;0   2.0523 (0.03)          5           1
-test_brotli[plrabn12.txt-cramjam]                  502.6484 (46.04)    530.4874 (36.33)    511.1903 (41.39)    11.2501 (17.30)    506.6601 (42.59)    11.8233 (30.51)         1;0   1.9562 (0.02)          5           1
-test_brotli[urls.10K-brotli]                       731.0115 (66.95)    808.1545 (55.34)    753.5258 (61.01)    32.1086 (49.37)    736.5432 (61.91)    35.3638 (91.24)         1;0   1.3271 (0.02)          5           1
-test_brotli[urls.10K-cramjam]                      722.6436 (66.19)    823.0498 (56.36)    743.6850 (60.22)    44.3756 (68.23)    724.4152 (60.89)    26.3356 (67.95)         1;1   1.3447 (0.02)          5           1
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+------------------------------------------------------------------------------------------------ benchmark: 24 tests -------------------------------------------------------------------------------------------------
+Name (time in ms)                                       Min                 Max                Mean            StdDev              Median               IQR            Outliers      OPS            Rounds  Iterations
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_brotli[Mark.Twain-Tom.Sawyer.txt-brotli]       11.4190 (1.0)       12.9519 (1.0)       11.7689 (1.0)      0.1962 (1.0)       11.7535 (1.0)      0.1166 (1.0)          11;7  84.9697 (1.0)          83           1
+test_brotli[Mark.Twain-Tom.Sawyer.txt-cramjam]      13.0522 (1.14)      14.6921 (1.13)      13.4430 (1.14)     0.3481 (1.77)      13.3178 (1.13)     0.2667 (2.29)         12;7  74.3880 (0.88)         74           1
+test_brotli[alice29.txt-brotli]                    143.4769 (12.56)    156.1368 (12.06)    151.7042 (12.89)    4.5808 (23.34)    153.9301 (13.10)    5.9880 (51.36)         1;0   6.5918 (0.08)          7           1
+test_brotli[alice29.txt-cramjam]                   152.9068 (13.39)    168.2758 (12.99)    160.7015 (13.65)    5.7192 (29.14)    161.0280 (13.70)    9.4915 (81.40)         3;0   6.2227 (0.07)          7           1
+test_brotli[asyoulik.txt-brotli]                   112.6384 (9.86)     122.4138 (9.45)     116.6856 (9.91)     3.1558 (16.08)    116.6260 (9.92)     4.6635 (40.00)         3;0   8.5700 (0.10)          9           1
+test_brotli[asyoulik.txt-cramjam]                  116.7427 (10.22)    127.8253 (9.87)     120.9304 (10.28)    3.6031 (18.36)    119.7438 (10.19)    3.6843 (31.60)         3;0   8.2692 (0.10)          8           1
+test_brotli[fireworks.jpeg-brotli]                  34.3454 (3.01)      35.6485 (2.75)      34.8155 (2.96)     0.3415 (1.74)      34.7843 (2.96)     0.3527 (3.03)          9;1  28.7228 (0.34)         27           1
+test_brotli[fireworks.jpeg-cramjam]                 42.6242 (3.73)      46.8781 (3.62)      43.7436 (3.72)     0.9247 (4.71)      43.4703 (3.70)     0.6432 (5.52)          5;3  22.8605 (0.27)         23           1
+test_brotli[geo.protodata-brotli]                   70.6670 (6.19)      71.9949 (5.56)      71.0885 (6.04)     0.3661 (1.87)      71.0907 (6.05)     0.4194 (3.60)          4;1  14.0670 (0.17)         14           1
+test_brotli[geo.protodata-cramjam]                  91.1827 (7.99)      92.7021 (7.16)      91.9072 (7.81)     0.5966 (3.04)      91.7817 (7.81)     1.1848 (10.16)         5;0  10.8805 (0.13)         11           1
+test_brotli[html-brotli]                            76.3931 (6.69)      77.4682 (5.98)      76.9553 (6.54)     0.3230 (1.65)      76.9471 (6.55)     0.4636 (3.98)          5;0  12.9946 (0.15)         13           1
+test_brotli[html-cramjam]                           99.2533 (8.69)     100.1915 (7.74)      99.7497 (8.48)     0.2519 (1.28)      99.7689 (8.49)     0.2664 (2.28)          2;0  10.0251 (0.12)         10           1
+test_brotli[html_x_4-brotli]                        90.8162 (7.95)      91.7338 (7.08)      91.3030 (7.76)     0.3260 (1.66)      91.2223 (7.76)     0.5525 (4.74)          5;0  10.9525 (0.13)         11           1
+test_brotli[html_x_4-cramjam]                      109.2463 (9.57)     112.8147 (8.71)     110.5038 (9.39)     1.2757 (6.50)     109.9550 (9.36)     2.1289 (18.26)         2;0   9.0495 (0.11)          9           1
+test_brotli[kppkn.gtb-brotli]                      281.7638 (24.67)    283.8784 (21.92)    282.9393 (24.04)    0.8537 (4.35)     283.3318 (24.11)    1.2676 (10.87)         2;0   3.5343 (0.04)          5           1
+test_brotli[kppkn.gtb-cramjam]                     338.8846 (29.68)    340.3086 (26.27)    339.5767 (28.85)    0.5379 (2.74)     339.5152 (28.89)    0.7513 (6.44)          2;0   2.9448 (0.03)          5           1
+test_brotli[lcet10.txt-brotli]                     444.7350 (38.95)    446.8453 (34.50)    445.6186 (37.86)    0.8674 (4.42)     445.7035 (37.92)    1.3660 (11.72)         2;0   2.2441 (0.03)          5           1
+test_brotli[lcet10.txt-cramjam]                    454.7244 (39.82)    462.5618 (35.71)    457.4089 (38.87)    3.0765 (15.68)    456.0511 (38.80)    3.3177 (28.45)         1;0   2.1862 (0.03)          5           1
+test_brotli[paper-100k.pdf-brotli]                 272.0045 (23.82)    273.3697 (21.11)    272.8557 (23.18)    0.5674 (2.89)     272.9370 (23.22)    0.8819 (7.56)          1;0   3.6649 (0.04)          5           1
+test_brotli[paper-100k.pdf-cramjam]                 92.7737 (8.12)      94.6250 (7.31)      93.6444 (7.96)     0.6740 (3.43)      93.9685 (7.99)     1.2357 (10.60)         4;0  10.6787 (0.13)         11           1
+test_brotli[plrabn12.txt-brotli]                   490.8551 (42.99)    496.5078 (38.33)    493.5089 (41.93)    2.1778 (11.10)    493.9005 (42.02)    3.0938 (26.53)         2;0   2.0263 (0.02)          5           1
+test_brotli[plrabn12.txt-cramjam]                  502.1304 (43.97)    510.4967 (39.41)    505.6520 (42.97)    3.4768 (17.72)    506.3175 (43.08)    5.4558 (46.79)         2;0   1.9776 (0.02)          5           1
+test_brotli[urls.10K-brotli]                       759.7228 (66.53)    776.9392 (59.99)    765.7505 (65.07)    6.7197 (34.24)    762.9181 (64.91)    7.3713 (63.22)         1;0   1.3059 (0.02)          5           1
+test_brotli[urls.10K-cramjam]                      747.8780 (65.49)    761.8195 (58.82)    751.5646 (63.86)    5.8166 (29.64)    749.6120 (63.78)    5.0277 (43.12)         1;1   1.3306 (0.02)          5           1
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 #### Bzip2
 
 `make bench-bzip2`
 
 ```bash
--------------------------------------------------------------------------------------------------------- benchmark: 28 tests ---------------------------------------------------------------------------------------------------------
-Name (time in ms)                                         Min                    Max                   Mean              StdDev                 Median                 IQR            Outliers       OPS            Rounds  Iterations
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_bzip2[Mark.Twain-Tom.Sawyer.txt-bzip2]            2.1986 (1.03)          3.4193 (1.0)           2.3997 (1.00)       0.1607 (1.0)           2.3601 (1.02)       0.1701 (1.0)         68;14  416.7229 (1.00)        397           1
-test_bzip2[Mark.Twain-Tom.Sawyer.txt-cramjam]          2.1309 (1.0)           3.4771 (1.02)          2.3924 (1.0)        0.2410 (1.50)          2.3114 (1.0)        0.2180 (1.28)        52;28  417.9866 (1.0)         392           1
-test_bzip2[alice29.txt-bzip2]                         16.0991 (7.56)         17.7243 (5.18)         16.5891 (6.93)       0.3358 (2.09)         16.5265 (7.15)       0.3215 (1.89)         10;3   60.2804 (0.14)         43           1
-test_bzip2[alice29.txt-cramjam]                       16.1838 (7.59)         17.7832 (5.20)         16.8158 (7.03)       0.2674 (1.66)         16.8085 (7.27)       0.2406 (1.41)         13;5   59.4677 (0.14)         58           1
-test_bzip2[asyoulik.txt-bzip2]                        13.0441 (6.12)         15.9405 (4.66)         13.5905 (5.68)       0.3904 (2.43)         13.5189 (5.85)       0.3070 (1.80)          6;2   73.5809 (0.18)         68           1
-test_bzip2[asyoulik.txt-cramjam]                      13.4303 (6.30)         15.0016 (4.39)         13.8275 (5.78)       0.2678 (1.67)         13.7867 (5.96)       0.2544 (1.50)         13;4   72.3196 (0.17)         71           1
-test_bzip2[fifty-four-mb-random-bzip2]            10,386.9692 (>1000.0)  10,489.5419 (>1000.0)  10,418.5051 (>1000.0)   41.3389 (257.18)   10,408.8554 (>1000.0)   42.6205 (250.57)        1;0    0.0960 (0.00)          5           1
-test_bzip2[fifty-four-mb-random-cramjam]          10,362.6044 (>1000.0)  11,798.0335 (>1000.0)  10,678.7979 (>1000.0)  626.7239 (>1000.0)  10,417.7132 (>1000.0)  421.0702 (>1000.0)       1;1    0.0936 (0.00)          5           1
-test_bzip2[fifty-four-mb-repeating-bzip2]         15,823.1287 (>1000.0)  15,906.3119 (>1000.0)  15,877.7192 (>1000.0)   33.5349 (208.63)   15,880.1587 (>1000.0)   42.4617 (249.63)        1;0    0.0630 (0.00)          5           1
-test_bzip2[fifty-four-mb-repeating-cramjam]       14,768.4424 (>1000.0)  15,670.1805 (>1000.0)  15,056.9177 (>1000.0)  365.0722 (>1000.0)  14,876.7961 (>1000.0)  411.8626 (>1000.0)       1;0    0.0664 (0.00)          5           1
-test_bzip2[fireworks.jpeg-bzip2]                      19.6575 (9.23)         26.6222 (7.79)         20.5149 (8.57)       1.0187 (6.34)         20.3994 (8.83)       0.6566 (3.86)          3;1   48.7451 (0.12)         48           1
-test_bzip2[fireworks.jpeg-cramjam]                    20.7419 (9.73)         23.1552 (6.77)         21.5242 (9.00)       0.4398 (2.74)         21.4853 (9.30)       0.5220 (3.07)          9;2   46.4594 (0.11)         46           1
-test_bzip2[geo.protodata-bzip2]                       13.7524 (6.45)         16.2448 (4.75)         14.3407 (5.99)       0.4783 (2.98)         14.2251 (6.15)       0.4630 (2.72)         13;5   69.7315 (0.17)         71           1
-test_bzip2[geo.protodata-cramjam]                     14.2087 (6.67)         15.8775 (4.64)         14.5802 (6.09)       0.2828 (1.76)         14.5270 (6.29)       0.2686 (1.58)         10;3   68.5860 (0.16)         59           1
-test_bzip2[html-bzip2]                                10.0543 (4.72)         11.7887 (3.45)         10.5992 (4.43)       0.3381 (2.10)         10.5395 (4.56)       0.4206 (2.47)         25;3   94.3465 (0.23)         93           1
-test_bzip2[html-cramjam]                              10.2327 (4.80)         15.4595 (4.52)         11.1203 (4.65)       1.1808 (7.35)         10.6782 (4.62)       0.5143 (3.02)         9;11   89.9255 (0.22)         93           1
-test_bzip2[html_x_4-bzip2]                            54.2398 (25.45)        56.9572 (16.66)        55.2108 (23.08)      0.7869 (4.90)         55.2028 (23.88)      1.1302 (6.64)          5;0   18.1124 (0.04)         17           1
-test_bzip2[html_x_4-cramjam]                          55.1079 (25.86)        57.9107 (16.94)        56.1745 (23.48)      0.9576 (5.96)         55.8812 (24.18)      1.7999 (10.58)         9;0   17.8017 (0.04)         18           1
-test_bzip2[kppkn.gtb-bzip2]                           14.9813 (7.03)         21.7189 (6.35)         15.8015 (6.60)       0.8125 (5.06)         15.6806 (6.78)       0.3582 (2.11)          3;3   63.2852 (0.15)         65           1
-test_bzip2[kppkn.gtb-cramjam]                         15.1289 (7.10)         16.4051 (4.80)         15.6411 (6.54)       0.2986 (1.86)         15.6152 (6.76)       0.4326 (2.54)         21;0   63.9343 (0.15)         62           1
-test_bzip2[lcet10.txt-bzip2]                          44.8801 (21.06)        47.0429 (13.76)        45.7175 (19.11)      0.5902 (3.67)         45.5279 (19.70)      0.7627 (4.48)          6;0   21.8735 (0.05)         22           1
-test_bzip2[lcet10.txt-cramjam]                        44.3920 (20.83)        46.8710 (13.71)        45.5553 (19.04)      0.6376 (3.97)         45.5037 (19.69)      0.7831 (4.60)          5;0   21.9513 (0.05)         19           1
-test_bzip2[paper-100k.pdf-bzip2]                      14.6436 (6.87)         17.0778 (4.99)         15.2104 (6.36)       0.3691 (2.30)         15.1629 (6.56)       0.3812 (2.24)         11;2   65.7443 (0.16)         66           1
-test_bzip2[paper-100k.pdf-cramjam]                    15.4920 (7.27)         17.5886 (5.14)         15.9745 (6.68)       0.3879 (2.41)         15.9001 (6.88)       0.3893 (2.29)          9;4   62.5996 (0.15)         62           1
-test_bzip2[plrabn12.txt-bzip2]                        55.4209 (26.01)        59.1872 (17.31)        56.8947 (23.78)      1.0537 (6.56)         56.7556 (24.55)      1.3448 (7.91)          6;0   17.5763 (0.04)         18           1
-test_bzip2[plrabn12.txt-cramjam]                      55.9271 (26.25)        58.9951 (17.25)        56.8192 (23.75)      0.8190 (5.10)         56.6420 (24.51)      1.3035 (7.66)          5;0   17.5997 (0.04)         18           1
-test_bzip2[urls.10K-bzip2]                            81.4232 (38.21)       111.9462 (32.74)        85.9987 (35.95)      9.1141 (56.70)        82.2004 (35.56)      2.4570 (14.44)         1;2   11.6281 (0.03)         11           1
-test_bzip2[urls.10K-cramjam]                          80.2907 (37.68)        85.2344 (24.93)        82.5610 (34.51)      1.4309 (8.90)         82.6907 (35.78)      2.0479 (12.04)         5;0   12.1123 (0.03)         13           1
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+------------------------------------------------------------------------------------------------------- benchmark: 28 tests -------------------------------------------------------------------------------------------------------
+Name (time in ms)                                        Min                    Max                  Mean              StdDev                Median                 IQR            Outliers       OPS            Rounds  Iterations
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_bzip2[Mark.Twain-Tom.Sawyer.txt-bzip2]           1.2711 (1.00)          1.6461 (1.0)          1.3491 (1.01)       0.0385 (1.0)          1.3472 (1.02)       0.0512 (1.14)        204;5  741.2337 (0.99)        643           1
+test_bzip2[Mark.Twain-Tom.Sawyer.txt-cramjam]         1.2670 (1.0)           1.8671 (1.13)         1.3389 (1.0)        0.0483 (1.26)         1.3258 (1.0)        0.0448 (1.0)         73;34  746.8702 (1.0)         630           1
+test_bzip2[alice29.txt-bzip2]                        10.5259 (8.31)         11.9644 (7.27)        10.9831 (8.20)       0.2470 (6.42)        10.9820 (8.28)       0.2934 (6.55)         19;3   91.0490 (0.12)         90           1
+test_bzip2[alice29.txt-cramjam]                      10.0803 (7.96)         11.6217 (7.06)        10.6278 (7.94)       0.3660 (9.51)        10.5032 (7.92)       0.5597 (12.49)        31;0   94.0926 (0.13)         94           1
+test_bzip2[asyoulik.txt-bzip2]                        8.5538 (6.75)         10.2334 (6.22)         9.2801 (6.93)       0.4153 (10.79)        9.1760 (6.92)       0.6618 (14.76)        30;0  107.7571 (0.14)        106           1
+test_bzip2[asyoulik.txt-cramjam]                      8.3083 (6.56)          9.0135 (5.48)         8.5585 (6.39)       0.1398 (3.63)         8.5525 (6.45)       0.1770 (3.95)         39;2  116.8429 (0.16)        116           1
+test_bzip2[fifty-four-mb-random-bzip2]            5,798.4294 (>1000.0)   6,637.8179 (>1000.0)  6,010.0714 (>1000.0)  356.8759 (>1000.0)  5,825.5740 (>1000.0)  314.4360 (>1000.0)       1;1    0.1664 (0.00)          5           1
+test_bzip2[fifty-four-mb-random-cramjam]          5,373.8872 (>1000.0)   5,395.6856 (>1000.0)  5,381.7519 (>1000.0)    9.1684 (238.21)   5,379.5500 (>1000.0)   14.1904 (316.55)        1;0    0.1858 (0.00)          5           1
+test_bzip2[fifty-four-mb-repeating-bzip2]         9,565.3209 (>1000.0)  10,487.7696 (>1000.0)  9,907.5835 (>1000.0)  462.9329 (>1000.0)  9,575.6350 (>1000.0)  800.6694 (>1000.0)       1;0    0.1009 (0.00)          5           1
+test_bzip2[fifty-four-mb-repeating-cramjam]       8,290.9926 (>1000.0)   8,564.3140 (>1000.0)  8,405.8197 (>1000.0)  100.4702 (>1000.0)  8,379.8931 (>1000.0)  105.7075 (>1000.0)       2;0    0.1190 (0.00)          5           1
+test_bzip2[fireworks.jpeg-bzip2]                     11.4166 (9.01)         13.8160 (8.39)        11.9222 (8.90)       0.4338 (11.27)       11.8242 (8.92)       0.3818 (8.52)         10;5   83.8773 (0.11)         85           1
+test_bzip2[fireworks.jpeg-cramjam]                   10.5497 (8.33)         12.2991 (7.47)        11.0318 (8.24)       0.2900 (7.53)        10.9575 (8.26)       0.2596 (5.79)         16;5   90.6472 (0.12)         92           1
+test_bzip2[geo.protodata-bzip2]                       8.0638 (6.36)          9.1159 (5.54)         8.2840 (6.19)       0.1215 (3.16)         8.2872 (6.25)       0.1077 (2.40)         22;3  120.7146 (0.16)        118           1
+test_bzip2[geo.protodata-cramjam]                     7.5771 (5.98)          8.8989 (5.41)         7.8477 (5.86)       0.1479 (3.84)         7.8153 (5.89)       0.1452 (3.24)         16;2  127.4257 (0.17)        127           1
+test_bzip2[html-bzip2]                                6.4125 (5.06)          7.2505 (4.40)         6.6252 (4.95)       0.1029 (2.67)         6.6151 (4.99)       0.0885 (1.97)         22;7  150.9397 (0.20)        150           1
+test_bzip2[html-cramjam]                              6.0190 (4.75)          6.6557 (4.04)         6.1884 (4.62)       0.0864 (2.25)         6.1636 (4.65)       0.1016 (2.27)         35;4  161.5915 (0.22)        158           1
+test_bzip2[html_x_4-bzip2]                           31.2213 (24.64)        33.4331 (20.31)       31.5566 (23.57)      0.4104 (10.66)       31.4843 (23.75)      0.2987 (6.66)          1;1   31.6891 (0.04)         30           1
+test_bzip2[html_x_4-cramjam]                         29.1961 (23.04)        31.7037 (19.26)       29.6869 (22.17)      0.4969 (12.91)       29.5098 (22.26)      0.4508 (10.06)         5;1   33.6849 (0.05)         32           1
+test_bzip2[kppkn.gtb-bzip2]                           9.9215 (7.83)         11.7609 (7.14)        10.4842 (7.83)       0.3484 (9.05)        10.3495 (7.81)       0.3751 (8.37)         22;6   95.3820 (0.13)         94           1
+test_bzip2[kppkn.gtb-cramjam]                         9.5839 (7.56)         10.6962 (6.50)         9.9063 (7.40)       0.2034 (5.28)         9.8640 (7.44)       0.2405 (5.36)         18;3  100.9457 (0.14)        101           1
+test_bzip2[lcet10.txt-bzip2]                         28.7752 (22.71)        31.1098 (18.90)       29.2280 (21.83)      0.4010 (10.42)       29.1479 (21.99)      0.3664 (8.17)          2;1   34.2138 (0.05)         33           1
+test_bzip2[lcet10.txt-cramjam]                       27.5969 (21.78)        29.8887 (18.16)       28.3710 (21.19)      0.6627 (17.22)       28.1787 (21.25)      0.8508 (18.98)         8;0   35.2472 (0.05)         34           1
+test_bzip2[paper-100k.pdf-bzip2]                      8.5453 (6.74)          9.3542 (5.68)         8.8012 (6.57)       0.1380 (3.59)         8.7832 (6.62)       0.1122 (2.50)        25;11  113.6214 (0.15)        113           1
+test_bzip2[paper-100k.pdf-cramjam]                    8.1157 (6.41)          9.4451 (5.74)         8.3298 (6.22)       0.1797 (4.67)         8.2959 (6.26)       0.0947 (2.11)         10;7  120.0510 (0.16)        119           1
+test_bzip2[plrabn12.txt-bzip2]                       36.0196 (28.43)        38.5789 (23.44)       36.7931 (27.48)      0.7330 (19.05)       36.4790 (27.51)      0.9648 (21.52)         6;0   27.1790 (0.04)         26           1
+test_bzip2[plrabn12.txt-cramjam]                     34.6344 (27.34)        37.5419 (22.81)       35.3211 (26.38)      0.5382 (13.98)       35.3134 (26.64)      0.4735 (10.56)         4;1   28.3117 (0.04)         27           1
+test_bzip2[urls.10K-bzip2]                           51.0884 (40.32)        52.2594 (31.75)       51.6389 (38.57)      0.2879 (7.48)        51.6694 (38.97)      0.4628 (10.32)         5;0   19.3652 (0.03)         18           1
+test_bzip2[urls.10K-cramjam]                         47.3159 (37.35)        48.2918 (29.34)       47.8151 (35.71)      0.2691 (6.99)        47.8155 (36.07)      0.3339 (7.45)          6;0   20.9139 (0.03)         19           1
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
 
 
 #### ZSTD
 
 `make bench-zstd`
 
 ```bash 
-------------------------------------------------------------------------------------------------------------- benchmark: 28 tests -------------------------------------------------------------------------------------------------------------
-Name (time in us)                                         Min                     Max                    Mean                StdDev                  Median                   IQR            Outliers         OPS            Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-test_zstd[Mark.Twain-Tom.Sawyer.txt-cramjam]         162.9620 (1.09)         406.7180 (1.0)          176.6457 (1.0)         18.1423 (1.14)         169.1270 (1.0)         10.4961 (30.47)     201;206  5,661.0504 (1.0)        1524           1
-test_zstd[Mark.Twain-Tom.Sawyer.txt-zstd]            150.1160 (1.0)          476.3250 (1.17)         254.5834 (1.44)        73.5374 (4.64)         286.3150 (1.69)       111.8249 (324.63)       15;1  3,927.9858 (0.69)         50           1
-test_zstd[alice29.txt-cramjam]                     1,375.7630 (9.16)       1,755.1420 (4.32)       1,409.3451 (7.98)        44.2825 (2.79)       1,399.8351 (8.28)        39.0127 (113.25)      63;29    709.5494 (0.13)        675           1
-test_zstd[alice29.txt-zstd]                        1,325.4730 (8.83)       2,010.5341 (4.94)       1,360.4852 (7.70)        62.9252 (3.97)       1,345.8120 (7.96)        39.4245 (114.45)      35;29    735.0319 (0.13)        691           1
-test_zstd[asyoulik.txt-cramjam]                    1,215.3659 (8.10)       1,828.1790 (4.49)       1,250.6696 (7.08)        57.2588 (3.61)       1,238.3070 (7.32)        38.2224 (110.96)      53;47    799.5717 (0.14)        759           1
-test_zstd[asyoulik.txt-zstd]                       1,159.6669 (7.73)       1,858.6870 (4.57)       1,189.6754 (6.73)        54.2058 (3.42)       1,175.6300 (6.95)        34.5710 (100.36)      54;39    840.5654 (0.15)        816           1
-test_zstd[fifty-four-mb-random-cramjam]          126,119.5041 (840.15)   127,714.4219 (314.01)   126,973.2383 (718.80)     588.7249 (37.11)    127,016.0485 (751.01)     922.4786 (>1000.0)       4;0      7.8757 (0.00)          8           1
-test_zstd[fifty-four-mb-random-zstd]              54,271.3830 (361.53)    67,254.4950 (165.36)    62,470.3614 (353.65)   3,707.2937 (233.68)    63,691.2219 (376.59)   4,924.4625 (>1000.0)       4;0     16.0076 (0.00)         16           1
-test_zstd[fifty-four-mb-repeating-cramjam]        49,074.5769 (326.91)    50,540.2781 (124.26)    49,350.9156 (279.38)     374.5157 (23.61)     49,230.9110 (291.09)     269.6409 (782.76)        1;1     20.2630 (0.00)         14           1
-test_zstd[fifty-four-mb-repeating-zstd]           27,456.1089 (182.90)    30,666.1710 (75.40)     28,946.7121 (163.87)     620.6539 (39.12)     29,004.8160 (171.50)     532.4374 (>1000.0)       8;4     34.5462 (0.01)         33           1
-test_zstd[fireworks.jpeg-cramjam]                    287.1940 (1.91)         503.2960 (1.24)         296.2061 (1.68)        19.8144 (1.25)         288.1080 (1.70)         8.4531 (24.54)     228;298  3,376.0276 (0.60)       2354           1
-test_zstd[fireworks.jpeg-zstd]                       216.6729 (1.44)         594.6030 (1.46)         221.7168 (1.26)        16.1432 (1.02)         217.1519 (1.28)         0.3445 (1.0)       280;881  4,510.2582 (0.80)       4208           1
-test_zstd[geo.protodata-cramjam]                     327.6070 (2.18)         517.6039 (1.27)         338.9284 (1.92)        17.7418 (1.12)         332.8320 (1.97)         8.2538 (23.96)     259;399  2,950.4755 (0.52)       2635           1
-test_zstd[geo.protodata-zstd]                        280.3099 (1.87)         669.7009 (1.65)         289.7946 (1.64)        15.8649 (1.0)          285.2400 (1.69)         2.6374 (7.66)      288;645  3,450.7199 (0.61)       3200           1
-test_zstd[html-cramjam]                              356.0591 (2.37)         772.1799 (1.90)         366.8109 (2.08)        23.6813 (1.49)         359.2240 (2.12)         5.6227 (16.32)     175;413  2,726.2002 (0.48)       2443           1
-test_zstd[html-zstd]                                 312.1750 (2.08)         533.3930 (1.31)         321.4469 (1.82)        19.8513 (1.25)         314.5090 (1.86)         3.7401 (10.86)     246;582  3,110.9334 (0.55)       2934           1
-test_zstd[html_x_4-cramjam]                          476.6970 (3.18)         719.8390 (1.77)         490.4110 (2.78)        21.8491 (1.38)         481.2561 (2.85)        15.6217 (45.35)     192;152  2,039.1062 (0.36)       1797           1
-test_zstd[html_x_4-zstd]                             364.6320 (2.43)         644.5120 (1.58)         374.6641 (2.12)        19.1959 (1.21)         367.3399 (2.17)         5.6954 (16.53)     231;447  2,669.0574 (0.47)       2477           1
-test_zstd[kppkn.gtb-cramjam]                       1,093.0240 (7.28)       1,506.8919 (3.71)       1,131.5039 (6.41)        49.7900 (3.14)       1,117.8980 (6.61)        44.4521 (129.04)      92;52    883.7795 (0.16)        843           1
-test_zstd[kppkn.gtb-zstd]                          1,044.6580 (6.96)       1,529.9510 (3.76)       1,069.5185 (6.05)        38.3409 (2.42)       1,053.7340 (6.23)        28.2210 (81.93)       77;49    935.0002 (0.17)        896           1
-test_zstd[lcet10.txt-cramjam]                      3,546.4830 (23.62)      4,082.9000 (10.04)      3,626.4003 (20.53)       78.0370 (4.92)       3,605.1755 (21.32)       78.6935 (228.45)      31;11    275.7555 (0.05)        260           1
-test_zstd[lcet10.txt-zstd]                         3,407.8470 (22.70)      4,383.9460 (10.78)      3,496.2894 (19.79)      105.5919 (6.66)       3,474.2125 (20.54)       70.1590 (203.67)      22;22    286.0175 (0.05)        286           1
-test_zstd[paper-100k.pdf-cramjam]                    494.6779 (3.30)         958.8940 (2.36)         510.4041 (2.89)        32.5814 (2.05)         499.8320 (2.96)        13.1470 (38.17)      95;186  1,959.2320 (0.35)       1821           1
-test_zstd[paper-100k.pdf-zstd]                       480.3210 (3.20)         801.3280 (1.97)         493.8572 (2.80)        26.0754 (1.64)         484.5071 (2.86)        14.3057 (41.53)     133;137  2,024.8767 (0.36)       1655           1
-test_zstd[plrabn12.txt-cramjam]                    4,773.0900 (31.80)      5,415.0301 (13.31)      4,930.6590 (27.91)      134.2914 (8.46)       4,886.1710 (28.89)      140.8120 (408.78)      38;10    202.8126 (0.04)        165           1
-test_zstd[plrabn12.txt-zstd]                       4,617.4621 (30.76)      5,391.8620 (13.26)      4,735.0956 (26.81)      101.1250 (6.37)       4,712.4890 (27.86)       77.8873 (226.11)      28;11    211.1890 (0.04)        203           1
-test_zstd[urls.10K-cramjam]                        4,454.6180 (29.67)      6,157.7980 (15.14)      4,578.2559 (25.92)      153.7447 (9.69)       4,547.1541 (26.89)       93.7060 (272.03)      12;11    218.4238 (0.04)        194           1
-test_zstd[urls.10K-zstd]                           4,201.4410 (27.99)      4,969.7730 (12.22)      4,298.6442 (24.33)      103.9367 (6.55)       4,271.2825 (25.25)       69.8585 (202.80)      18;13    232.6315 (0.04)        228           1
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+----------------------------------------------------------------------------------------------------------- benchmark: 28 tests ------------------------------------------------------------------------------------------------------------
+Name (time in us)                                        Min                    Max                   Mean                StdDev                 Median                   IQR            Outliers          OPS            Rounds  Iterations
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+test_zstd[Mark.Twain-Tom.Sawyer.txt-cramjam]         70.5230 (1.15)        322.1980 (2.21)         83.2324 (1.23)        24.3582 (6.54)         77.1795 (1.15)         2.7310 (1.0)       104;305  12,014.5494 (0.81)       1952           1
+test_zstd[Mark.Twain-Tom.Sawyer.txt-zstd]            61.4410 (1.0)         145.6300 (1.0)          67.5637 (1.0)          3.7238 (1.0)          67.0730 (1.0)          3.4307 (1.26)       434;79  14,800.8577 (1.0)        2845           1
+test_zstd[alice29.txt-cramjam]                      678.0400 (11.04)     1,693.7420 (11.63)       884.3405 (13.09)      242.1637 (65.03)       787.4440 (11.74)       38.6440 (14.15)     132;180   1,130.7862 (0.08)        922           1
+test_zstd[alice29.txt-zstd]                         711.2090 (11.58)     1,138.5870 (7.82)        864.7882 (12.80)      118.9756 (31.95)       795.0490 (11.85)      235.1320 (86.10)       351;0   1,156.3525 (0.08)        806           1
+test_zstd[asyoulik.txt-cramjam]                     608.5230 (9.90)      1,528.0540 (10.49)       823.2820 (12.19)      240.6407 (64.62)       714.6660 (10.66)       64.3031 (23.55)     214;244   1,214.6507 (0.08)       1185           1
+test_zstd[asyoulik.txt-zstd]                        655.8840 (10.68)     1,429.5070 (9.82)        697.0971 (10.32)       40.2685 (10.81)       691.1145 (10.30)       29.3460 (10.75)       73;49   1,434.5205 (0.10)        782           1
+test_zstd[fifty-four-mb-random-cramjam]          53,400.1600 (869.13)   60,481.7220 (415.31)   56,141.9546 (830.95)   2,425.5086 (651.36)   54,846.9690 (817.72)   4,210.2271 (>1000.0)       5;0      17.8120 (0.00)         18           1
+test_zstd[fifty-four-mb-random-zstd]             56,183.9560 (914.44)   61,756.0550 (424.06)   59,403.2061 (879.22)   1,776.4993 (477.07)   59,451.3920 (886.37)   3,177.9210 (>1000.0)       5;0      16.8341 (0.00)         17           1
+test_zstd[fifty-four-mb-repeating-cramjam]       27,573.7410 (448.78)   28,531.4800 (195.92)   28,027.4104 (414.83)     231.2358 (62.10)    28,060.4760 (418.36)     310.7252 (113.78)        9;0      35.6794 (0.00)         31           1
+test_zstd[fifty-four-mb-repeating-zstd]          35,470.3800 (577.31)   38,001.9480 (260.95)   36,584.3495 (541.48)     602.4920 (161.80)   36,570.5255 (545.23)     664.5960 (243.35)        7;2      27.3341 (0.00)         24           1
+test_zstd[fireworks.jpeg-cramjam]                   112.2150 (1.83)        267.2100 (1.83)        122.2163 (1.81)        14.6080 (3.92)        118.9835 (1.77)         5.0770 (1.86)      124;275   8,182.2154 (0.55)       4158           1
+test_zstd[fireworks.jpeg-zstd]                       97.1890 (1.58)        235.5780 (1.62)        122.0515 (1.81)        20.7609 (5.58)        110.0710 (1.64)        39.4670 (14.45)      2379;5   8,193.2630 (0.55)       6782           1
+test_zstd[geo.protodata-cramjam]                    138.7520 (2.26)        418.6240 (2.87)        195.7750 (2.90)        74.8352 (20.10)       162.2900 (2.42)        16.4493 (6.02)      623;664   5,107.9044 (0.35)       3423           1
+test_zstd[geo.protodata-zstd]                       128.5680 (2.09)        267.8980 (1.84)        153.2041 (2.27)        12.2514 (3.29)        150.9630 (2.25)        14.2765 (5.23)      820;110   6,527.2417 (0.44)       3015           1
+test_zstd[html-cramjam]                             163.2600 (2.66)        467.2030 (3.21)        201.2071 (2.98)        44.9913 (12.08)       190.2790 (2.84)         9.6932 (3.55)      158;266   4,970.0030 (0.34)       3097           1
+test_zstd[html-zstd]                                159.0910 (2.59)        279.1720 (1.92)        179.3438 (2.65)        11.5878 (3.11)        176.3290 (2.63)        14.4730 (5.30)     1031;111   5,575.8825 (0.38)       3973           1
+test_zstd[html_x_4-cramjam]                         211.0290 (3.43)        648.3970 (4.45)        301.5790 (4.46)       122.9374 (33.01)       242.0545 (3.61)        33.0550 (12.10)     378;413   3,315.8807 (0.22)       1926           1
+test_zstd[html_x_4-zstd]                            168.0120 (2.73)        520.4590 (3.57)        238.2982 (3.53)        78.2418 (21.01)       196.9880 (2.94)        52.9877 (19.40)     680;674   4,196.4231 (0.28)       2929           1
+test_zstd[kppkn.gtb-cramjam]                        547.1670 (8.91)      1,565.6570 (10.75)       748.9480 (11.09)      233.7635 (62.78)       636.6600 (9.49)        55.8945 (20.47)     258;285   1,335.2062 (0.09)       1288           1
+test_zstd[kppkn.gtb-zstd]                           565.8690 (9.21)        911.4790 (6.26)        653.9680 (9.68)        62.5809 (16.81)       626.3685 (9.34)        58.0240 (21.25)     285;140   1,529.1267 (0.10)       1074           1
+test_zstd[lcet10.txt-cramjam]                     1,843.8050 (30.01)     4,286.3290 (29.43)     2,122.2706 (31.41)      356.2751 (95.68)     2,049.0970 (30.55)       42.2257 (15.46)       23;60     471.1935 (0.03)        439           1
+test_zstd[lcet10.txt-zstd]                        1,913.1310 (31.14)     4,043.1030 (27.76)     2,042.1810 (30.23)      247.2250 (66.39)     2,008.1620 (29.94)       63.5270 (23.26)       14;16     489.6726 (0.03)        467           1
+test_zstd[paper-100k.pdf-cramjam]                   217.1630 (3.53)        644.3760 (4.42)        255.1407 (3.78)        36.2405 (9.73)        249.5360 (3.72)         8.5870 (3.14)       51;216   3,919.4053 (0.26)       2910           1
+test_zstd[paper-100k.pdf-zstd]                      267.2840 (4.35)        390.6240 (2.68)        286.3562 (4.24)         8.7586 (2.35)        285.4830 (4.26)         7.6720 (2.81)      612;219   3,492.1536 (0.24)       2816           1
+test_zstd[plrabn12.txt-cramjam]                   2,557.3270 (41.62)     5,366.2910 (36.85)     2,787.0075 (41.25)      191.9163 (51.54)     2,766.6825 (41.25)       33.0600 (12.11)        7;33     358.8078 (0.02)        334           1
+test_zstd[plrabn12.txt-zstd]                      2,464.5420 (40.11)     5,246.9490 (36.03)     2,703.3937 (40.01)      179.3986 (48.18)     2,689.2370 (40.09)       39.3315 (14.40)        6;26     369.9054 (0.02)        357           1
+test_zstd[urls.10K-cramjam]                       2,552.0180 (41.54)     6,011.9580 (41.28)     2,728.0841 (40.38)      247.9977 (66.60)     2,705.6875 (40.34)       47.6180 (17.44)        2;25     366.5576 (0.02)        332           1
+test_zstd[urls.10K-zstd]                          3,323.8390 (54.10)     5,461.0030 (37.50)     3,551.0236 (52.56)      229.1187 (61.53)     3,528.1250 (52.60)      122.4380 (44.83)         7;7     281.6089 (0.02)        243           1
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 ```
```

### Comparing `cramjam-2.6.2/benchmarks/data/COPYING` & `cramjam-2.7.0rc1/benchmarks/data/COPYING`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/Mark.Twain-Tom.Sawyer.txt` & `cramjam-2.7.0rc1/benchmarks/data/Mark.Twain-Tom.Sawyer.txt`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/alice29.txt` & `cramjam-2.7.0rc1/benchmarks/data/alice29.txt`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/asyoulik.txt` & `cramjam-2.7.0rc1/benchmarks/data/asyoulik.txt`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/fireworks.jpeg` & `cramjam-2.7.0rc1/benchmarks/data/fireworks.jpeg`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/geo.protodata` & `cramjam-2.7.0rc1/benchmarks/data/geo.protodata`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/html` & `cramjam-2.7.0rc1/benchmarks/data/html`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/html_x_4` & `cramjam-2.7.0rc1/benchmarks/data/html_x_4`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/kppkn.gtb` & `cramjam-2.7.0rc1/benchmarks/data/kppkn.gtb`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/lcet10.txt` & `cramjam-2.7.0rc1/benchmarks/data/lcet10.txt`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/paper-100k.pdf` & `cramjam-2.7.0rc1/benchmarks/data/paper-100k.pdf`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/plrabn12.txt` & `cramjam-2.7.0rc1/benchmarks/data/plrabn12.txt`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/data/urls.10K` & `cramjam-2.7.0rc1/benchmarks/data/urls.10K`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/benchmarks/test_bench.py` & `cramjam-2.7.0rc1/benchmarks/test_bench.py`

 * *Files 0% similar despite different names*

```diff
@@ -102,15 +102,15 @@
 def test_cramjam_snappy_de_compress_into(benchmark, op, file):
     """
     Uses decompress_into for snappy compression
     """
     from cramjam import snappy
 
     data = file.read_bytes()
-    compressed_data = cramjam.snappy.compress(data)
+    compressed_data = bytes(cramjam.snappy.compress(data))
 
     operation = getattr(snappy, op)
     buffer = np.zeros(
         len(data) if op == "decompress_into" else len(compressed_data),
         dtype=np.uint8,
     )
```

### Comparing `cramjam-2.6.2/src/brotli.rs` & `cramjam-2.7.0rc1/src/brotli.rs`

 * *Files 11% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 //! brotli de/compression interface
 use crate::exceptions::{CompressionError, DecompressionError};
 use crate::io::RustyBuffer;
-use crate::{to_py_err, BytesType};
+use crate::{AsBytes, BytesType};
 use pyo3::prelude::*;
 use pyo3::wrap_pyfunction;
 use pyo3::PyResult;
 use std::io::{Cursor, Write};
 
 const DEFAULT_COMPRESSION_LEVEL: u32 = 11;
 const BUF_SIZE: usize = 1 << 17; // Taken from brotli kCompressFragementTwoPassBlockSize
@@ -13,53 +13,53 @@
 
 pub(crate) fn init_py_module(m: &PyModule) -> PyResult<()> {
     m.add_function(wrap_pyfunction!(compress, m)?)?;
     m.add_function(wrap_pyfunction!(decompress, m)?)?;
     m.add_function(wrap_pyfunction!(compress_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_into, m)?)?;
     m.add_class::<Compressor>()?;
+    m.add_class::<Decompressor>()?;
     Ok(())
 }
 
 /// Brotli decompression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.brotli.decompress(compressed_bytes, output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn decompress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(decompress(data), output_len = output_len)
+pub fn decompress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::decompress[data], output_len = output_len).map_err(DecompressionError::from_err)
 }
 
 /// Brotli compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.brotli.compress(b'some bytes here', level=9, output_len=Option[int])  # level defaults to 11
 /// ```
 #[pyfunction]
-pub fn compress(data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(compress(data), output_len = output_len, level = level)
+pub fn compress(py: Python, data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::compress[data], output_len = output_len, level = level)
+        .map_err(CompressionError::from_err)
 }
 
 /// Compress directly into an output buffer
 #[pyfunction]
-pub fn compress_into(input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
-    let r = internal::compress(input, &mut output, level)?;
-    Ok(r)
+pub fn compress_into(py: Python, input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
+    crate::generic!(py, internal::compress[input, output], level=level).map_err(CompressionError::from_err)
 }
 
 /// Decompress directly into an output buffer
 #[pyfunction]
-pub fn decompress_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let r = internal::decompress(input, &mut output)?;
-    Ok(r)
+pub fn decompress_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    crate::generic!(py, internal::decompress[input, output]).map_err(DecompressionError::from_err)
 }
 
 /// Brotli Compressor object for streaming compression
 #[pyclass]
 pub struct Compressor {
     inner: Option<brotli::CompressorWriter<Cursor<Vec<u8>>>>,
 }
@@ -89,28 +89,32 @@
     pub fn finish(&mut self) -> PyResult<RustyBuffer> {
         crate::io::stream_finish(&mut self.inner, |mut inner| {
             inner.flush().map(|_| inner.into_inner().into_inner())
         })
     }
 }
 
+crate::make_decompressor!();
+
 pub(crate) mod internal {
 
     use crate::brotli::{BUF_SIZE, DEFAULT_COMPRESSION_LEVEL, LGWIN};
     use std::io::prelude::*;
     use std::io::Error;
 
     /// Decompress via Brotli
+    #[inline(always)]
     pub fn decompress<W: Write + ?Sized, R: Read>(input: R, output: &mut W) -> Result<usize, Error> {
         let mut decoder = brotli::Decompressor::new(input, BUF_SIZE);
         let n_bytes = std::io::copy(&mut decoder, output)?;
         Ok(n_bytes as usize)
     }
 
     /// Compress via Brotli
+    #[inline(always)]
     pub fn compress<W: Write + ?Sized, R: Read>(input: R, output: &mut W, level: Option<u32>) -> Result<usize, Error> {
         let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL);
         let mut encoder = brotli::CompressorReader::new(input, BUF_SIZE, level, LGWIN);
         let n_bytes = std::io::copy(&mut encoder, output)?;
         Ok(n_bytes as usize)
     }
 }
```

### Comparing `cramjam-2.6.2/src/bzip2.rs` & `cramjam-2.7.0rc1/src/zstd.rs`

 * *Files 12% similar despite different names*

```diff
@@ -1,79 +1,77 @@
-//! bzip2 de/compression interface
+//! zstd de/compression interface
 use crate::exceptions::{CompressionError, DecompressionError};
 use crate::io::RustyBuffer;
-use crate::{to_py_err, BytesType};
+use crate::{AsBytes, BytesType};
 use pyo3::prelude::*;
 use pyo3::wrap_pyfunction;
 use pyo3::PyResult;
 use std::io::Cursor;
 
-const DEFAULT_COMPRESSION_LEVEL: u32 = 6;
+const DEFAULT_COMPRESSION_LEVEL: i32 = 0;
 
 pub(crate) fn init_py_module(m: &PyModule) -> PyResult<()> {
     m.add_function(wrap_pyfunction!(compress, m)?)?;
     m.add_function(wrap_pyfunction!(decompress, m)?)?;
     m.add_function(wrap_pyfunction!(compress_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_into, m)?)?;
     m.add_class::<Compressor>()?;
+    m.add_class::<Decompressor>()?;
     Ok(())
 }
 
-/// bzip2 decompression.
+/// ZSTD decompression.
 ///
 /// Python Example
 /// --------------
 /// ```python
-/// >>> cramjam.bzip2.decompress(compressed_bytes, output_len=Optional[int])
+/// >>> cramjam.zstd.decompress(compressed_bytes, output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn decompress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(decompress(data), output_len = output_len)
+pub fn decompress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::decompress[data], output_len = output_len).map_err(DecompressionError::from_err)
 }
 
-/// bzip2 compression.
+/// ZSTD compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
-/// >>> cramjam.bzip2.compress(b'some bytes here', level=6, output_len=Option[int])  # level defaults to 6
+/// >>> cramjam.zstd.compress(b'some bytes here', level=0, output_len=Optional[int])  # level defaults to 11
 /// ```
 #[pyfunction]
-pub fn compress(data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(compress(data), output_len = output_len, level = level)
+pub fn compress(py: Python, data: BytesType, level: Option<i32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::compress[data], output_len = output_len, level = level)
+        .map_err(CompressionError::from_err)
 }
 
 /// Compress directly into an output buffer
 #[pyfunction]
-pub fn compress_into(input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
-    let r = internal::compress(input, &mut output, level)?;
-    Ok(r)
+pub fn compress_into(py: Python, input: BytesType, mut output: BytesType, level: Option<i32>) -> PyResult<usize> {
+    crate::generic!(py, internal::compress[input, output], level = level).map_err(CompressionError::from_err)
 }
 
 /// Decompress directly into an output buffer
 #[pyfunction]
-pub fn decompress_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let r = internal::decompress(input, &mut output)?;
-    Ok(r)
+pub fn decompress_into<'a>(py: Python<'a>, input: BytesType<'a>, mut output: BytesType<'a>) -> PyResult<usize> {
+    crate::generic!(py, internal::decompress[input, output]).map_err(DecompressionError::from_err)
 }
 
-/// bzip2 Compressor object for streaming compression
+/// ZSTD Compressor object for streaming compression
 #[pyclass]
 pub struct Compressor {
-    inner: Option<bzip2::write::BzEncoder<Cursor<Vec<u8>>>>,
+    inner: Option<zstd::stream::write::Encoder<'static, Cursor<Vec<u8>>>>,
 }
 
 #[pymethods]
 impl Compressor {
     /// Initialize a new `Compressor` instance.
     #[new]
-    pub fn __init__(level: Option<u32>) -> PyResult<Self> {
-        let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL);
-        let comp = bzip2::Compression::new(level);
-        let inner = bzip2::write::BzEncoder::new(Cursor::new(vec![]), comp);
+    pub fn __init__(level: Option<i32>) -> PyResult<Self> {
+        let inner = zstd::stream::write::Encoder::new(Cursor::new(vec![]), level.unwrap_or(DEFAULT_COMPRESSION_LEVEL))?;
         Ok(Self { inner: Some(inner) })
     }
 
     /// Compress input into the current compressor's stream.
     pub fn compress(&mut self, input: &[u8]) -> PyResult<usize> {
         crate::io::stream_compress(&mut self.inner, input)
     }
@@ -82,33 +80,35 @@
     pub fn flush(&mut self) -> PyResult<RustyBuffer> {
         crate::io::stream_flush(&mut self.inner, |e| e.get_mut())
     }
 
     /// Consume the current compressor state and return the compressed stream
     /// **NB** The compressor will not be usable after this method is called.
     pub fn finish(&mut self) -> PyResult<RustyBuffer> {
-        crate::io::stream_finish(&mut self.inner, |inner| inner.finish().map(|c| c.into_inner()))
+        crate::io::stream_finish(&mut self.inner, |inner| inner.finish().map(|v| v.into_inner()))
     }
 }
 
+crate::make_decompressor!();
+
 pub(crate) mod internal {
 
-    use super::DEFAULT_COMPRESSION_LEVEL;
-    use bzip2::read::{BzEncoder, MultiBzDecoder};
-    use std::io::prelude::*;
-    use std::io::Error;
+    use crate::zstd::DEFAULT_COMPRESSION_LEVEL;
+    use std::io::{Error, Read, Write};
 
-    /// Decompress via bzip2
+    /// Decompress gzip data
+    #[inline(always)]
     pub fn decompress<W: Write + ?Sized, R: Read>(input: R, output: &mut W) -> Result<usize, Error> {
-        let mut decoder = MultiBzDecoder::new(input);
+        let mut decoder = zstd::stream::read::Decoder::new(input)?;
         let n_bytes = std::io::copy(&mut decoder, output)?;
         Ok(n_bytes as usize)
     }
 
-    /// Compress via bzip2
-    pub fn compress<W: Write + ?Sized, R: Read>(input: R, output: &mut W, level: Option<u32>) -> Result<usize, Error> {
-        let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL);
-        let mut encoder = BzEncoder::new(input, bzip2::Compression::new(level));
+    /// Compress gzip data
+    #[inline(always)]
+    pub fn compress<W: Write + ?Sized, R: Read>(input: R, output: &mut W, level: Option<i32>) -> Result<usize, Error> {
+        let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL); // 0 will use zstd's default, currently 3
+        let mut encoder = zstd::stream::read::Encoder::new(input, level)?;
         let n_bytes = std::io::copy(&mut encoder, output)?;
         Ok(n_bytes as usize)
     }
 }
```

### Comparing `cramjam-2.6.2/src/deflate.rs` & `cramjam-2.7.0rc1/src/deflate.rs`

 * *Files 5% similar despite different names*

```diff
@@ -1,63 +1,63 @@
 //! deflate de/compression interface
 use crate::exceptions::{CompressionError, DecompressionError};
 use crate::io::RustyBuffer;
-use crate::{to_py_err, BytesType};
+use crate::{AsBytes, BytesType};
 use pyo3::prelude::*;
 use pyo3::wrap_pyfunction;
 use pyo3::PyResult;
 use std::io::Cursor;
 
 const DEFAULT_COMPRESSION_LEVEL: u32 = 6;
 
 pub(crate) fn init_py_module(m: &PyModule) -> PyResult<()> {
     m.add_function(wrap_pyfunction!(compress, m)?)?;
     m.add_function(wrap_pyfunction!(decompress, m)?)?;
     m.add_function(wrap_pyfunction!(compress_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_into, m)?)?;
     m.add_class::<Compressor>()?;
+    m.add_class::<Decompressor>()?;
     Ok(())
 }
 
 /// Deflate decompression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.deflate.decompress(compressed_bytes, output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn decompress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(decompress(data), output_len = output_len)
+pub fn decompress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::decompress[data], output_len = output_len).map_err(DecompressionError::from_err)
 }
 
 /// Deflate compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.deflate.compress(b'some bytes here', level=5, output_len=Optional[int])  # level defaults to 6
 /// ```
 #[pyfunction]
-pub fn compress(data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(compress(data), output_len = output_len, level = level)
+pub fn compress(py: Python, data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::compress[data], output_len = output_len, level = level)
+        .map_err(CompressionError::from_err)
 }
 
 /// Compress directly into an output buffer
 #[pyfunction]
-pub fn compress_into(input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
-    let r = internal::compress(input, &mut output, level)?;
-    Ok(r)
+pub fn compress_into(py: Python, input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
+    crate::generic!(py, internal::compress[input, output], level = level).map_err(CompressionError::from_err)
 }
 
 /// Decompress directly into an output buffer
 #[pyfunction]
-pub fn decompress_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let r = internal::decompress(input, &mut output)?;
-    Ok(r)
+pub fn decompress_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    crate::generic!(py, internal::decompress[input, output]).map_err(DecompressionError::from_err)
 }
 
 /// Deflate Compressor object for streaming compression
 #[pyclass]
 pub struct Compressor {
     inner: Option<flate2::write::DeflateEncoder<Cursor<Vec<u8>>>>,
 }
@@ -86,30 +86,34 @@
     /// Consume the current compressor state and return the compressed stream
     /// **NB** The compressor will not be usable after this method is called.
     pub fn finish(&mut self) -> PyResult<RustyBuffer> {
         crate::io::stream_finish(&mut self.inner, |inner| inner.finish().map(|c| c.into_inner()))
     }
 }
 
+crate::make_decompressor!();
+
 pub(crate) mod internal {
 
     use crate::deflate::DEFAULT_COMPRESSION_LEVEL;
     use flate2::read::{DeflateDecoder, DeflateEncoder};
     use flate2::Compression;
     use std::io::prelude::*;
     use std::io::Error;
 
     /// Decompress gzip data
+    #[inline(always)]
     pub fn decompress<W: Write + ?Sized, R: Read>(input: R, output: &mut W) -> Result<usize, Error> {
         let mut decoder = DeflateDecoder::new(input);
         let n_bytes = std::io::copy(&mut decoder, output)?;
         Ok(n_bytes as usize)
     }
 
     /// Compress gzip data
+    #[inline(always)]
     pub fn compress<W: Write + ?Sized, R: Read>(input: R, output: &mut W, level: Option<u32>) -> Result<usize, Error> {
         let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL);
 
         let mut encoder = DeflateEncoder::new(input, Compression::new(level));
         let n_bytes = std::io::copy(&mut encoder, output)?;
         Ok(n_bytes as usize)
     }
```

### Comparing `cramjam-2.6.2/src/gzip.rs` & `cramjam-2.7.0rc1/src/gzip.rs`

 * *Files 7% similar despite different names*

```diff
@@ -1,63 +1,63 @@
 //! gzip de/compression interface
 use crate::exceptions::{CompressionError, DecompressionError};
-use crate::io::RustyBuffer;
-use crate::{to_py_err, BytesType};
+use crate::io::{AsBytes, RustyBuffer};
+use crate::BytesType;
 use pyo3::prelude::*;
 use pyo3::wrap_pyfunction;
 use pyo3::PyResult;
 use std::io::Cursor;
 
 const DEFAULT_COMPRESSION_LEVEL: u32 = 6;
 
 pub(crate) fn init_py_module(m: &PyModule) -> PyResult<()> {
     m.add_function(wrap_pyfunction!(compress, m)?)?;
     m.add_function(wrap_pyfunction!(decompress, m)?)?;
     m.add_function(wrap_pyfunction!(compress_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_into, m)?)?;
     m.add_class::<Compressor>()?;
+    m.add_class::<Decompressor>()?;
     Ok(())
 }
 
 /// Gzip decompression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.gzip.decompress(compressed_bytes, output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn decompress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(decompress(data), output_len = output_len)
+pub fn decompress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::decompress[data], output_len = output_len).map_err(DecompressionError::from_err)
 }
 
 /// Gzip compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.gzip.compress(b'some bytes here', level=2, output_len=Optional[int])  # Level defaults to 6
 /// ```
 #[pyfunction]
-pub fn compress(data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(compress(data), output_len = output_len, level = level)
+pub fn compress(py: Python, data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::compress[data], output_len = output_len, level = level)
+        .map_err(CompressionError::from_err)
 }
 
 /// Compress directly into an output buffer
 #[pyfunction]
-pub fn compress_into(input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
-    let r = internal::compress(input, &mut output, level)?;
-    Ok(r)
+pub fn compress_into(py: Python, input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
+    crate::generic!(py, internal::compress[input, output], level = level).map_err(CompressionError::from_err)
 }
 
 /// Decompress directly into an output buffer
 #[pyfunction]
-pub fn decompress_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let r = internal::decompress(input, &mut output)?;
-    Ok(r)
+pub fn decompress_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    crate::generic!(py, internal::decompress[input, output]).map_err(DecompressionError::from_err)
 }
 
 /// GZIP Compressor object for streaming compression
 #[pyclass]
 pub struct Compressor {
     inner: Option<flate2::write::GzEncoder<Cursor<Vec<u8>>>>,
 }
@@ -85,31 +85,35 @@
     /// Consume the current compressor state and return the compressed stream
     /// **NB** The compressor will not be usable after this method is called.
     pub fn finish(&mut self) -> PyResult<RustyBuffer> {
         crate::io::stream_finish(&mut self.inner, |inner| inner.finish().map(|c| c.into_inner()))
     }
 }
 
+crate::make_decompressor!();
+
 pub(crate) mod internal {
     use crate::gzip::DEFAULT_COMPRESSION_LEVEL;
     use flate2::read::{GzEncoder, MultiGzDecoder};
     use flate2::Compression;
     use std::io::prelude::*;
     use std::io::{Cursor, Error};
 
     /// Decompress gzip data
+    #[inline(always)]
     pub fn decompress<W: Write + ?Sized, R: Read>(input: R, output: &mut W) -> Result<usize, Error> {
         let mut decoder = MultiGzDecoder::new(input);
         let mut out = vec![];
         let n_bytes = decoder.read_to_end(&mut out)?;
         std::io::copy(&mut Cursor::new(out.as_slice()), output)?;
         Ok(n_bytes as usize)
     }
 
     /// Compress gzip data
+    #[inline(always)]
     pub fn compress<W: Write + ?Sized, R: Read>(input: R, output: &mut W, level: Option<u32>) -> Result<usize, Error> {
         let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL);
         let mut encoder = GzEncoder::new(input, Compression::new(level));
         let n_bytes = std::io::copy(&mut encoder, output)?;
         Ok(n_bytes as usize)
     }
```

### Comparing `cramjam-2.6.2/src/io.rs` & `cramjam-2.7.0rc1/src/io.rs`

 * *Files 2% similar despite different names*

```diff
@@ -453,16 +453,17 @@
         self.inner.set_position(0);
         Ok(())
     }
 
     fn __len__(&self) -> usize {
         self.len()
     }
-    fn __contains__(&self, x: u8) -> bool {
-        self.inner.get_ref().contains(&x)
+    fn __contains__(&self, py: Python, x: BytesType) -> bool {
+        let bytes = x.as_bytes();
+        py.allow_threads(|| self.inner.get_ref().windows(bytes.len()).any(|w| w == bytes))
     }
     fn __repr__(&self) -> String {
         format!("cramjam.Buffer(len={:?})", self.len())
     }
     fn __bool__(&self) -> bool {
         self.len() > 0
     }
@@ -575,18 +576,17 @@
 }
 
 // general stream compression interface. Can't use associated types due to pyo3::pyclass
 // not supporting generic structs.
 #[inline(always)]
 pub(crate) fn stream_compress<W: Write>(encoder: &mut Option<W>, input: &[u8]) -> PyResult<usize> {
     match encoder {
-        Some(encoder) => {
-            let result = std::io::copy(&mut Cursor::new(input), encoder).map(|v| v as usize);
-            crate::to_py_err!(CompressionError -> result)
-        }
+        Some(encoder) => std::io::copy(&mut Cursor::new(input), encoder)
+            .map(|v| v as usize)
+            .map_err(CompressionError::from_err),
         None => Err(CompressionError::new_err(
             "Compressor looks to have been consumed via `finish()`. \
             please create a new compressor instance.",
         )),
     }
 }
 
@@ -602,15 +602,15 @@
     // &mut encoder is part of a Compressor, often the .finish portion consumes
     // the struct; which cannot be done with pyclass. So we'll swap it out for None
     let mut detached_encoder = None;
     std::mem::swap(&mut detached_encoder, encoder);
 
     match detached_encoder {
         Some(encoder) => {
-            let result = crate::to_py_err!(CompressionError -> into_vec(encoder))?;
+            let result = into_vec(encoder).map_err(CompressionError::from_err)?;
             Ok(RustyBuffer::from(result))
         }
         None => Ok(RustyBuffer::from(vec![])),
     }
 }
 
 // flush inner encoder data out
@@ -618,15 +618,15 @@
 pub(crate) fn stream_flush<W, F>(encoder: &mut Option<W>, cursor_mut_ref: F) -> PyResult<RustyBuffer>
 where
     W: Write,
     F: Fn(&mut W) -> &mut Cursor<Vec<u8>>,
 {
     match encoder {
         Some(inner) => {
-            crate::to_py_err!(CompressionError -> inner.flush())?;
+            inner.flush().map_err(CompressionError::from_err)?;
             let cursor = cursor_mut_ref(inner);
             let buf = RustyBuffer::from(cursor.get_ref().clone());
             cursor.get_mut().truncate(0);
             cursor.set_position(0);
             Ok(buf)
         }
         None => Ok(RustyBuffer::from(vec![])),
```

### Comparing `cramjam-2.6.2/src/lib.rs` & `cramjam-2.7.0rc1/src/lib.rs`

 * *Files 24% similar despite different names*

```diff
@@ -63,18 +63,14 @@
 
 use pyo3::prelude::*;
 
 use crate::io::{AsBytes, RustyBuffer, RustyFile, RustyNumpyArray, RustyPyByteArray, RustyPyBytes};
 use exceptions::{CompressionError, DecompressionError};
 use std::io::{Read, Seek, SeekFrom, Write};
 
-#[cfg(feature = "mimallocator")]
-#[global_allocator]
-static GLOBAL: mimalloc::MiMalloc = mimalloc::MiMalloc;
-
 /// Any possible input/output to de/compression algorithms.
 /// Typically, as a Python user, you never have to worry about this object. It's exposed here in
 /// the documentation to see what types are acceptable for de/compression functions.
 #[derive(FromPyObject)]
 pub enum BytesType<'a> {
     /// `bytes`
     #[pyo3(transparent, annotation = "bytes")]
@@ -189,37 +185,194 @@
         }
     }
 }
 
 /// Macro for generating the implementation of de/compression against a variant interface
 #[macro_export]
 macro_rules! generic {
-    ($op:ident($input:expr), output_len=$output_len:ident $(, level=$level:ident)?) => {
+    // de/compress
+    ($py:ident, $op:path[$input:expr], output_len=$output_len:ident $(, level=$level:ident)?) => {
         {
             use crate::io::RustyBuffer;
 
             let mut output: Vec<u8> = match $output_len {
                 Some(len) => vec![0; len],
                 None => vec![]
             };
-            if stringify!($op) == "compress" {
-                to_py_err!(CompressionError -> self::internal::$op($input, &mut Cursor::new(&mut output) $(, $level)? ))?;
-            } else {
-                to_py_err!(DecompressionError -> self::internal::$op($input, &mut Cursor::new(&mut output) $(, $level)? ))?;
+            match $input {
+                BytesType::RustyFile(f) => {
+                    let borrowed = f.borrow();
+                    let file = &borrowed.inner;
+                    $py.allow_threads(|| {
+                        $op(file, &mut Cursor::new(&mut output) $(, $level)? )
+                    })
+                },
+                _ => {
+                    let bytes = $input.as_bytes();
+                    $py.allow_threads(|| {
+                        $op(bytes, &mut Cursor::new(&mut output) $(, $level)? )
+                    })
+                }
+            }.map(|_| RustyBuffer::from(output))
+        }
+    };
+    // de/compress_into
+    ($py:ident, $op:path[$input:ident, $output:ident] $(, level=$level:ident)?) => {
+        {
+            match $input {
+                BytesType::RustyFile(f) => {
+                    let borrowed = f.borrow();
+                    let f_in = &borrowed.inner;
+                    match $output {
+                        BytesType::RustyFile(f) => {
+                            let mut borrowed = f.borrow_mut();
+                            let mut f_out = &mut borrowed.inner;
+                            $py.allow_threads(|| {
+                                $op(f_in, &mut f_out $(, $level)? )
+                            })
+                        },
+                        BytesType::RustyBuffer(buffer) => {
+                            let mut borrowed = buffer.borrow_mut();
+                            let mut buf_out = &mut borrowed.inner;
+                            $py.allow_threads(|| {
+                                $op(f_in, &mut buf_out $(, $level)? )
+                            })
+                        }
+                        _ => {
+                            let bytes_out = $output.as_bytes_mut();
+                            $py.allow_threads(|| {
+                                $op(f_in, &mut Cursor::new(bytes_out) $(, $level)? )
+                            })
+                        }
+                    }
+                },
+                _ =>  {
+                    let bytes_in = $input.as_bytes();
+                    match $output {
+                        BytesType::RustyFile(f) => {
+                            let mut borrowed = f.borrow_mut();
+                            let mut f_out = &mut borrowed.inner;
+                            $py.allow_threads(|| {
+                                $op(bytes_in, &mut f_out $(, $level)? )
+                            })
+                        },
+                        BytesType::RustyBuffer(buffer) => {
+                            let mut borrowed = buffer.borrow_mut();
+                            let mut buf_out = &mut borrowed.inner;
+                            $py.allow_threads(|| {
+                                $op(bytes_in, &mut buf_out $(, $level)? )
+                            })
+                        },
+                        _ => {
+                            let bytes_out = $output.as_bytes_mut();
+                            $py.allow_threads(|| {
+                                $op(bytes_in, &mut Cursor::new(bytes_out) $(, $level)?)
+                            })
+                        }
+                    }
+                }
             }
-            Ok(RustyBuffer::from(output))
         }
     }
 }
 
-/// Macro to convert an error into a specific Python exception.
+/// Generate a `Decompressor` from a library's decompressor which implements Read
 #[macro_export]
-macro_rules! to_py_err {
-    ($error:ident -> $expr:expr) => {
-        $expr.map_err(|err| PyErr::new::<$error, _>(err.to_string()))
+macro_rules! make_decompressor {
+    () => {
+        /// Decompressor object for streaming decompression
+        /// **NB** This is mostly here for API complement to `Compressor`
+        /// You'll almost always be statisfied with `de/compress` / `de/compress_into` functions.
+        #[pyclass]
+        pub struct Decompressor {
+            inner: Option<Cursor<Vec<u8>>>,
+        }
+        #[pymethods]
+        impl Decompressor {
+            /// Initialize a new `Decompressor` instance.
+            #[new]
+            pub fn __init__() -> PyResult<Self> {
+                Ok(Self {
+                    inner: Some(Default::default()),
+                })
+            }
+
+            /// Length of internal buffer containing decompressed data.
+            pub fn len(&self) -> usize {
+                self.inner
+                    .as_ref()
+                    .map(|c| c.get_ref().len())
+                    .unwrap_or_else(|| 0)
+            }
+
+            /// Decompress this input into the inner buffer.
+            pub fn decompress(&mut self, py: Python, mut input: BytesType) -> PyResult<usize> {
+                match self.inner.as_mut() {
+                    Some(ref mut inner) => match &mut input {
+                        BytesType::RustyFile(f) => {
+                            let mut borrowed = f.borrow_mut();
+                            let f_in = &mut borrowed.inner;
+                            py.allow_threads(|| internal::decompress(f_in, inner).map_err(Into::into))
+                        }
+                        _ => {
+                            let bytes = input.as_bytes();
+                            py.allow_threads(|| internal::decompress(&mut Cursor::new(bytes), inner).map_err(Into::into))
+                        }
+                    },
+                    None => Err(DecompressionError::new_err(
+                        "Appears `finish()` was called on this instance",
+                    )),
+                }
+            }
+
+            /// Flush and return current decompressed stream.
+            pub fn flush(&mut self) -> PyResult<RustyBuffer> {
+                match self.inner.as_mut() {
+                    Some(ref mut inner) => {
+                        let mut out = vec![];
+                        std::mem::swap(&mut out, inner.get_mut());
+                        inner.set_position(0);
+                        Ok(RustyBuffer::from(out))
+                    }
+                    None => Err(DecompressionError::new_err(
+                        "Appears `finish()` was called on this instance",
+                    )),
+                }
+            }
+
+            /// Consume the current Decompressor state and return the decompressed stream
+            /// **NB** The Decompressor will not be usable after this method is called.
+            pub fn finish(&mut self) -> PyResult<RustyBuffer> {
+                match std::mem::take(&mut self.inner) {
+                    Some(inner) => Ok(RustyBuffer::from(inner.into_inner())),
+                    None => Err(DecompressionError::new_err(
+                        "Appears `finish()` was called on this instance",
+                    )),
+                }
+            }
+
+            fn __len__(&self) -> usize {
+                self.len()
+            }
+            fn __contains__(&self, py: Python, x: BytesType) -> bool {
+                let bytes = x.as_bytes();
+                py.allow_threads(|| {
+                    self.inner
+                        .as_ref()
+                        .map(|c| c.get_ref().windows(bytes.len()).any(|w| w == bytes))
+                        .unwrap_or_else(|| false)
+                })
+            }
+            fn __repr__(&self) -> String {
+                format!("Decompressor<len={}>", self.len())
+            }
+            fn __bool__(&self) -> bool {
+                self.inner.is_some() && self.len() > 0
+            }
+        }
     };
 }
 
 macro_rules! make_submodule {
     ($py:ident -> $parent:ident -> $submodule:ident) => {
         let sub_mod = PyModule::new($py, stringify!($submodule))?;
         $submodule::init_py_module(sub_mod)?;
```

### Comparing `cramjam-2.6.2/src/lz4.rs` & `cramjam-2.7.0rc1/src/lz4.rs`

 * *Files 9% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 //! lz4 de/compression interface
 use crate::exceptions::{CompressionError, DecompressionError};
 use crate::io::{AsBytes, RustyBuffer};
-use crate::{to_py_err, BytesType};
+use crate::BytesType;
 use lz4::{block, block::CompressionMode};
 use pyo3::prelude::*;
 use pyo3::wrap_pyfunction;
 use pyo3::PyResult;
 use std::io::Cursor;
 
 const DEFAULT_COMPRESSION_LEVEL: u32 = 4;
@@ -20,72 +20,74 @@
     m.add_function(wrap_pyfunction!(decompress_into, m)?)?;
     m.add_function(wrap_pyfunction!(compress_block_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_block_into, m)?)?;
 
     m.add_function(wrap_pyfunction!(compress_block_bound, m)?)?;
 
     m.add_class::<Compressor>()?;
+    m.add_class::<Decompressor>()?;
     Ok(())
 }
 
 /// LZ4 compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> # Note, output_len is currently ignored; underlying algorithm does not support reading to slice at this time
 /// >>> cramjam.lz4.decompress(compressed_bytes, output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn decompress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(decompress(data), output_len = output_len)
+pub fn decompress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::decompress[data], output_len = output_len).map_err(DecompressionError::from_err)
 }
 
 /// lZ4 compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> # Note, output_len is currently ignored; underlying algorithm does not support reading to slice at this time
 /// >>> cramjam.lz4.compress(b'some bytes here', output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn compress(mut data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(compress(&mut data), output_len = output_len, level = level)
+pub fn compress(py: Python, data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::compress[data], output_len = output_len, level = level)
+        .map_err(CompressionError::from_err)
 }
 
 /// Compress directly into an output buffer
 #[pyfunction]
-pub fn compress_into(mut input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
-    let r = internal::compress(&mut input, &mut output, level)?;
-    Ok(r)
+pub fn compress_into(py: Python, input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
+    crate::generic!(py, internal::compress[input, output], level = level).map_err(CompressionError::from_err)
 }
 
 /// Decompress directly into an output buffer
 #[pyfunction]
-pub fn decompress_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let r = internal::decompress(input, &mut output)?;
-    Ok(r)
+pub fn decompress_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    crate::generic!(py, internal::decompress[input, output]).map_err(DecompressionError::from_err)
 }
 
 /// LZ4 _block_ decompression.
 ///
 /// `output_len` is optional, it's the upper bound length of decompressed data; if it's not provided,
 /// then it's assumed `store_size=True` was used during compression and length will then be taken
 /// from the header.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.lz4.decompress_block(compressed_bytes, output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn decompress_block(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    let out = to_py_err!(DecompressionError -> block::decompress(data.as_bytes(), output_len.map(|v| v as i32)))?;
-    Ok(RustyBuffer::from(out))
+pub fn decompress_block(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    let bytes = data.as_bytes();
+    py.allow_threads(|| block::decompress(bytes, output_len.map(|v| v as i32)))
+        .map_err(DecompressionError::from_err)
+        .map(RustyBuffer::from)
 }
 
 /// lZ4 _block_ compression.
 ///
 /// The kwargs mostly follow the same definition found in [python-lz4 block.compress](https://python-lz4.readthedocs.io/en/stable/lz4.block.html#module-lz4.block)
 ///
 /// Python Example
@@ -99,37 +101,46 @@
 /// ...     compression=Option[int],
 /// ...     store_size=Option[bool]
 /// ... )
 /// ```
 #[pyfunction]
 #[allow(unused_variables)]
 pub fn compress_block(
+    py: Python,
     data: BytesType,
     output_len: Option<usize>,
     mode: Option<&str>,
     acceleration: Option<i32>,
     compression: Option<i32>,
     store_size: Option<bool>,
 ) -> PyResult<RustyBuffer> {
-    let store_size = store_size.unwrap_or(true);
-    let mode = compression_mode(mode, compression, acceleration)?;
-    let out = to_py_err!(CompressionError -> block::compress(data.as_bytes(), Some(mode), store_size))?;
-    Ok(RustyBuffer::from(out))
+    let bytes = data.as_bytes();
+    py.allow_threads(|| {
+        let store_size = store_size.unwrap_or(true);
+        let mode = compression_mode(mode, compression, acceleration)?;
+        block::compress(bytes, Some(mode), store_size)
+    })
+    .map_err(CompressionError::from_err)
+    .map(RustyBuffer::from)
 }
 
 /// LZ4 _block_ decompression into a pre-allocated buffer.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.lz4.decompress_block_into(compressed_bytes, output_buffer)
 /// ```
 #[pyfunction]
-pub fn decompress_block_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    to_py_err!(DecompressionError -> block::decompress_to_buffer(input.as_bytes(), None, output.as_bytes_mut()))
+pub fn decompress_block_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    let bytes = input.as_bytes();
+    let out_bytes = output.as_bytes_mut();
+    py.allow_threads(|| block::decompress_to_buffer(bytes, None, out_bytes))
+        .map_err(DecompressionError::from_err)
+        .map(|v| v as _)
 }
 
 /// lZ4 _block_ compression into pre-allocated buffer.
 ///
 /// The kwargs mostly follow the same definition found in [python-lz4 block.compress](https://python-lz4.readthedocs.io/en/stable/lz4.block.html#module-lz4.block)
 ///
 /// Python Example
@@ -143,24 +154,31 @@
 /// ...     compression=Option[int],
 /// ...     store_size=Option[bool]
 /// ... )
 /// ```
 #[pyfunction]
 #[allow(unused_variables)]
 pub fn compress_block_into(
+    py: Python,
     data: BytesType,
     mut output: BytesType,
     mode: Option<&str>,
     acceleration: Option<i32>,
     compression: Option<i32>,
     store_size: Option<bool>,
 ) -> PyResult<usize> {
-    let store_size = store_size.unwrap_or(true);
-    let mode = compression_mode(mode, compression, acceleration)?;
-    to_py_err!(CompressionError -> block::compress_to_buffer(data.as_bytes(), Some(mode), store_size, output.as_bytes_mut()))
+    let bytes = data.as_bytes();
+    let out_bytes = output.as_bytes_mut();
+    py.allow_threads(|| {
+        let store_size = store_size.unwrap_or(true);
+        let mode = compression_mode(mode, compression, acceleration)?;
+        block::compress_to_buffer(bytes, Some(mode), store_size, out_bytes)
+    })
+    .map_err(CompressionError::from_err)
+    .map(|v| v as _)
 }
 
 #[inline]
 fn compression_mode(
     mode: Option<&str>,
     compression: Option<i32>,
     acceleration: Option<i32>,
@@ -194,15 +212,15 @@
 /// ... )
 /// ```
 #[pyfunction]
 pub fn compress_block_bound(src: BytesType) -> PyResult<usize> {
     block::compress_bound(src.len()).map_err(|e| pyo3::exceptions::PyValueError::new_err(e.to_string()))
 }
 
-/// Snappy Compressor object for streaming compression
+/// lz4 Compressor object for streaming compression
 #[pyclass]
 pub struct Compressor {
     inner: Option<lz4::Encoder<Cursor<Vec<u8>>>>,
 }
 
 #[pymethods]
 impl Compressor {
@@ -237,41 +255,46 @@
         crate::io::stream_finish(&mut self.inner, |inner| {
             let (cursor, result) = inner.finish();
             result.map(|_| cursor.into_inner())
         })
     }
 }
 
+crate::make_decompressor!();
+
 pub(crate) mod internal {
     use crate::lz4::DEFAULT_COMPRESSION_LEVEL;
     use lz4::{Decoder, EncoderBuilder};
-    use std::io::{Error, Read, Seek, SeekFrom, Write};
+    use std::io::{BufReader, Error, Read, Seek, SeekFrom, Write};
 
     /// Decompress lz4 data
+    #[inline(always)]
     pub fn decompress<W: Write + ?Sized, R: Read>(input: R, output: &mut W) -> Result<usize, Error> {
         let mut decoder = Decoder::new(input)?;
         let n_bytes = std::io::copy(&mut decoder, output)?;
         decoder.finish().1?;
         Ok(n_bytes as usize)
     }
 
     /// Compress lz4 data
+    #[inline(always)]
     pub fn compress<W: Write + ?Sized + Seek, R: Read>(
-        input: &mut R,
+        input: R,
         output: &mut W,
         level: Option<u32>,
     ) -> Result<usize, Error> {
         let start_pos = output.seek(SeekFrom::Current(0))?;
         let mut encoder = EncoderBuilder::new()
             .auto_flush(true)
             .level(level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL))
             .build(output)?;
 
         // this returns, bytes read from uncompressed, input; we want bytes written
         // but lz4 only implements Read for Encoder
-        std::io::copy(input, &mut encoder)?;
+        let mut buf = BufReader::new(input);
+        std::io::copy(&mut buf, &mut encoder)?;
         let (w, r) = encoder.finish();
         r?;
         let ending_pos = w.seek(SeekFrom::Current(0))?;
         Ok((ending_pos - start_pos) as usize)
     }
 }
```

### Comparing `cramjam-2.6.2/src/snappy.rs` & `cramjam-2.7.0rc1/src/snappy.rs`

 * *Files 8% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 //! snappy de/compression interface
 use crate::exceptions::{CompressionError, DecompressionError};
 use crate::io::{AsBytes, RustyBuffer};
-use crate::{to_py_err, BytesType};
+use crate::BytesType;
 use pyo3::prelude::*;
 use pyo3::wrap_pyfunction;
 use pyo3::PyResult;
 use std::io::Cursor;
 
 pub(crate) fn init_py_module(m: &PyModule) -> PyResult<()> {
     m.add_function(wrap_pyfunction!(compress, m)?)?;
@@ -15,117 +15,120 @@
     m.add_function(wrap_pyfunction!(compress_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_into, m)?)?;
     m.add_function(wrap_pyfunction!(compress_raw_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_raw_into, m)?)?;
     m.add_function(wrap_pyfunction!(compress_raw_max_len, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_raw_len, m)?)?;
     m.add_class::<Compressor>()?;
+    m.add_class::<Decompressor>()?;
     Ok(())
 }
 
 /// Snappy decompression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> # bytes or bytearray; bytearray is faster
 /// >>> cramjam.snappy.decompress(compressed_bytes, output_len=Optional[None])
 /// ```
 #[pyfunction]
-pub fn decompress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(decompress(data), output_len = output_len)
+pub fn decompress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::decompress[data], output_len = output_len).map_err(DecompressionError::from_err)
 }
 
 /// Snappy compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> _ = cramjam.snappy.compress(b'some bytes here')
 /// >>> _ = cramjam.snappy.compress(bytearray(b'this avoids double allocation in rust side, and thus faster!'))  # <- use bytearray where possible
 /// ```
 #[pyfunction]
-pub fn compress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(compress(data), output_len = output_len)
+pub fn compress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::compress[data], output_len = output_len).map_err(CompressionError::from_err)
 }
 
 /// Snappy decompression, raw
 /// This does not use the snappy 'framed' encoding of compressed bytes.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.snappy.decompress_raw(compressed_raw_bytes)
 /// ```
 #[pyfunction]
 #[allow(unused_variables)]
-pub fn decompress_raw(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    let mut decoder = snap::raw::Decoder::new();
-    let output = to_py_err!(DecompressionError -> decoder.decompress_vec(data.as_bytes()))?;
-    Ok(RustyBuffer::from(output))
+pub fn decompress_raw(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    let bytes = data.as_bytes();
+    py.allow_threads(|| snap::raw::Decoder::new().decompress_vec(bytes))
+        .map_err(DecompressionError::from_err)
+        .map(From::from)
 }
 
 /// Snappy compression raw.
 /// This does not use the snappy 'framed' encoding of compressed bytes.
 ///
 /// Python Example
 /// --------------
 /// ```python
 /// >>> cramjam.snappy.compress_raw(b'some bytes here')
 /// ```
 #[pyfunction]
 #[allow(unused_variables)]
-pub fn compress_raw(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    let mut encoder = snap::raw::Encoder::new();
-    let output = to_py_err!(CompressionError -> encoder.compress_vec(data.as_bytes()))?;
-    Ok(RustyBuffer::from(output))
+pub fn compress_raw(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    let bytes = data.as_bytes();
+    py.allow_threads(|| snap::raw::Encoder::new().compress_vec(bytes))
+        .map_err(CompressionError::from_err)
+        .map(From::from)
 }
 
 /// Compress directly into an output buffer
 #[pyfunction]
-pub fn compress_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let r = internal::compress(input, &mut output)?;
-    Ok(r)
+pub fn compress_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    crate::generic!(py, internal::compress[input, output]).map_err(CompressionError::from_err)
 }
 
 /// Decompress directly into an output buffer
 #[pyfunction]
-pub fn decompress_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let r = internal::decompress(input, &mut output)?;
-    Ok(r as usize)
+pub fn decompress_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    crate::generic!(py, internal::decompress[input, output]).map_err(DecompressionError::from_err)
 }
 
 /// Compress raw format directly into an output buffer
 #[pyfunction]
-pub fn compress_raw_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let mut encoder = snap::raw::Encoder::new();
-    let output = encoder.compress(input.as_bytes(), output.as_bytes_mut());
-    to_py_err!(CompressionError -> output)
+pub fn compress_raw_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    let bytes_in = input.as_bytes();
+    let bytes_out = output.as_bytes_mut();
+    py.allow_threads(|| snap::raw::Encoder::new().compress(bytes_in, bytes_out))
+        .map_err(CompressionError::from_err)
 }
 
 /// Decompress raw format directly into an output buffer
 #[pyfunction]
-pub fn decompress_raw_into(input: BytesType, mut output: BytesType) -> PyResult<usize> {
-    let mut decoder = snap::raw::Decoder::new();
-    let output = decoder.decompress(input.as_bytes(), output.as_bytes_mut());
-    to_py_err!(DecompressionError -> output)
+pub fn decompress_raw_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    let bytes_in = input.as_bytes();
+    let bytes_out = output.as_bytes_mut();
+    py.allow_threads(|| snap::raw::Decoder::new().decompress(bytes_in, bytes_out))
+        .map_err(DecompressionError::from_err)
 }
 
 /// Get the expected max compressed length for snappy raw compression; this is the size
 /// of buffer that should be passed to `compress_raw_into`
 #[pyfunction]
 pub fn compress_raw_max_len(data: BytesType) -> usize {
     snap::raw::max_compress_len(data.len())
 }
 
 /// Get the decompressed length for the given data. This is the size of buffer
 /// that should be passed to `decompress_raw_into`
 #[pyfunction]
 pub fn decompress_raw_len(data: BytesType) -> PyResult<usize> {
-    to_py_err!(DecompressionError -> snap::raw::decompress_len(data.as_bytes()))
+    snap::raw::decompress_len(data.as_bytes()).map_err(DecompressionError::from_err)
 }
 
 /// Snappy Compressor object for streaming compression
 #[pyclass]
 pub struct Compressor {
     inner: Option<snap::write::FrameEncoder<Cursor<Vec<u8>>>>,
 }
@@ -152,25 +155,29 @@
     /// Consume the current compressor state and return the compressed stream
     /// **NB** The compressor will not be usable after this method is called.
     pub fn finish(&mut self) -> PyResult<RustyBuffer> {
         crate::io::stream_finish(&mut self.inner, |inner| inner.into_inner().map(|c| c.into_inner()))
     }
 }
 
+crate::make_decompressor!();
+
 pub(crate) mod internal {
     use snap::read::{FrameDecoder, FrameEncoder};
     use std::io::{Error, Read, Write};
 
     /// Decompress snappy data framed
+    #[inline(always)]
     pub fn decompress<W: Write + ?Sized, R: Read>(input: R, output: &mut W) -> Result<usize, Error> {
         let mut decoder = FrameDecoder::new(input);
         let n_bytes = std::io::copy(&mut decoder, output)?;
         Ok(n_bytes as usize)
     }
 
     /// Decompress snappy data framed
+    #[inline(always)]
     pub fn compress<W: Write + ?Sized, R: Read>(data: R, output: &mut W) -> Result<usize, Error> {
         let mut encoder = FrameEncoder::new(data);
         let n_bytes = std::io::copy(&mut encoder, output)?;
         Ok(n_bytes as usize)
     }
 }
```

### Comparing `cramjam-2.6.2/src/zstd.rs` & `cramjam-2.7.0rc1/src/bzip2.rs`

 * *Files 14% similar despite different names*

```diff
@@ -1,77 +1,79 @@
-//! zstd de/compression interface
+//! bzip2 de/compression interface
 use crate::exceptions::{CompressionError, DecompressionError};
 use crate::io::RustyBuffer;
-use crate::{to_py_err, BytesType};
+use crate::{AsBytes, BytesType};
 use pyo3::prelude::*;
 use pyo3::wrap_pyfunction;
 use pyo3::PyResult;
 use std::io::Cursor;
 
-const DEFAULT_COMPRESSION_LEVEL: i32 = 0;
+const DEFAULT_COMPRESSION_LEVEL: u32 = 6;
 
 pub(crate) fn init_py_module(m: &PyModule) -> PyResult<()> {
     m.add_function(wrap_pyfunction!(compress, m)?)?;
     m.add_function(wrap_pyfunction!(decompress, m)?)?;
     m.add_function(wrap_pyfunction!(compress_into, m)?)?;
     m.add_function(wrap_pyfunction!(decompress_into, m)?)?;
     m.add_class::<Compressor>()?;
+    m.add_class::<Decompressor>()?;
     Ok(())
 }
 
-/// ZSTD decompression.
+/// bzip2 decompression.
 ///
 /// Python Example
 /// --------------
 /// ```python
-/// >>> cramjam.zstd.decompress(compressed_bytes, output_len=Optional[int])
+/// >>> cramjam.bzip2.decompress(compressed_bytes, output_len=Optional[int])
 /// ```
 #[pyfunction]
-pub fn decompress(data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(decompress(data), output_len = output_len)
+pub fn decompress(py: Python, data: BytesType, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::decompress[data], output_len = output_len).map_err(DecompressionError::from_err)
 }
 
-/// ZSTD compression.
+/// bzip2 compression.
 ///
 /// Python Example
 /// --------------
 /// ```python
-/// >>> cramjam.zstd.compress(b'some bytes here', level=0, output_len=Optional[int])  # level defaults to 11
+/// >>> cramjam.bzip2.compress(b'some bytes here', level=6, output_len=Option[int])  # level defaults to 6
 /// ```
 #[pyfunction]
-pub fn compress(data: BytesType, level: Option<i32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
-    crate::generic!(compress(data), output_len = output_len, level = level)
+pub fn compress(py: Python, data: BytesType, level: Option<u32>, output_len: Option<usize>) -> PyResult<RustyBuffer> {
+    crate::generic!(py, internal::compress[data], output_len = output_len, level = level)
+        .map_err(CompressionError::from_err)
 }
 
 /// Compress directly into an output buffer
 #[pyfunction]
-pub fn compress_into(input: BytesType, mut output: BytesType, level: Option<i32>) -> PyResult<usize> {
-    let r = internal::compress(input, &mut output, level)?;
-    Ok(r)
+pub fn compress_into(py: Python, input: BytesType, mut output: BytesType, level: Option<u32>) -> PyResult<usize> {
+    crate::generic!(py, internal::compress[input, output], level = level).map_err(CompressionError::from_err)
 }
 
 /// Decompress directly into an output buffer
 #[pyfunction]
-pub fn decompress_into<'a>(_py: Python<'a>, input: BytesType<'a>, mut output: BytesType<'a>) -> PyResult<usize> {
-    let r = internal::decompress(input, &mut output)?;
-    Ok(r)
+pub fn decompress_into(py: Python, input: BytesType, mut output: BytesType) -> PyResult<usize> {
+    crate::generic!(py, internal::decompress[input, output]).map_err(DecompressionError::from_err)
 }
 
-/// ZSTD Compressor object for streaming compression
+/// bzip2 Compressor object for streaming compression
 #[pyclass]
 pub struct Compressor {
-    inner: Option<zstd::stream::write::Encoder<'static, Cursor<Vec<u8>>>>,
+    inner: Option<bzip2::write::BzEncoder<Cursor<Vec<u8>>>>,
 }
 
 #[pymethods]
 impl Compressor {
     /// Initialize a new `Compressor` instance.
     #[new]
-    pub fn __init__(level: Option<i32>) -> PyResult<Self> {
-        let inner = zstd::stream::write::Encoder::new(Cursor::new(vec![]), level.unwrap_or(DEFAULT_COMPRESSION_LEVEL))?;
+    pub fn __init__(level: Option<u32>) -> PyResult<Self> {
+        let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL);
+        let comp = bzip2::Compression::new(level);
+        let inner = bzip2::write::BzEncoder::new(Cursor::new(vec![]), comp);
         Ok(Self { inner: Some(inner) })
     }
 
     /// Compress input into the current compressor's stream.
     pub fn compress(&mut self, input: &[u8]) -> PyResult<usize> {
         crate::io::stream_compress(&mut self.inner, input)
     }
@@ -80,31 +82,37 @@
     pub fn flush(&mut self) -> PyResult<RustyBuffer> {
         crate::io::stream_flush(&mut self.inner, |e| e.get_mut())
     }
 
     /// Consume the current compressor state and return the compressed stream
     /// **NB** The compressor will not be usable after this method is called.
     pub fn finish(&mut self) -> PyResult<RustyBuffer> {
-        crate::io::stream_finish(&mut self.inner, |inner| inner.finish().map(|v| v.into_inner()))
+        crate::io::stream_finish(&mut self.inner, |inner| inner.finish().map(|c| c.into_inner()))
     }
 }
 
+crate::make_decompressor!();
+
 pub(crate) mod internal {
 
-    use crate::zstd::DEFAULT_COMPRESSION_LEVEL;
-    use std::io::{Error, Read, Write};
+    use super::DEFAULT_COMPRESSION_LEVEL;
+    use bzip2::read::{BzEncoder, MultiBzDecoder};
+    use std::io::prelude::*;
+    use std::io::Error;
 
-    /// Decompress gzip data
+    /// Decompress via bzip2
+    #[inline(always)]
     pub fn decompress<W: Write + ?Sized, R: Read>(input: R, output: &mut W) -> Result<usize, Error> {
-        let mut decoder = zstd::stream::read::Decoder::new(input)?;
+        let mut decoder = MultiBzDecoder::new(input);
         let n_bytes = std::io::copy(&mut decoder, output)?;
         Ok(n_bytes as usize)
     }
 
-    /// Compress gzip data
-    pub fn compress<W: Write + ?Sized, R: Read>(input: R, output: &mut W, level: Option<i32>) -> Result<usize, Error> {
-        let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL); // 0 will use zstd's default, currently 3
-        let mut encoder = zstd::stream::read::Encoder::new(input, level)?;
+    /// Compress via bzip2
+    #[inline(always)]
+    pub fn compress<W: Write + ?Sized, R: Read>(input: R, output: &mut W, level: Option<u32>) -> Result<usize, Error> {
+        let level = level.unwrap_or_else(|| DEFAULT_COMPRESSION_LEVEL);
+        let mut encoder = BzEncoder::new(input, bzip2::Compression::new(level));
         let n_bytes = std::io::copy(&mut encoder, output)?;
         Ok(n_bytes as usize)
     }
 }
```

### Comparing `cramjam-2.6.2/tests/data/integration/plaintext.txt` & `cramjam-2.7.0rc1/tests/data/integration/plaintext.txt`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/tests/data/integration/plaintext.txt.lz4` & `cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.lz4`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/tests/data/integration/plaintext.txt.snappy` & `cramjam-2.7.0rc1/tests/data/integration/plaintext.txt.snappy`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/tests/test_integration.py` & `cramjam-2.7.0rc1/tests/test_integration.py`

 * *Files 8% similar despite different names*

```diff
@@ -19,15 +19,17 @@
 def plaintext(integration_dir):
     return integration_dir.joinpath("plaintext.txt").read_bytes()
 
 
 Variant = namedtuple("Variant", ("name", "suffix"))
 
 
-@pytest.mark.skipif(sys.platform.startswith("win"), reason="Bytes comparison fails on windows")
+@pytest.mark.skipif(
+    sys.platform.startswith("win"), reason="Bytes comparison fails on windows"
+)
 @pytest.mark.parametrize(
     "variant",
     (
         Variant("gzip", "gz"),
         Variant("bzip2", "bz2"),
         Variant("zstd", "zst"),
         Variant("brotli", "br"),
```

### Comparing `cramjam-2.6.2/tests/test_no_numpy.py` & `cramjam-2.7.0rc1/tests/test_no_numpy.py`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/tests/test_rust_io.py` & `cramjam-2.7.0rc1/tests/test_rust_io.py`

 * *Files identical despite different names*

### Comparing `cramjam-2.6.2/tests/test_variants.py` & `cramjam-2.7.0rc1/tests/test_variants.py`

 * *Files 15% similar despite different names*

```diff
@@ -312,7 +312,28 @@
     # just empty bytes after the first .finish()
     # same behavior as brotli.Compressor()
     assert bytes(compressor.finish()) == b""
 
     # compress will raise an error as the stream is completed
     with pytest.raises(cramjam.CompressionError):
         compressor.compress(b"data")
+
+
+@pytest.mark.parametrize("variant_str", VARIANTS)
+def test_variants_stream_decompressors(variant_str):
+    variant = getattr(cramjam, variant_str)
+    Decompressor = getattr(variant, "Decompressor")
+    decompressor = Decompressor()
+
+    compressed = variant.compress(b"bytes")
+    for _ in range(2):
+        n_bytes = decompressor.decompress(bytes(compressed))
+        assert n_bytes == 5
+    assert bytes(decompressor.flush()) == b"bytesbytes"
+    assert bytes(decompressor.flush()) == b""
+
+    decompressor.decompress(bytes(compressed))
+    assert bytes(decompressor.finish()) == b"bytes"
+
+    # Calling .finish renders decompressor unusable after. (API consistency with other libs)
+    with pytest.raises(cramjam.DecompressionError):
+        decompressor.finish()
```

### Comparing `cramjam-2.6.2/Cargo.lock` & `cramjam-2.7.0rc1/Cargo.lock`

 * *Files 10% similar despite different names*

```diff
@@ -5,25 +5,14 @@
 [[package]]
 name = "adler"
 version = "1.0.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "f26201604c87b1e01bd3d98f8d5d9a8fcbb815e8cedb41ffccbeb4bf593a35fe"
 
 [[package]]
-name = "ahash"
-version = "0.7.6"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "fcb51a0695d8f838b1ee009b3fbf66bda078cd64590202a864a8f3e8c4315c47"
-dependencies = [
- "getrandom",
- "once_cell",
- "version_check",
-]
-
-[[package]]
 name = "alloc-no-stdlib"
 version = "2.0.4"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "cc7bb162ec39d46ab1ca8c77bf72e890535becd1751bb45f64c597edb4c8c6b3"
 
 [[package]]
 name = "alloc-stdlib"
@@ -55,27 +44,27 @@
  "alloc-no-stdlib",
  "alloc-stdlib",
  "brotli-decompressor",
 ]
 
 [[package]]
 name = "brotli-decompressor"
-version = "2.3.2"
+version = "2.3.4"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "59ad2d4653bf5ca36ae797b1f4bb4dbddb60ce49ca4aed8a2ce4829f60425b80"
+checksum = "4b6561fd3f895a11e8f72af2cb7d22e08366bebc2b6b57f7744c4bda27034744"
 dependencies = [
  "alloc-no-stdlib",
  "alloc-stdlib",
 ]
 
 [[package]]
 name = "bzip2"
-version = "0.4.3"
+version = "0.4.4"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "6afcd980b5f3a45017c57e57a2fcccbb351cc43a356ce117ef760ef8052b89b0"
+checksum = "bdb116a6ef3f6c3698828873ad02c3014b3c85cadb88496095628e3ef1e347f8"
 dependencies = [
  "bzip2-sys",
  "libc",
 ]
 
 [[package]]
 name = "bzip2-sys"
@@ -86,36 +75,35 @@
  "cc",
  "libc",
  "pkg-config",
 ]
 
 [[package]]
 name = "cc"
-version = "1.0.73"
+version = "1.0.79"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "2fff2a6927b3bb87f9595d67196a70493f627687a71d87a0d692242c33f58c11"
+checksum = "50d30906286121d95be3d479533b458f87493b30a4b5f79a607db8f5d11aa91f"
 dependencies = [
  "jobserver",
 ]
 
 [[package]]
 name = "cfg-if"
 version = "1.0.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd"
 
 [[package]]
 name = "cramjam"
-version = "2.6.2"
+version = "2.7.0-rc1"
 dependencies = [
  "brotli",
  "bzip2",
  "flate2",
  "lz4",
- "mimalloc",
  "numpy",
  "pyo3",
  "snap",
  "zstd",
 ]
 
 [[package]]
@@ -125,80 +113,58 @@
 checksum = "b540bd8bc810d3885c6ea91e2018302f68baba2129ab3e88f32389ee9370880d"
 dependencies = [
  "cfg-if",
 ]
 
 [[package]]
 name = "flate2"
-version = "1.0.23"
+version = "1.0.25"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "b39522e96686d38f4bc984b9198e3a0613264abaebaff2c5c918bfa6b6da09af"
+checksum = "a8a2db397cb1c8772f31494cb8917e48cd1e64f0fa7efac59fbd741a0a8ce841"
 dependencies = [
- "cfg-if",
  "crc32fast",
- "libc",
  "miniz_oxide",
 ]
 
 [[package]]
-name = "getrandom"
-version = "0.2.8"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "c05aeb6a22b8f62540c194aac980f2115af067bfe15a0734d7277a768d396b31"
-dependencies = [
- "cfg-if",
- "libc",
- "wasi",
-]
-
-[[package]]
 name = "indoc"
-version = "1.0.6"
+version = "1.0.9"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "05a0bd019339e5d968b37855180087b7b9d512c5046fbd244cf8c95687927d6e"
+checksum = "bfa799dd5ed20a7e349f3b4639aa80d74549c81716d9ec4f994c9b5815598306"
 
 [[package]]
 name = "jobserver"
-version = "0.1.24"
+version = "0.1.26"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "af25a77299a7f711a01975c35a6a424eb6862092cc2d6c72c4ed6cbc56dfc1fa"
+checksum = "936cfd212a0155903bcbc060e316fb6cc7cbf2e1907329391ebadc1fe0ce77c2"
 dependencies = [
  "libc",
 ]
 
 [[package]]
 name = "libc"
-version = "0.2.126"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "349d5a591cd28b49e1d1037471617a32ddcda5731b99419008085f72d5a53836"
-
-[[package]]
-name = "libmimalloc-sys"
-version = "0.1.25"
+version = "0.2.140"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "11ca136052550448f55df7898c6dbe651c6b574fe38a0d9ea687a9f8088a2e2c"
-dependencies = [
- "cc",
-]
+checksum = "99227334921fae1a979cf0bfdfcc6b3e5ce376ef57e16fb6fb3ea2ed6095f80c"
 
 [[package]]
 name = "lock_api"
-version = "0.4.7"
+version = "0.4.9"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "327fa5b6a6940e4699ec49a9beae1ea4845c6bab9314e4f84ac68742139d8c53"
+checksum = "435011366fe56583b16cf956f9df0095b405b82d76425bc8981c0e22e60ec4df"
 dependencies = [
  "autocfg",
  "scopeguard",
 ]
 
 [[package]]
 name = "lz4"
-version = "1.23.3"
+version = "1.24.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "4edcb94251b1c375c459e5abe9fb0168c1c826c3370172684844f8f3f8d1a885"
+checksum = "7e9e2dd86df36ce760a60f6ff6ad526f7ba1f14ba0356f8254fb6905e6494df1"
 dependencies = [
  "libc",
  "lz4-sys",
 ]
 
 [[package]]
 name = "lz4-sys"
@@ -217,57 +183,48 @@
 checksum = "add85d4dd35074e6fedc608f8c8f513a3548619a9024b751949ef0e8e45a4d84"
 dependencies = [
  "rawpointer",
 ]
 
 [[package]]
 name = "memoffset"
-version = "0.6.5"
+version = "0.8.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "5aa361d4faea93603064a027415f07bd8e1d5c88c9fbf68bf56a285428fd79ce"
+checksum = "d61c719bcfbcf5d62b3a09efa6088de8c54bc0bfcd3ea7ae39fcc186108b8de1"
 dependencies = [
  "autocfg",
 ]
 
 [[package]]
-name = "mimalloc"
-version = "0.1.29"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "2f64ad83c969af2e732e907564deb0d0ed393cec4af80776f77dd77a1a427698"
-dependencies = [
- "libmimalloc-sys",
-]
-
-[[package]]
 name = "miniz_oxide"
-version = "0.5.1"
+version = "0.6.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "d2b29bd4bc3f33391105ebee3589c19197c4271e3e5a9ec9bfe8127eeff8f082"
+checksum = "b275950c28b37e794e8c55d88aeb5e139d0ce23fdbbeda68f8d7174abdf9e8fa"
 dependencies = [
  "adler",
 ]
 
 [[package]]
 name = "ndarray"
-version = "0.15.4"
+version = "0.15.6"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "dec23e6762830658d2b3d385a75aa212af2f67a4586d4442907144f3bb6a1ca8"
+checksum = "adb12d4e967ec485a5f71c6311fe28158e9d6f4bc4a447b474184d0f91a8fa32"
 dependencies = [
  "matrixmultiply",
  "num-complex",
  "num-integer",
  "num-traits",
  "rawpointer",
 ]
 
 [[package]]
 name = "num-complex"
-version = "0.4.1"
+version = "0.4.3"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "97fbc387afefefd5e9e39493299f3069e14a140dd34dc19b4c1c1a8fddb6a790"
+checksum = "02e0d21255c828d6f128a1e41534206671e8c3ea0c62f32291e808dc82cff17d"
 dependencies = [
  "num-traits",
 ]
 
 [[package]]
 name = "num-integer"
 version = "0.1.45"
@@ -285,256 +242,273 @@
 checksum = "578ede34cf02f8924ab9447f50c28075b4d3e5b269972345e7e0372b38c6cdcd"
 dependencies = [
  "autocfg",
 ]
 
 [[package]]
 name = "numpy"
-version = "0.17.2"
+version = "0.18.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "a462c1af5ba1fddec1488c4646993a23ae7931f9e170ccba23e9c7c834277797"
+checksum = "96b0fee4571867d318651c24f4a570c3f18408cf95f16ccb576b3ce85496a46e"
 dependencies = [
- "ahash",
  "libc",
  "ndarray",
  "num-complex",
  "num-integer",
  "num-traits",
  "pyo3",
+ "rustc-hash",
 ]
 
 [[package]]
 name = "once_cell"
-version = "1.10.0"
+version = "1.17.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "87f3e037eac156d1775da914196f0f37741a274155e34a0b7e427c35d2a2ecb9"
+checksum = "b7e5500299e16ebb147ae15a00a942af264cf3688f47923b8fc2cd5858f23ad3"
 
 [[package]]
 name = "parking_lot"
-version = "0.12.0"
+version = "0.12.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "87f5ec2493a61ac0506c0f4199f99070cbe83857b0337006a30f3e6719b8ef58"
+checksum = "3742b2c103b9f06bc9fff0a37ff4912935851bee6d36f3c02bcc755bcfec228f"
 dependencies = [
  "lock_api",
  "parking_lot_core",
 ]
 
 [[package]]
 name = "parking_lot_core"
-version = "0.9.3"
+version = "0.9.7"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "09a279cbf25cb0757810394fbc1e359949b59e348145c643a939a525692e6929"
+checksum = "9069cbb9f99e3a5083476ccb29ceb1de18b9118cafa53e90c9551235de2b9521"
 dependencies = [
  "cfg-if",
  "libc",
  "redox_syscall",
  "smallvec",
  "windows-sys",
 ]
 
 [[package]]
 name = "pkg-config"
-version = "0.3.25"
+version = "0.3.26"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "1df8c4ec4b0627e53bdf214615ad287367e482558cf84b109250b37464dc03ae"
+checksum = "6ac9a59f73473f1b8d852421e59e64809f025994837ef743615c6d0c5b305160"
 
 [[package]]
 name = "proc-macro2"
-version = "1.0.39"
+version = "1.0.53"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "c54b25569025b7fc9651de43004ae593a75ad88543b17178aa5e1b9c4f15f56f"
+checksum = "ba466839c78239c09faf015484e5cc04860f88242cff4d03eb038f04b4699b73"
 dependencies = [
  "unicode-ident",
 ]
 
 [[package]]
 name = "pyo3"
-version = "0.17.3"
+version = "0.18.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "268be0c73583c183f2b14052337465768c07726936a260f480f0857cb95ba543"
+checksum = "06a3d8e8a46ab2738109347433cb7b96dffda2e4a218b03ef27090238886b147"
 dependencies = [
  "cfg-if",
  "indoc",
  "libc",
  "memoffset",
  "parking_lot",
  "pyo3-build-config",
  "pyo3-ffi",
  "pyo3-macros",
  "unindent",
 ]
 
 [[package]]
 name = "pyo3-build-config"
-version = "0.17.3"
+version = "0.18.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "28fcd1e73f06ec85bf3280c48c67e731d8290ad3d730f8be9dc07946923005c8"
+checksum = "75439f995d07ddfad42b192dfcf3bc66a7ecfd8b4a1f5f6f046aa5c2c5d7677d"
 dependencies = [
  "once_cell",
  "target-lexicon",
 ]
 
 [[package]]
 name = "pyo3-ffi"
-version = "0.17.3"
+version = "0.18.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "0f6cb136e222e49115b3c51c32792886defbfb0adead26a688142b346a0b9ffc"
+checksum = "839526a5c07a17ff44823679b68add4a58004de00512a95b6c1c98a6dcac0ee5"
 dependencies = [
  "libc",
  "pyo3-build-config",
 ]
 
 [[package]]
 name = "pyo3-macros"
-version = "0.17.3"
+version = "0.18.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "94144a1266e236b1c932682136dc35a9dee8d3589728f68130c7c3861ef96b28"
+checksum = "bd44cf207476c6a9760c4653559be4f206efafb924d3e4cbf2721475fc0d6cc5"
 dependencies = [
  "proc-macro2",
  "pyo3-macros-backend",
  "quote",
  "syn",
 ]
 
 [[package]]
 name = "pyo3-macros-backend"
-version = "0.17.3"
+version = "0.18.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "c8df9be978a2d2f0cdebabb03206ed73b11314701a5bfe71b0d753b81997777f"
+checksum = "dc1f43d8e30460f36350d18631ccf85ded64c059829208fe680904c65bcd0a4c"
 dependencies = [
  "proc-macro2",
  "quote",
  "syn",
 ]
 
 [[package]]
 name = "quote"
-version = "1.0.18"
+version = "1.0.26"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "a1feb54ed693b93a84e14094943b84b7c4eae204c512b7ccb95ab0c66d278ad1"
+checksum = "4424af4bf778aae2051a77b60283332f386554255d722233d09fbfc7e30da2fc"
 dependencies = [
  "proc-macro2",
 ]
 
 [[package]]
 name = "rawpointer"
 version = "0.2.1"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "60a357793950651c4ed0f3f52338f53b2f809f32d83a07f72909fa13e4c6c1e3"
 
 [[package]]
 name = "redox_syscall"
-version = "0.2.13"
+version = "0.2.16"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "62f25bc4c7e55e0b0b7a1d43fb893f4fa1361d0abe38b9ce4f323c2adfe6ef42"
+checksum = "fb5a58c1855b4b6819d59012155603f0b22ad30cad752600aadfcb695265519a"
 dependencies = [
  "bitflags",
 ]
 
 [[package]]
+name = "rustc-hash"
+version = "1.1.0"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "08d43f7aa6b08d49f382cde6a7982047c3426db949b1424bc4b7ec9ae12c6ce2"
+
+[[package]]
 name = "scopeguard"
 version = "1.1.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "d29ab0c6d3fc0ee92fe66e2d99f700eab17a8d57d1c1d3b748380fb20baa78cd"
 
 [[package]]
 name = "smallvec"
-version = "1.8.0"
+version = "1.10.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "f2dd574626839106c320a323308629dcb1acfc96e32a8cba364ddc61ac23ee83"
+checksum = "a507befe795404456341dfab10cef66ead4c041f62b8b11bbb92bffe5d0953e0"
 
 [[package]]
 name = "snap"
-version = "1.0.5"
+version = "1.1.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "45456094d1983e2ee2a18fdfebce3189fa451699d0502cb8e3b49dba5ba41451"
+checksum = "5e9f0ab6ef7eb7353d9119c170a436d1bf248eea575ac42d19d12f4e34130831"
 
 [[package]]
 name = "syn"
-version = "1.0.95"
+version = "1.0.109"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "fbaf6116ab8924f39d52792136fb74fd60a80194cf1b1c6ffa6453eef1c3f942"
+checksum = "72b64191b275b66ffe2469e8af2c1cfe3bafa67b529ead792a6d0160888b4237"
 dependencies = [
  "proc-macro2",
  "quote",
  "unicode-ident",
 ]
 
 [[package]]
 name = "target-lexicon"
-version = "0.12.3"
+version = "0.12.6"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "d7fa7e55043acb85fca6b3c01485a2eeb6b69c5d21002e273c79e465f43b7ac1"
+checksum = "8ae9980cab1db3fceee2f6c6f643d5d8de2997c58ee8d25fb0cc8a9e9e7348e5"
 
 [[package]]
 name = "unicode-ident"
-version = "1.0.0"
+version = "1.0.8"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "d22af068fba1eb5edcb4aea19d382b2a3deb4c8f9d475c589b6ada9e0fd493ee"
+checksum = "e5464a87b239f13a63a501f2701565754bae92d243d4bb7eb12f6d57d2269bf4"
 
 [[package]]
 name = "unindent"
-version = "0.1.9"
+version = "0.1.11"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "52fee519a3e570f7df377a06a1a7775cdbfb7aa460be7e08de2b1f0e69973a44"
+checksum = "e1766d682d402817b5ac4490b3c3002d91dfa0d22812f341609f97b08757359c"
 
 [[package]]
-name = "version_check"
-version = "0.9.4"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "49874b5167b65d7193b8aba1567f5c7d93d001cafc34600cee003eda787e483f"
-
-[[package]]
-name = "wasi"
-version = "0.11.0+wasi-snapshot-preview1"
+name = "windows-sys"
+version = "0.45.0"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "9c8d87e72b64a3b4db28d11ce29237c246188f4f51057d65a7eab63b7987e423"
+checksum = "75283be5efb2831d37ea142365f009c02ec203cd29a3ebecbc093d52315b66d0"
+dependencies = [
+ "windows-targets",
+]
 
 [[package]]
-name = "windows-sys"
-version = "0.36.1"
+name = "windows-targets"
+version = "0.42.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "ea04155a16a59f9eab786fe12a4a450e75cdb175f9e0d80da1e17db09f55b8d2"
+checksum = "8e5180c00cd44c9b1c88adb3693291f1cd93605ded80c250a75d472756b4d071"
 dependencies = [
+ "windows_aarch64_gnullvm",
  "windows_aarch64_msvc",
  "windows_i686_gnu",
  "windows_i686_msvc",
  "windows_x86_64_gnu",
+ "windows_x86_64_gnullvm",
  "windows_x86_64_msvc",
 ]
 
 [[package]]
+name = "windows_aarch64_gnullvm"
+version = "0.42.2"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "597a5118570b68bc08d8d59125332c54f1ba9d9adeedeef5b99b02ba2b0698f8"
+
+[[package]]
 name = "windows_aarch64_msvc"
-version = "0.36.1"
+version = "0.42.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "9bb8c3fd39ade2d67e9874ac4f3db21f0d710bee00fe7cab16949ec184eeaa47"
+checksum = "e08e8864a60f06ef0d0ff4ba04124db8b0fb3be5776a5cd47641e942e58c4d43"
 
 [[package]]
 name = "windows_i686_gnu"
-version = "0.36.1"
+version = "0.42.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "180e6ccf01daf4c426b846dfc66db1fc518f074baa793aa7d9b9aaeffad6a3b6"
+checksum = "c61d927d8da41da96a81f029489353e68739737d3beca43145c8afec9a31a84f"
 
 [[package]]
 name = "windows_i686_msvc"
-version = "0.36.1"
+version = "0.42.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "e2e7917148b2812d1eeafaeb22a97e4813dfa60a3f8f78ebe204bcc88f12f024"
+checksum = "44d840b6ec649f480a41c8d80f9c65108b92d89345dd94027bfe06ac444d1060"
 
 [[package]]
 name = "windows_x86_64_gnu"
-version = "0.36.1"
+version = "0.42.2"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "8de912b8b8feb55c064867cf047dda097f92d51efad5b491dfb98f6bbb70cb36"
+
+[[package]]
+name = "windows_x86_64_gnullvm"
+version = "0.42.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "4dcd171b8776c41b97521e5da127a2d86ad280114807d0b2ab1e462bc764d9e1"
+checksum = "26d41b46a36d453748aedef1486d5c7a85db22e56aff34643984ea85514e94a3"
 
 [[package]]
 name = "windows_x86_64_msvc"
-version = "0.36.1"
+version = "0.42.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "c811ca4a8c853ef420abd8592ba53ddbbac90410fab6903b3e79972a631f7680"
+checksum = "9aec5da331524158c6d1a4ac0ab1541149c0b9505fde06423b02f5ef0106b9f0"
 
 [[package]]
 name = "zstd"
 version = "0.11.2+zstd.1.5.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "20cc960326ece64f010d2d2107537f26dc589a6573a316bd5b1dba685fa5fde4"
 dependencies = [
@@ -549,14 +523,15 @@
 dependencies = [
  "libc",
  "zstd-sys",
 ]
 
 [[package]]
 name = "zstd-sys"
-version = "2.0.1+zstd.1.5.2"
+version = "2.0.7+zstd.1.5.4"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "9fd07cbbc53846d9145dbffdf6dd09a7a0aa52be46741825f5c97bdd4f73f12b"
+checksum = "94509c3ba2fe55294d752b79842c530ccfab760192521df74a081a78d2b3c7f5"
 dependencies = [
  "cc",
  "libc",
+ "pkg-config",
 ]
```

### Comparing `cramjam-2.6.2/PKG-INFO` & `cramjam-2.7.0rc1/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,21 +1,21 @@
 Metadata-Version: 2.1
 Name: cramjam
-Version: 2.6.2
+Version: 2.7.0rc1
 License-File: LICENSE
 Summary: Thin Python bindings to de/compression algorithms in Rust
 Keywords: compression,decompression,snappy,zstd,bz2,gzip,lz4,brotli,deflate
 Author: Miles Granger <miles59923@gmail.com>
 Author-email: Miles Granger <miles59923@gmail.com>
 License: MIT
 Requires-Python: >=3.7
 Description-Content-Type: text/markdown; charset=UTF-8; variant=GFM
+Project-URL: documentation, https://docs.rs/cramjam/latest/cramjam
 Project-URL: repository, https://github.com/milesgranger/pyrus-cramjam
 Project-URL: homepage, https://github.com/milesgranger/pyrus-cramjam
-Project-URL: documentation, https://docs.rs/cramjam/latest/cramjam
 
 # pyrus-cramjam
 
 [![Code Style](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/python/black)
 [![CI](https://github.com/milesgranger/pyrus-cramjam/workflows/CI/badge.svg?branch=master)](https://github.com/milesgranger/pyrus-cramjam/actions?query=branch=master)
 [![PyPI](https://img.shields.io/pypi/v/cramjam.svg)](https://pypi.org/project/cramjam)
 [![Anaconda-Server Badge](https://anaconda.org/conda-forge/cramjam/badges/version.svg)](https://anaconda.org/conda-forge/cramjam)
```

